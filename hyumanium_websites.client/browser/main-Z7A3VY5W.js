import{a as se,b as ht,c as S0,e as $o}from"./chunk-6MDQTQU3.js";function sw(n,e){return Object.is(n,e)}var Rn=null,Vu=!1,zu=1,oo=Symbol("SIGNAL");function Bt(n){let e=Rn;return Rn=n,e}function aw(){return Rn}var Il={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function T0(n){if(Vu)throw new Error("");if(Rn===null)return;Rn.consumerOnSignalRead(n);let e=Rn.nextProducerIndex++;if(Wu(Rn),e<Rn.producerNode.length&&Rn.producerNode[e]!==n&&El(Rn)){let t=Rn.producerNode[e];Gu(t,Rn.producerIndexOfThis[e])}Rn.producerNode[e]!==n&&(Rn.producerNode[e]=n,Rn.producerIndexOfThis[e]=El(Rn)?uw(n,Rn,e):0),Rn.producerLastReadVersion[e]=n.version}function gO(){zu++}function cw(n){if(!(El(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zu)){if(!n.producerMustRecompute(n)&&!A0(n)){n.dirty=!1,n.lastCleanEpoch=zu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=zu}}function lw(n){if(n.liveConsumerNode===void 0)return;let e=Vu;Vu=!0;try{for(let t of n.liveConsumerNode)t.dirty||vO(t)}finally{Vu=e}}function dw(){return Rn?.consumerAllowSignalWrites!==!1}function vO(n){n.dirty=!0,lw(n),n.consumerMarkedDirty?.(n)}function ju(n){return n&&(n.nextProducerIndex=0),Bt(n)}function D0(n,e){if(Bt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(El(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Gu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function A0(n){Wu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(cw(t),i!==t.version))return!0}return!1}function P0(n){if(Wu(n),El(n))for(let e=0;e<n.producerNode.length;e++)Gu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function uw(n,e,t){if(hw(n),n.liveConsumerNode.length===0&&fw(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=uw(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Gu(n,e){if(hw(n),n.liveConsumerNode.length===1&&fw(n))for(let i=0;i<n.producerNode.length;i++)Gu(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Wu(r),r.producerIndexOfThis[i]=e}}function El(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Wu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function hw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function fw(n){return n.producerNode!==void 0}function pw(n){let e=Object.create(_O);e.computation=n;let t=()=>{if(cw(e),T0(e),e.value===Hu)throw e.error;return e.value};return t[oo]=e,t}var E0=Symbol("UNSET"),I0=Symbol("COMPUTING"),Hu=Symbol("ERRORED"),_O=ht(se({},Il),{value:E0,dirty:!0,error:null,equal:sw,producerMustRecompute(n){return n.value===E0||n.value===I0},producerRecomputeValue(n){if(n.value===I0)throw new Error("Detected cycle in computations.");let e=n.value;n.value=I0;let t=ju(n),i;try{i=n.computation()}catch(r){i=Hu,n.error=r}finally{D0(n,t)}if(e!==E0&&e!==Hu&&i!==Hu&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function bO(){throw new Error}var mw=bO;function gw(){mw()}function vw(n){mw=n}var yO=null;function _w(n){let e=Object.create(yw);e.value=n;let t=()=>(T0(e),e.value);return t[oo]=e,t}function O0(n,e){dw()||gw(),n.equal(n.value,e)||(n.value=e,xO(n))}function bw(n,e){dw()||gw(),O0(n,e(n.value))}var yw=ht(se({},Il),{equal:sw,value:void 0});function xO(n){n.version++,gO(),lw(n),yO?.()}function qe(n){return typeof n=="function"}function Za(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $u=Za(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ys(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var sn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(qe(i))try{i()}catch(o){e=o instanceof $u?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{xw(o)}catch(s){e=e??[],s instanceof $u?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $u(e)}}add(e){var t;if(e&&e!==this)if(this.closed)xw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ys(t,e)}remove(e){let{_finalizers:t}=this;t&&Ys(t,e),e instanceof n&&e._removeParent(this)}};sn.EMPTY=(()=>{let n=new sn;return n.closed=!0,n})();var R0=sn.EMPTY;function qu(n){return n instanceof sn||n&&"closed"in n&&qe(n.remove)&&qe(n.add)&&qe(n.unsubscribe)}function xw(n){qe(n)?n():n.unsubscribe()}var dr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ka={setTimeout(n,e,...t){let{delegate:i}=Ka;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ka;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Yu(n){Ka.setTimeout(()=>{let{onUnhandledError:e}=dr;if(e)e(n);else throw n})}function Tl(){}var Mw=k0("C",void 0,void 0);function ww(n){return k0("E",void 0,n)}function Cw(n){return k0("N",n,void 0)}function k0(n,e,t){return{kind:n,value:e,error:t}}var Xs=null;function Qa(n){if(dr.useDeprecatedSynchronousErrorHandling){let e=!Xs;if(e&&(Xs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Xs;if(Xs=null,t)throw i}}else n()}function Sw(n){dr.useDeprecatedSynchronousErrorHandling&&Xs&&(Xs.errorThrown=!0,Xs.error=n)}var Zs=class extends sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qu(e)&&e.add(this)):this.destination=CO}static create(e,t,i){return new Ja(e,t,i)}next(e){this.isStopped?F0(Cw(e),this):this._next(e)}error(e){this.isStopped?F0(ww(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?F0(Mw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MO=Function.prototype.bind;function N0(n,e){return MO.call(n,e)}var L0=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Xu(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Xu(i)}else Xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xu(t)}}},Ja=class extends Zs{constructor(e,t,i){super();let r;if(qe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&dr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&N0(e.next,o),error:e.error&&N0(e.error,o),complete:e.complete&&N0(e.complete,o)}):r=e}this.destination=new L0(r)}};function Xu(n){dr.useDeprecatedSynchronousErrorHandling?Sw(n):Yu(n)}function wO(n){throw n}function F0(n,e){let{onStoppedNotification:t}=dr;t&&Ka.setTimeout(()=>t(n,e))}var CO={closed:!0,next:Tl,error:wO,complete:Tl};var ec=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ti(n){return n}function B0(...n){return U0(n)}function U0(n){return n.length===0?Ti:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=EO(t)?t:new Ja(t,i,r);return Qa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Ew(i),new i((r,o)=>{let s=new Ja({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[ec](){return this}pipe(...t){return U0(t)(this)}toPromise(t){return t=Ew(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Ew(n){var e;return(e=n??dr.Promise)!==null&&e!==void 0?e:Promise}function SO(n){return n&&qe(n.next)&&qe(n.error)&&qe(n.complete)}function EO(n){return n&&n instanceof Zs||SO(n)&&qu(n)}function V0(n){return qe(n?.lift)}function xt(n){return e=>{if(V0(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(n,e,t,i,r){return new z0(n,e,t,i,r)}var z0=class extends Zs{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function tc(){return xt((n,e)=>{let t=null;n._refCount++;let i=ft(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var nc=class extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,V0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new sn;let t=this.getSubject();e.add(this.source.subscribe(ft(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=sn.EMPTY)}return e}refCount(){return tc()(this)}};var Iw=Za(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Gt=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Zu(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Iw}next(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?R0:(this.currentObservers=null,o.push(t),new sn(()=>{this.currentObservers=null,Ys(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new lt;return t.source=this,t}}return n.create=(e,t)=>new Zu(e,t),n})(),Zu=class extends Gt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:R0}};var Cn=class extends Gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var H0={now(){return(H0.delegate||Date).now()},delegate:void 0};var Ku=class extends sn{constructor(e,t){super()}schedule(e,t=0){return this}};var Dl={setInterval(n,e,...t){let{delegate:i}=Dl;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Dl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Qu=class extends Ku{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Dl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Dl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ys(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ic=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};ic.now=H0.now;var Ju=class extends ic{constructor(e,t=ic.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Al=new Ju(Qu),Tw=Al;var ii=new lt(n=>n.complete());function eh(n){return n&&qe(n.schedule)}function j0(n){return n[n.length-1]}function th(n){return qe(j0(n))?n.pop():void 0}function kr(n){return eh(j0(n))?n.pop():void 0}function Dw(n,e){return typeof j0(n)=="number"?n.pop():e}function Pw(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(u){s(u)}}function c(d){try{l(i.throw(d))}catch(u){s(u)}}function l(d){d.done?o(d.value):r(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function Aw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ks(n){return this instanceof Ks?(this.v=n,this):new Ks(n)}function Ow(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(v){return Promise.resolve(v).then(f,u)}}function a(f,v){i[f]&&(r[f]=function(b){return new Promise(function(_,m){o.push([f,b,_,m])>1||c(f,b)})},v&&(r[f]=v(r[f])))}function c(f,v){try{l(i[f](v))}catch(b){h(o[0][3],b)}}function l(f){f.value instanceof Ks?Promise.resolve(f.value.v).then(d,u):h(o[0][2],f)}function d(f){c("next",f)}function u(f){c("throw",f)}function h(f,v){f(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Rw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Aw=="function"?Aw(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var rc=n=>n&&typeof n.length=="number"&&typeof n!="function";function nh(n){return qe(n?.then)}function ih(n){return qe(n[ec])}function rh(n){return Symbol.asyncIterator&&qe(n?.[Symbol.asyncIterator])}function oh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sh=IO();function ah(n){return qe(n?.[sh])}function ch(n){return Ow(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Ks(t.read());if(r)return yield Ks(void 0);yield yield Ks(i)}}finally{t.releaseLock()}})}function lh(n){return qe(n?.getReader)}function an(n){if(n instanceof lt)return n;if(n!=null){if(ih(n))return TO(n);if(rc(n))return DO(n);if(nh(n))return AO(n);if(rh(n))return kw(n);if(ah(n))return PO(n);if(lh(n))return OO(n)}throw oh(n)}function TO(n){return new lt(e=>{let t=n[ec]();if(qe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DO(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function AO(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Yu)})}function PO(n){return new lt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function kw(n){return new lt(e=>{RO(n,e).catch(t=>e.error(t))})}function OO(n){return kw(ch(n))}function RO(n,e){var t,i,r,o;return Pw(this,void 0,void 0,function*(){try{for(t=Rw(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function gi(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function dh(n,e=0){return xt((t,i)=>{t.subscribe(ft(i,r=>gi(i,n,()=>i.next(r),e),()=>gi(i,n,()=>i.complete(),e),r=>gi(i,n,()=>i.error(r),e)))})}function uh(n,e=0){return xt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Nw(n,e){return an(n).pipe(uh(e),dh(e))}function Fw(n,e){return an(n).pipe(uh(e),dh(e))}function Lw(n,e){return new lt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Bw(n,e){return new lt(t=>{let i;return gi(t,e,()=>{i=n[sh](),gi(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>qe(i?.return)&&i.return()})}function hh(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{gi(t,e,()=>{let i=n[Symbol.asyncIterator]();gi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Uw(n,e){return hh(ch(n),e)}function Vw(n,e){if(n!=null){if(ih(n))return Nw(n,e);if(rc(n))return Lw(n,e);if(nh(n))return Fw(n,e);if(rh(n))return hh(n,e);if(ah(n))return Bw(n,e);if(lh(n))return Uw(n,e)}throw oh(n)}function tn(n,e){return e?Vw(n,e):an(n)}function Ye(...n){let e=kr(n);return tn(n,e)}function oc(n,e){let t=qe(n)?n:()=>n,i=r=>r.error(t());return new lt(e?r=>e.schedule(i,0,r):i)}function fh(n){return!!n&&(n instanceof lt||qe(n.lift)&&qe(n.subscribe))}var so=Za(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zw(n){return n instanceof Date&&!isNaN(n)}function ot(n,e){return xt((t,i)=>{let r=0;t.subscribe(ft(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:kO}=Array;function NO(n,e){return kO(e)?n(...e):n(e)}function sc(n){return ot(e=>NO(n,e))}var{isArray:FO}=Array,{getPrototypeOf:LO,prototype:BO,keys:UO}=Object;function ph(n){if(n.length===1){let e=n[0];if(FO(e))return{args:e,keys:null};if(VO(e)){let t=UO(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function VO(n){return n&&typeof n=="object"&&LO(n)===BO}function mh(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Qs(...n){let e=kr(n),t=th(n),{args:i,keys:r}=ph(n);if(i.length===0)return tn([],e);let o=new lt(zO(i,e,r?s=>mh(r,s):Ti));return t?o.pipe(sc(t)):o}function zO(n,e,t=Ti){return i=>{Hw(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Hw(e,()=>{let l=tn(n[c],e),d=!1;l.subscribe(ft(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Hw(n,e,t){n?gi(t,n,e):e()}function jw(n,e,t,i,r,o,s,a){let c=[],l=0,d=0,u=!1,h=()=>{u&&!c.length&&!l&&e.complete()},f=b=>l<i?v(b):c.push(b),v=b=>{o&&e.next(b),l++;let _=!1;an(t(b,d++)).subscribe(ft(e,m=>{r?.(m),o?f(m):e.next(m)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<i;){let m=c.shift();s?gi(e,s,()=>v(m)):v(m)}h()}catch(m){e.error(m)}}))};return n.subscribe(ft(e,f,()=>{u=!0,h()})),()=>{a?.()}}function yn(n,e,t=1/0){return qe(e)?yn((i,r)=>ot((o,s)=>e(i,o,r,s))(an(n(i,r))),t):(typeof e=="number"&&(t=e),xt((i,r)=>jw(i,r,n,t)))}function qo(n=1/0){return yn(Ti,n)}function Gw(){return qo(1)}function Yo(...n){return Gw()(tn(n,kr(n)))}function gh(n){return new lt(e=>{an(n()).subscribe(e)})}function G0(...n){let e=th(n),{args:t,keys:i}=ph(n),r=new lt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let u=!1;an(t[d]).subscribe(ft(o,h=>{u||(u=!0,l--),a[d]=h},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?mh(i,a):a),o.complete())}))}});return e?r.pipe(sc(e)):r}var HO=["addListener","removeListener"],jO=["addEventListener","removeEventListener"],GO=["on","off"];function Pl(n,e,t,i){if(qe(t)&&(i=t,t=void 0),i)return Pl(n,e,t).pipe(sc(i));let[r,o]=qO(n)?jO.map(s=>a=>n[s](e,a,t)):WO(n)?HO.map(Ww(n,e)):$O(n)?GO.map(Ww(n,e)):[];if(!r&&rc(n))return yn(s=>Pl(s,e,t))(an(n));if(!r)throw new TypeError("Invalid event target");return new lt(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function Ww(n,e){return t=>i=>n[t](e,i)}function WO(n){return qe(n.addListener)&&qe(n.removeListener)}function $O(n){return qe(n.on)&&qe(n.off)}function qO(n){return qe(n.addEventListener)&&qe(n.removeEventListener)}function $w(n=0,e,t=Tw){let i=-1;return e!=null&&(eh(e)?t=e:i=e),new lt(r=>{let o=zw(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function W0(...n){let e=kr(n),t=Dw(n,1/0),i=n;return i.length?i.length===1?an(i[0]):qo(t)(tn(i,e)):ii}function xn(n,e){return xt((t,i)=>{let r=0;t.subscribe(ft(i,o=>n.call(e,o,r++)&&i.next(o)))})}function qw(n){return xt((e,t)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ft(t,l=>{i=!0,r=l,o||an(n(l)).subscribe(o=ft(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}function vh(n,e=Al){return qw(()=>$w(n,e))}function Xo(n){return xt((e,t)=>{let i=null,r=!1,o;i=e.subscribe(ft(t,void 0,void 0,s=>{o=an(n(s,Xo(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Yw(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(ft(s,d=>{let u=l++;c=a?n(c,d,u):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function ao(n,e){return qe(e)?yn(n,e,1):yn(n,1)}function $0(n,e=Al){return xt((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+n,d=e.now();if(d<l){r=this.schedule(void 0,l-d),i.add(r);return}a()}t.subscribe(ft(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Zo(n){return xt((e,t)=>{let i=!1;e.subscribe(ft(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ur(n){return n<=0?()=>ii:xt((e,t)=>{let i=0;e.subscribe(ft(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function q0(n){return ot(()=>n)}function _h(n=YO){return xt((e,t)=>{let i=!1;e.subscribe(ft(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function YO(){return new so}function Ko(n){return xt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Nr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?xn((r,o)=>n(r,o,i)):Ti,ur(1),t?Zo(e):_h(()=>new so))}function ac(n){return n<=0?()=>ii:xt((e,t)=>{let i=[];e.subscribe(ft(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Y0(n,e){let t=arguments.length>=2;return i=>i.pipe(n?xn((r,o)=>n(r,o,i)):Ti,ac(1),t?Zo(e):_h(()=>new so))}function X0(n,e){return xt(Yw(n,e,arguments.length>=2,!0))}function Z0(n){return xn((e,t)=>n<=t)}function cc(...n){let e=kr(n);return xt((t,i)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(i)})}function ri(n,e){return xt((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(ft(i,c=>{r?.unsubscribe();let l=0,d=o++;an(n(c,d)).subscribe(r=ft(i,u=>i.next(e?e(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Qo(n){return xt((e,t)=>{an(n).subscribe(ft(t,()=>t.complete(),Tl)),!t.closed&&e.subscribe(t)})}function mn(n,e,t){let i=qe(n)||e||t?{next:n,error:e,complete:t}:n;return i?xt((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(ft(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Ti}var FC="https://g.co/ng/security#xss",ue=class extends Error{constructor(e,t){super(sf(e,t)),this.code=e}};function sf(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function jl(n){return{toString:n}.toString()}var bh="__parameters__";function XO(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function LC(n,e,t){return jl(()=>{let i=XO(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,d){let u=c.hasOwnProperty(bh)?c[bh]:Object.defineProperty(c,bh,{value:[]})[bh];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Wn=globalThis;function nn(n){for(let e in n)if(n[e]===nn)return e;throw Error("Could not find renamed property on target object.")}function ZO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function si(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(si).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function uv(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var KO=nn({__forward_ref__:nn});function bi(n){return n.__forward_ref__=bi,n.toString=function(){return si(this())},n}function oi(n){return BC(n)?n():n}function BC(n){return typeof n=="function"&&n.hasOwnProperty(KO)&&n.__forward_ref__===bi}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function af(n){return Xw(n,VC)||Xw(n,zC)}function UC(n){return af(n)!==null}function Xw(n,e){return n.hasOwnProperty(e)?n[e]:null}function QO(n){let e=n&&(n[VC]||n[zC]);return e||null}function Zw(n){return n&&(n.hasOwnProperty(Kw)||n.hasOwnProperty(JO))?n[Kw]:null}var VC=nn({\u0275prov:nn}),Kw=nn({\u0275inj:nn}),zC=nn({ngInjectableDef:nn}),JO=nn({ngInjectorDef:nn}),_e=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function HC(n){return n&&!!n.\u0275providers}var e2=nn({\u0275cmp:nn}),t2=nn({\u0275dir:nn}),n2=nn({\u0275pipe:nn}),i2=nn({\u0275mod:nn}),Oh=nn({\u0275fac:nn}),Rl=nn({__NG_ELEMENT_ID__:nn}),Qw=nn({__NG_ENV_ID__:nn});function ta(n){return typeof n=="string"?n:n==null?"":String(n)}function r2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ta(n)}function o2(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ue(-200,n)}function g_(n,e){throw new ue(-201,!1)}var yt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(yt||{}),hv;function jC(){return hv}function vi(n){let e=hv;return hv=n,e}function GC(n,e,t){let i=af(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&yt.Optional)return null;if(e!==void 0)return e;g_(n,"Injector")}var s2={},Nl=s2,fv="__NG_DI_FLAG__",Rh="ngTempTokenPath",a2="ngTokenPath",c2=/\n/gm,l2="\u0275",Jw="__source",fc;function d2(){return fc}function Jo(n){let e=fc;return fc=n,e}function u2(n,e=yt.Default){if(fc===void 0)throw new ue(-203,!1);return fc===null?GC(n,void 0,e):fc.get(n,e&yt.Optional?null:void 0,e)}function Y(n,e=yt.Default){return(jC()||u2)(oi(n),e)}function oe(n,e=yt.Default){return Y(n,cf(e))}function cf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pv(n){let e=[];for(let t=0;t<n.length;t++){let i=oi(n[t]);if(Array.isArray(i)){if(i.length===0)throw new ue(900,!1);let r,o=yt.Default;for(let s=0;s<i.length;s++){let a=i[s],c=h2(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(Y(r,o))}else e.push(Y(i))}return e}function WC(n,e){return n[fv]=e,n.prototype[fv]=e,n}function h2(n){return n[fv]}function f2(n,e,t,i){let r=n[Rh];throw e[Jw]&&r.unshift(e[Jw]),n.message=p2(`
`+n.message,r,t,i),n[a2]=r,n[Rh]=null,n}function p2(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==l2?n.slice(2):n;let r=si(e);if(Array.isArray(e))r=e.map(si).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):si(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(c2,`
  `)}`}var lf=WC(LC("Optional"),8);var v_=WC(LC("SkipSelf"),4);function na(n,e){let t=n.hasOwnProperty(Oh);return t?n[Oh]:null}function m2(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function g2(n){return n.flat(Number.POSITIVE_INFINITY)}function __(n,e){n.forEach(t=>Array.isArray(t)?__(t,e):e(t))}function $C(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function kh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function v2(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function _2(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function df(n,e,t){let i=Gl(n,e);return i>=0?n[i|1]=t:(i=~i,_2(n,i,e,t)),i}function K0(n,e){let t=Gl(n,e);if(t>=0)return n[t|1]}function Gl(n,e){return b2(n,e,1)}function b2(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var mc={},_i=[],gc=new _e(""),qC=new _e("",-1),YC=new _e(""),Nh=class{get(e,t=Nl){if(t===Nl){let i=new Error(`NullInjectorError: No provider for ${si(e)}!`);throw i.name="NullInjectorError",i}return t}},XC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(XC||{}),Br=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Br||{}),ns=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ns||{});function y2(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function mv(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];x2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function ZC(n){return n===3||n===4||n===6}function x2(n){return n.charCodeAt(0)===64}function Fl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?eC(n,t,r,null,e[++i]):eC(n,t,r,null,null))}}return n}function eC(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var KC="ng-template";function M2(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&y2(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(b_(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function b_(n){return n.type===4&&n.value!==KC}function w2(n,e,t){let i=n.type===4&&!t?KC:n.value;return e===i}function C2(n,e,t){let i=4,r=n.attrs,o=r!==null?I2(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!hr(i)&&!hr(c))return!1;if(s&&hr(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!w2(n,c,t)||c===""&&e.length===1){if(hr(i))return!1;s=!0}}else if(i&8){if(r===null||!M2(n,r,c,t)){if(hr(i))return!1;s=!0}}else{let l=e[++a],d=S2(c,r,b_(n),t);if(d===-1){if(hr(i))return!1;s=!0;continue}if(l!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),i&2&&l!==u){if(hr(i))return!1;s=!0}}}}return hr(i)||s}function hr(n){return(n&1)===0}function S2(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return T2(e,n)}function QC(n,e,t=!1){for(let i=0;i<e.length;i++)if(C2(n,e[i],t))return!0;return!1}function E2(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function I2(n){for(let e=0;e<n.length;e++){let t=n[e];if(ZC(t))return e}return n.length}function T2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function D2(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function tC(n,e){return n?":not("+e.trim()+")":e}function A2(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!hr(s)&&(e+=tC(o,r),r=""),i=s,o=o||!hr(i);t++}return r!==""&&(e+=tC(o,r)),e}function P2(n){return n.map(A2).join(",")}function O2(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!hr(r))break;r=o}i++}return{attrs:e,classes:t}}function Fe(n){return jl(()=>{let e=r1(n),t=ht(se({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===XC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Br.Emulated,styles:n.styles||_i,_:null,schemas:n.schemas||null,tView:null,id:""});o1(t);let i=n.dependencies;return t.directiveDefs=iC(i,!1),t.pipeDefs=iC(i,!0),t.id=N2(t),t})}function R2(n){return is(n)||e1(n)}function k2(n){return n!==null}function Be(n){return jl(()=>({type:n.type,bootstrap:n.bootstrap||_i,declarations:n.declarations||_i,imports:n.imports||_i,exports:n.exports||_i,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nC(n,e){if(n==null)return mc;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=ns.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==ns.None?[i,a]:i,e[o]=s):t[o]=i}return t}function wt(n){return jl(()=>{let e=r1(n);return o1(e),e})}function JC(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function is(n){return n[e2]||null}function e1(n){return n[t2]||null}function t1(n){return n[n2]||null}function n1(n){let e=is(n)||e1(n)||t1(n);return e!==null?e.standalone:!1}function i1(n,e){let t=n[i2]||null;if(!t&&e===!0)throw new Error(`Type ${si(n)} does not have '\u0275mod' property.`);return t}function r1(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||mc,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||_i,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nC(n.inputs,e),outputs:nC(n.outputs),debugInfo:null}}function o1(n){n.features?.forEach(e=>e(n))}function iC(n,e){if(!n)return null;let t=e?t1:R2;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(k2)}function N2(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function uf(n){return{\u0275providers:n}}function F2(...n){return{\u0275providers:s1(!0,n),\u0275fromNgModule:!0}}function s1(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return __(e,s=>{let a=s;gv(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&a1(r,o),t}function a1(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];y_(r,o=>{e(o,i)})}}function gv(n,e,t,i){if(n=oi(n),!n)return!1;let r=null,o=Zw(n),s=!o&&is(n);if(!o&&!s){let c=n.ngModule;if(o=Zw(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)gv(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{__(o.imports,d=>{gv(d,e,t,i)&&(l||=[],l.push(d))})}finally{}l!==void 0&&a1(l,e)}if(!a){let l=na(r)||(()=>new r);e({provide:r,useFactory:l,deps:_i},r),e({provide:YC,useValue:r,multi:!0},r),e({provide:gc,useValue:()=>Y(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;y_(c,d=>{e(d,l)})}}else return!1;return r!==n&&n.providers!==void 0}function y_(n,e){for(let t of n)HC(t)&&(t=t.\u0275providers),Array.isArray(t)?y_(t,e):e(t)}var L2=nn({provide:String,useValue:nn});function c1(n){return n!==null&&typeof n=="object"&&L2 in n}function B2(n){return!!(n&&n.useExisting)}function U2(n){return!!(n&&n.useFactory)}function vc(n){return typeof n=="function"}function V2(n){return!!n.useClass}var hf=new _e(""),Ih={},z2={},Q0;function x_(){return Q0===void 0&&(Q0=new Nh),Q0}var $n=class{},Ll=class extends $n{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_v(e,s=>this.processProvider(s)),this.records.set(qC,lc(void 0,this)),r.has("environment")&&this.records.set($n,lc(void 0,this));let o=this.records.get(hf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(YC,_i,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Bt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Bt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Jo(this),i=vi(void 0),r;try{return e()}finally{Jo(t),vi(i)}}get(e,t=Nl,i=yt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Qw))return e[Qw](this);i=cf(i);let r,o=Jo(this),s=vi(void 0);try{if(!(i&yt.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=$2(e)&&af(e);l&&this.injectableDefInScope(l)?c=lc(vv(e),Ih):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&yt.Self?x_():this.parent;return t=i&yt.Optional&&t===Nl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Rh]=a[Rh]||[]).unshift(si(e)),o)throw a;return f2(a,e,"R3InjectorError",this.source)}else throw a}finally{vi(s),Jo(o)}}resolveInjectorInitializers(){let e=Bt(null),t=Jo(this),i=vi(void 0),r;try{let o=this.get(gc,_i,yt.Self);for(let s of o)s()}finally{Jo(t),vi(i),Bt(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(si(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(e){e=oi(e);let t=vc(e)?e:oi(e&&e.provide),i=j2(e);if(!vc(e)&&e.multi===!0){let r=this.records.get(t);r||(r=lc(void 0,Ih,!0),r.factory=()=>pv(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Bt(null);try{return t.value===Ih&&(t.value=z2,t.value=t.factory()),typeof t.value=="object"&&t.value&&W2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Bt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=oi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vv(n){let e=af(n),t=e!==null?e.factory:na(n);if(t!==null)return t;if(n instanceof _e)throw new ue(204,!1);if(n instanceof Function)return H2(n);throw new ue(204,!1)}function H2(n){if(n.length>0)throw new ue(204,!1);let t=QO(n);return t!==null?()=>t.factory(n):()=>new n}function j2(n){if(c1(n))return lc(void 0,n.useValue);{let e=l1(n);return lc(e,Ih)}}function l1(n,e,t){let i;if(vc(n)){let r=oi(n);return na(r)||vv(r)}else if(c1(n))i=()=>oi(n.useValue);else if(U2(n))i=()=>n.useFactory(...pv(n.deps||[]));else if(B2(n))i=()=>Y(oi(n.useExisting));else{let r=oi(n&&(n.useClass||n.provide));if(G2(n))i=()=>new r(...pv(n.deps));else return na(r)||vv(r)}return i}function lc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function G2(n){return!!n.deps}function W2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $2(n){return typeof n=="function"||typeof n=="object"&&n instanceof _e}function _v(n,e){for(let t of n)Array.isArray(t)?_v(t,e):t&&HC(t)?_v(t.\u0275providers,e):e(t)}function $i(n,e){n instanceof Ll&&n.assertNotDestroyed();let t,i=Jo(n),r=vi(void 0);try{return e()}finally{Jo(i),vi(r)}}function d1(){return jC()!==void 0||d2()!=null}function u1(n){if(!d1())throw new ue(-203,!1)}function q2(n){let e=Wn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Y2(n){return typeof n=="function"}var fo=0,pt=1,it=2,Xn=3,pr=4,yi=5,Bl=6,Fh=7,mr=8,_c=9,Ur=10,Mn=11,Ul=12,rC=13,wc=14,Wi=15,ia=16,dc=17,co=18,ff=19,h1=20,es=21,J0=22,Gi=23,Ai=25,f1=1;var ra=7,Lh=8,bc=9,Di=10,Bh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Bh||{});function ts(n){return Array.isArray(n)&&typeof n[f1]=="object"}function po(n){return Array.isArray(n)&&n[f1]===!0}function p1(n){return(n.flags&4)!==0}function pf(n){return n.componentOffset>-1}function M_(n){return(n.flags&1)===1}function rs(n){return!!n.template}function bv(n){return(n[it]&512)!==0}var yv=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function m1(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function qn(){return g1}function g1(n){return n.type.prototype.ngOnChanges&&(n.setInput=Z2),X2}qn.ngInherit=!0;function X2(){let n=_1(this),e=n?.current;if(e){let t=n.previous;if(t===mc)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Z2(n,e,t,i,r){let o=this.declaredInputs[i],s=_1(n)||K2(n,{previous:mc,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new yv(l&&l.currentValue,t,c===mc),m1(n,e,r,t)}var v1="__ngSimpleChanges__";function _1(n){return n[v1]||null}function K2(n,e){return n[v1]=e}var oC=null;var Fr=function(n,e,t){oC?.(n,e,t)},b1="svg",Q2="math";function Vr(n){for(;Array.isArray(n);)n=n[fo];return n}function y1(n,e){return Vr(e[n])}function qi(n,e){return Vr(e[n.index])}function x1(n,e){return n.data[e]}function M1(n,e){return n[e]}function as(n,e){let t=e[n];return ts(t)?t:t[fo]}function J2(n){return(n[it]&4)===4}function w_(n){return(n[it]&128)===128}function eR(n){return po(n[Xn])}function Uh(n,e){return e==null?null:n[e]}function w1(n){n[dc]=0}function C1(n){n[it]&1024||(n[it]|=1024,w_(n)&&gf(n))}function tR(n,e){for(;n>0;)e=e[wc],n--;return e}function mf(n){return!!(n[it]&9216||n[Gi]?.dirty)}function xv(n){n[Ur].changeDetectionScheduler?.notify(8),n[it]&64&&(n[it]|=1024),mf(n)&&gf(n)}function gf(n){n[Ur].changeDetectionScheduler?.notify(0);let e=oa(n);for(;e!==null&&!(e[it]&8192||(e[it]|=8192,!w_(e)));)e=oa(e)}function S1(n,e){if((n[it]&256)===256)throw new ue(911,!1);n[es]===null&&(n[es]=[]),n[es].push(e)}function nR(n,e){if(n[es]===null)return;let t=n[es].indexOf(e);t!==-1&&n[es].splice(t,1)}function oa(n){let e=n[Xn];return po(e)?e[Xn]:e}var dt={lFrame:F1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var E1=!1;function iR(){return dt.lFrame.elementDepthCount}function rR(){dt.lFrame.elementDepthCount++}function oR(){dt.lFrame.elementDepthCount--}function I1(){return dt.bindingsEnabled}function T1(){return dt.skipHydrationRootTNode!==null}function sR(n){return dt.skipHydrationRootTNode===n}function aR(){dt.skipHydrationRootTNode=null}function Mt(){return dt.lFrame.lView}function kn(){return dt.lFrame.tView}function vt(n){return dt.lFrame.contextLView=n,n[mr]}function _t(n){return dt.lFrame.contextLView=null,n}function ai(){let n=D1();for(;n!==null&&n.type===64;)n=n.parent;return n}function D1(){return dt.lFrame.currentTNode}function cR(){let n=dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Wl(n,e){let t=dt.lFrame;t.currentTNode=n,t.isParent=e}function A1(){return dt.lFrame.isParent}function P1(){dt.lFrame.isParent=!1}function lR(){return dt.lFrame.contextLView}function O1(){return E1}function sC(n){E1=n}function C_(){let n=dt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dR(){return dt.lFrame.bindingIndex}function uR(n){return dt.lFrame.bindingIndex=n}function $l(){return dt.lFrame.bindingIndex++}function S_(n){let e=dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hR(){return dt.lFrame.inI18n}function fR(n,e){let t=dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mv(e)}function pR(){return dt.lFrame.currentDirectiveIndex}function Mv(n){dt.lFrame.currentDirectiveIndex=n}function mR(n){let e=dt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function R1(){return dt.lFrame.currentQueryIndex}function E_(n){dt.lFrame.currentQueryIndex=n}function gR(n){let e=n[pt];return e.type===2?e.declTNode:e.type===1?n[yi]:null}function k1(n,e,t){if(t&yt.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&yt.Host);)if(r=gR(o),r===null||(o=o[wc],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=dt.lFrame=N1();return i.currentTNode=e,i.lView=n,!0}function I_(n){let e=N1(),t=n[pt];dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function N1(){let n=dt.lFrame,e=n===null?null:n.child;return e===null?F1(n):e}function F1(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function L1(){let n=dt.lFrame;return dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var B1=L1;function T_(){let n=L1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vR(n){return(dt.lFrame.contextLView=tR(n,dt.lFrame.contextLView))[mr]}function cs(){return dt.lFrame.selectedIndex}function sa(n){dt.lFrame.selectedIndex=n}function vf(){let n=dt.lFrame;return x1(n.tView,n.selectedIndex)}function Cc(){dt.lFrame.currentNamespace=b1}function U1(){_R()}function _R(){dt.lFrame.currentNamespace=null}function bR(){return dt.lFrame.currentNamespace}var V1=!0;function D_(){return V1}function A_(n){V1=n}function yR(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=g1(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function P_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Th(n,e,t){z1(n,e,3,t)}function Dh(n,e,t,i){(n[it]&3)===t&&z1(n,e,t,i)}function ev(n,e){let t=n[it];(t&3)===e&&(t&=16383,t+=1,n[it]=t)}function z1(n,e,t,i){let r=i!==void 0?n[dc]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[dc]+=65536),(a<o||o==-1)&&(xR(n,t,e,c),n[dc]=(n[dc]&4294901760)+c+2),c++}function aC(n,e){Fr(4,n,e);let t=Bt(null);try{e.call(n)}finally{Bt(t),Fr(5,n,e)}}function xR(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[it]>>14<n[dc]>>16&&(n[it]&3)===e&&(n[it]+=16384,aC(a,o)):aC(a,o)}var pc=-1,aa=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function MR(n){return n instanceof aa}function wR(n){return(n.flags&8)!==0}function CR(n){return(n.flags&16)!==0}var tv={},wv=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=cf(i);let r=this.injector.get(e,tv,i);return r!==tv||t===tv?r:this.parentInjector.get(e,t,i)}};function H1(n){return n!==pc}function Vh(n){return n&32767}function SR(n){return n>>16}function zh(n,e){let t=SR(n),i=e;for(;t>0;)i=i[wc],t--;return i}var Cv=!0;function Hh(n){let e=Cv;return Cv=n,e}var ER=256,j1=ER-1,G1=5,IR=0,Lr={};function TR(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Rl)&&(i=t[Rl]),i==null&&(i=t[Rl]=IR++);let r=i&j1,o=1<<r;e.data[n+(r>>G1)]|=o}function jh(n,e){let t=W1(n,e);if(t!==-1)return t;let i=e[pt];i.firstCreatePass&&(n.injectorIndex=e.length,nv(i.data,n),nv(e,null),nv(i.blueprint,null));let r=O_(n,e),o=n.injectorIndex;if(H1(r)){let s=Vh(r),a=zh(r,e),c=a[pt].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function nv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function W1(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function O_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=Z1(r),i===null)return pc;if(t++,r=r[wc],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return pc}function Sv(n,e,t){TR(n,e,t)}function DR(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(ZC(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function $1(n,e,t){if(t&yt.Optional||n!==void 0)return n;g_(e,"NodeInjector")}function q1(n,e,t,i){if(t&yt.Optional&&i===void 0&&(i=null),!(t&(yt.Self|yt.Host))){let r=n[_c],o=vi(void 0);try{return r?r.get(e,i,t&yt.Optional):GC(e,i,t&yt.Optional)}finally{vi(o)}}return $1(i,e,t)}function Y1(n,e,t,i=yt.Default,r){if(n!==null){if(e[it]&2048&&!(i&yt.Self)){let s=RR(n,e,t,i,Lr);if(s!==Lr)return s}let o=X1(n,e,t,i,Lr);if(o!==Lr)return o}return q1(e,t,i,r)}function X1(n,e,t,i,r){let o=PR(t);if(typeof o=="function"){if(!k1(e,n,i))return i&yt.Host?$1(r,t,i):q1(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&yt.Optional))g_(t);else return s}finally{B1()}}else if(typeof o=="number"){let s=null,a=W1(n,e),c=pc,l=i&yt.Host?e[Wi][yi]:null;for((a===-1||i&yt.SkipSelf)&&(c=a===-1?O_(n,e):e[a+8],c===pc||!lC(i,!1)?a=-1:(s=e[pt],a=Vh(c),e=zh(c,e)));a!==-1;){let d=e[pt];if(cC(o,a,d.data)){let u=AR(a,e,t,s,i,l);if(u!==Lr)return u}c=e[a+8],c!==pc&&lC(i,e[pt].data[a+8]===l)&&cC(o,a,e)?(s=d,a=Vh(c),e=zh(c,e)):a=-1}}return r}function AR(n,e,t,i,r,o){let s=e[pt],a=s.data[n+8],c=i==null?pf(a)&&Cv:i!=s&&(a.type&3)!==0,l=r&yt.Host&&o===a,d=Ah(a,s,t,c,l);return d!==null?ca(e,s,d,a):Lr}function Ah(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,u=i?a:a+d,h=r?a+d:l;for(let f=u;f<h;f++){let v=s[f];if(f<c&&t===v||f>=c&&v.type===t)return f}if(r){let f=s[c];if(f&&rs(f)&&f.type===t)return c}return null}function ca(n,e,t,i){let r=n[t],o=e.data;if(MR(r)){let s=r;s.resolving&&o2(r2(o[t]));let a=Hh(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?vi(s.injectImpl):null,d=k1(n,i,yt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&yR(t,o[t],e)}finally{l!==null&&vi(l),Hh(a),s.resolving=!1,B1()}}return r}function PR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Rl)?n[Rl]:void 0;return typeof e=="number"?e>=0?e&j1:OR:e}function cC(n,e,t){let i=1<<n;return!!(t[e+(n>>G1)]&i)}function lC(n,e){return!(n&yt.Self)&&!(n&yt.Host&&e)}var ea=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Y1(this._tNode,this._lView,e,cf(i),t)}};function OR(){return new ea(ai(),Mt())}function gr(n){return jl(()=>{let e=n.prototype.constructor,t=e[Oh]||Ev(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Oh]||Ev(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ev(n){return BC(n)?()=>{let e=Ev(oi(n));return e&&e()}:na(n)}function RR(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[it]&2048&&!(s[it]&512);){let a=X1(o,s,t,i|yt.Self,Lr);if(a!==Lr)return a;let c=o.parent;if(!c){let l=s[h1];if(l){let d=l.get(t,Lr,i);if(d!==Lr)return d}c=Z1(s),s=s[wc]}o=c}return r}function Z1(n){let e=n[pt],t=e.type;return t===2?e.declTNode:t===1?n[yi]:null}function mo(n){return DR(ai(),n)}function dC(n,e=null,t=null,i){let r=K1(n,e,t,i);return r.resolveInjectorInitializers(),r}function K1(n,e=null,t=null,i,r=new Set){let o=[t||_i,F2(n)];return i=i||(typeof n=="object"?void 0:si(n)),new Ll(o,e||x_(),i||null,r)}var Tn=class n{static{this.THROW_IF_NOT_FOUND=Nl}static{this.NULL=new Nh}static create(e,t){if(Array.isArray(e))return dC({name:""},t,e,"");{let i=e.name??"";return dC({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=le({token:n,providedIn:"any",factory:()=>Y(qC)})}static{this.__NG_ELEMENT_ID__=-1}};var kR=new _e("");kR.__NG_ELEMENT_ID__=n=>{let e=ai();if(e===null)throw new ue(204,!1);if(e.type&2)return e.value;if(n&yt.Optional)return null;throw new ue(204,!1)};var NR="ngOriginalError";function iv(n){return n[NR]}var Q1=!0,R_=(()=>{class n{static{this.__NG_ELEMENT_ID__=FR}static{this.__NG_ENV_ID__=t=>t}}return n})(),Iv=class extends R_{constructor(e){super(),this._lView=e}onDestroy(e){return S1(this._lView,e),()=>nR(this._lView,e)}};function FR(){return new Iv(Mt())}var go=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Cn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Tv=class extends Gt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,d1()&&(this.destroyRef=oe(R_,{optional:!0})??void 0,this.pendingTasks=oe(go,{optional:!0})??void 0)}emit(e){let t=Bt(null);try{super.next(e)}finally{Bt(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof sn&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},Lt=Tv;function Gh(...n){}function J1(n){let e,t;function i(){n=Gh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function uC(n){return queueMicrotask(()=>n()),()=>{n=Gh}}var k_="isAngularZone",Wh=k_+"_ID",LR=0,je=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lt(!1),this.onMicrotaskEmpty=new Lt(!1),this.onStable=new Lt(!1),this.onError=new Lt(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Q1}=e;if(typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,VR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(k_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ue(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,BR,Gh,Gh);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},BR={};function N_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function UR(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){J1(()=>{n.callbackScheduled=!1,Dv(n),n.isCheckStableRunning=!0,N_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Dv(n)}function VR(n){let e=()=>{UR(n)},t=LR++;n._inner=n._inner.fork({name:"angular",properties:{[k_]:!0,[Wh]:t,[Wh+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(zR(c))return i.invokeTask(o,s,a,c);try{return hC(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fC(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return hC(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!HR(c)&&e(),fC(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Dv(n),N_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Dv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fC(n){n._nesting--,N_(n)}var $h=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lt,this.onMicrotaskEmpty=new Lt,this.onStable=new Lt,this.onError=new Lt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function zR(n){return eS(n,"__ignore_ng_zone__")}function HR(n){return eS(n,"__scheduler_tick__")}function eS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function jR(n="zone.js",e){return n==="noop"?new $h:n==="zone.js"?new je(e):n}var zr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&iv(e);for(;t&&iv(t);)t=iv(t);return t||null}},GR=new _e("",{providedIn:"root",factory:()=>{let n=oe(je),e=oe(zr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function WR(){return Sc(ai(),Mt())}function Sc(n,e){return new kt(qi(n,e))}var kt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=WR}}return n})();function $R(n){return n instanceof kt?n.nativeElement:n}function qR(){return this._results[Symbol.iterator]()}var Vl=class n{get changes(){return this._changes??=new Lt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=qR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=g2(e);(this._changesDetected=!m2(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function tS(n){return(n.flags&128)===128}var nS=new Map,YR=0;function XR(){return YR++}function ZR(n){nS.set(n[ff],n)}function Av(n){nS.delete(n[ff])}var pC="__ngContext__";function la(n,e){ts(e)?(n[pC]=e[ff],ZR(e)):n[pC]=e}function iS(n){return oS(n[Ul])}function rS(n){return oS(n[pr])}function oS(n){for(;n!==null&&!po(n);)n=n[pr];return n}var Pv;function sS(n){Pv=n}function aS(){if(Pv!==void 0)return Pv;if(typeof document<"u")return document;throw new ue(210,!1)}var ql=new _e("",{providedIn:"root",factory:()=>KR}),KR="ng",F_=new _e(""),Zn=new _e("",{providedIn:"platform",factory:()=>"unknown"});var Gr=new _e(""),Yl=new _e("",{providedIn:"root",factory:()=>aS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QR="h",JR="b";var ek=()=>null;function L_(n,e,t=!1){return ek(n,e,t)}var cS=!1,tk=new _e("",{providedIn:"root",factory:()=>cS});var yh;function lS(){if(yh===void 0&&(yh=null,Wn.trustedTypes))try{yh=Wn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yh}function _f(n){return lS()?.createHTML(n)||n}function nk(n){return lS()?.createScriptURL(n)||n}var xh;function dS(){if(xh===void 0&&(xh=null,Wn.trustedTypes))try{xh=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xh}function mC(n){return dS()?.createHTML(n)||n}function gC(n){return dS()?.createScriptURL(n)||n}var lo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${FC})`}},Ov=class extends lo{getTypeName(){return"HTML"}},Rv=class extends lo{getTypeName(){return"Style"}},kv=class extends lo{getTypeName(){return"Script"}},Nv=class extends lo{getTypeName(){return"URL"}},Fv=class extends lo{getTypeName(){return"ResourceURL"}};function Yi(n){return n instanceof lo?n.changingThisBreaksApplicationSecurity:n}function vo(n,e){let t=ik(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${FC})`)}return t===e}function ik(n){return n instanceof lo&&n.getTypeName()||null}function uS(n){return new Ov(n)}function hS(n){return new Rv(n)}function fS(n){return new kv(n)}function pS(n){return new Nv(n)}function mS(n){return new Fv(n)}function rk(n){let e=new Bv(n);return ok()?new Lv(e):e}var Lv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(_f(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Bv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=_f(e),t}};function ok(){try{return!!new window.DOMParser().parseFromString(_f(""),"text/html")}catch{return!1}}var sk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bf(n){return n=String(n),n.match(sk)?n:"unsafe:"+n}function _o(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Xl(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var gS=_o("area,br,col,hr,img,wbr"),vS=_o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_S=_o("rp,rt"),ak=Xl(_S,vS),ck=Xl(vS,_o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lk=Xl(_S,_o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vC=Xl(gS,ck,lk,ak),bS=_o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dk=_o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uk=_o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),hk=Xl(bS,dk,uk),fk=_o("script,style,template"),Uv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=gk(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=mk(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=_C(e).toLowerCase();if(!vC.hasOwnProperty(t))return this.sanitizedSomething=!0,!fk.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!hk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;bS[a]&&(c=bf(c)),this.buf.push(" ",s,'="',bC(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=_C(e).toLowerCase();vC.hasOwnProperty(t)&&!gS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(bC(e))}};function pk(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function mk(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw yS(e);return e}function gk(n){let e=n.firstChild;if(e&&pk(n,e))throw yS(e);return e}function _C(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function yS(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var vk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_k=/([^\#-~ |!])/g;function bC(n){return n.replace(/&/g,"&amp;").replace(vk,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(_k,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Mh;function B_(n,e){let t=null;try{Mh=Mh||rk(n);let i=e?String(e):"";t=Mh.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Mh.getInertBodyElement(i)}while(i!==o);let a=new Uv().sanitizeChildren(yC(t)||t);return _f(a)}finally{if(t){let i=yC(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function yC(n){return"content"in n&&bk(n)?n.content:null}function bk(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var vr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(vr||{});function xS(n){let e=U_();return e?mC(e.sanitize(vr.HTML,n)||""):vo(n,"HTML")?mC(Yi(n)):B_(aS(),ta(n))}function jt(n){let e=U_();return e?e.sanitize(vr.URL,n)||"":vo(n,"URL")?Yi(n):bf(ta(n))}function yk(n){let e=U_();if(e)return gC(e.sanitize(vr.RESOURCE_URL,n)||"");if(vo(n,"ResourceURL"))return gC(Yi(n));throw new ue(904,!1)}function MS(n){return nk(n[0])}function xk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?yk:jt}function wS(n,e,t){return xk(e,t)(n)}function U_(){let n=Mt();return n&&n[Ur].sanitizer}function yf(n){return n.ownerDocument.defaultView}function CS(n){return n instanceof Function?n():n}function SS(n){return(n??oe(Tn)).get(Zn)==="browser"}var uo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(uo||{}),Mk;function V_(n,e){return Mk(n,e)}function uc(n,e,t,i,r){if(i!=null){let o,s=!1;po(i)?o=i:ts(i)&&(s=!0,i=i[fo]);let a=Vr(i);n===0&&t!==null?r==null?PS(e,t,a):qh(e,t,a,r||null,!0):n===1&&t!==null?qh(e,t,a,r||null,!0):n===2?Nk(e,a,s):n===3&&e.destroyNode(a),o!=null&&Lk(e,n,o,t,r)}}function wk(n,e){return n.createText(e)}function Ck(n,e,t){n.setValue(e,t)}function ES(n,e,t){return n.createElement(e,t)}function Sk(n,e){IS(n,e),e[fo]=null,e[yi]=null}function Ek(n,e,t,i,r,o){i[fo]=r,i[yi]=e,xf(n,i,t,1,r,o)}function IS(n,e){e[Ur].changeDetectionScheduler?.notify(9),xf(n,e,e[Mn],2,null,null)}function Ik(n){let e=n[Ul];if(!e)return rv(n[pt],n);for(;e;){let t=null;if(ts(e))t=e[Ul];else{let i=e[Di];i&&(t=i)}if(!t){for(;e&&!e[pr]&&e!==n;)ts(e)&&rv(e[pt],e),e=e[Xn];e===null&&(e=n),ts(e)&&rv(e[pt],e),t=e&&e[pr]}e=t}}function Tk(n,e,t,i){let r=Di+i,o=t.length;i>0&&(t[r-1][pr]=e),i<o-Di?(e[pr]=t[r],$C(t,Di+i,e)):(t.push(e),e[pr]=null),e[Xn]=t;let s=e[ia];s!==null&&t!==s&&TS(s,e);let a=e[co];a!==null&&a.insertView(n),xv(e),e[it]|=128}function TS(n,e){let t=n[bc],i=e[Xn];if(ts(i))n[it]|=Bh.HasTransplantedViews;else{let r=i[Xn][Wi];e[Wi]!==r&&(n[it]|=Bh.HasTransplantedViews)}t===null?n[bc]=[e]:t.push(e)}function z_(n,e){let t=n[bc],i=t.indexOf(e);t.splice(i,1)}function Vv(n,e){if(n.length<=Di)return;let t=Di+e,i=n[t];if(i){let r=i[ia];r!==null&&r!==n&&z_(r,i),e>0&&(n[t-1][pr]=i[pr]);let o=kh(n,Di+e);Sk(i[pt],i);let s=o[co];s!==null&&s.detachView(o[pt]),i[Xn]=null,i[pr]=null,i[it]&=-129}return i}function DS(n,e){if(!(e[it]&256)){let t=e[Mn];t.destroyNode&&xf(n,e,t,3,null,null),Ik(e)}}function rv(n,e){if(e[it]&256)return;let t=Bt(null);try{e[it]&=-129,e[it]|=256,e[Gi]&&P0(e[Gi]),Ak(n,e),Dk(n,e),e[pt].type===1&&e[Mn].destroy();let i=e[ia];if(i!==null&&po(e[Xn])){i!==e[Xn]&&z_(i,e);let r=e[co];r!==null&&r.detachView(n)}Av(e)}finally{Bt(t)}}function Dk(n,e){let t=n.cleanup,i=e[Fh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[Fh]=null);let r=e[es];if(r!==null){e[es]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function Ak(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof aa)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Fr(4,a,c);try{c.call(a)}finally{Fr(5,a,c)}}else{Fr(4,r,o);try{o.call(r)}finally{Fr(5,r,o)}}}}}function AS(n,e,t){return Pk(n,e.parent,t)}function Pk(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[fo];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Br.None||o===Br.Emulated)return null}return qi(i,t)}}function qh(n,e,t,i,r){n.insertBefore(e,t,i,r)}function PS(n,e,t){n.appendChild(e,t)}function xC(n,e,t,i,r){i!==null?qh(n,e,t,i,r):PS(n,e,t)}function OS(n,e){return n.parentNode(e)}function Ok(n,e){return n.nextSibling(e)}function RS(n,e,t){return kk(n,e,t)}function Rk(n,e,t){return n.type&40?qi(n,t):null}var kk=Rk,MC;function H_(n,e,t,i){let r=AS(n,i,e),o=e[Mn],s=i.parent||e[yi],a=RS(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)xC(o,r,t[c],a,!1);else xC(o,r,t,a,!1);MC!==void 0&&MC(o,i,e,t,r)}function Ol(n,e){if(e!==null){let t=e.type;if(t&3)return qi(e,n);if(t&4)return zv(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Ol(n,i);{let r=n[e.index];return po(r)?zv(-1,r):Vr(r)}}else{if(t&128)return Ol(n,e.next);if(t&32)return V_(e,n)()||Vr(n[e.index]);{let i=kS(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=oa(n[Wi]);return Ol(r,i)}else return Ol(n,e.next)}}}return null}function kS(n,e){if(e!==null){let i=n[Wi][yi],r=e.projection;return i.projection[r]}return null}function zv(n,e){let t=Di+n+1;if(t<e.length){let i=e[t],r=i[pt].firstChild;if(r!==null)return Ol(i,r)}return e[ra]}function Nk(n,e,t){n.removeChild(null,e,t)}function j_(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(s&&e===0&&(a&&la(Vr(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)j_(n,e,t.child,i,r,o,!1),uc(e,n,r,a,o);else if(c&32){let l=V_(t,i),d;for(;d=l();)uc(e,n,r,d,o);uc(e,n,r,a,o)}else c&16?NS(n,e,i,t,r,o):uc(e,n,r,a,o);t=s?t.projectionNext:t.next}}function xf(n,e,t,i,r,o){j_(t,i,n.firstChild,e,r,o,!1)}function Fk(n,e,t){let i=e[Mn],r=AS(n,t,e),o=t.parent||e[yi],s=RS(o,t,e);NS(i,0,e,t,r,s)}function NS(n,e,t,i,r,o){let s=t[Wi],c=s[yi].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];uc(e,n,r,d,o)}else{let l=c,d=s[Xn];tS(i)&&(l.flags|=128),j_(n,e,l,d,r,o,!0)}}function Lk(n,e,t,i,r){let o=t[ra],s=Vr(t);o!==s&&uc(e,n,i,o,r);for(let a=Di;a<t.length;a++){let c=t[a];xf(c[pt],c,n,e,i,o)}}function Bk(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:uo.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=uo.Important),n.setStyle(t,i,r,o))}}function Uk(n,e,t){n.setAttribute(e,"style",t)}function FS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function LS(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&mv(n,e,i),r!==null&&FS(n,e,r),o!==null&&Uk(n,e,o)}var Xi={};function S(n=1){BS(kn(),Mt(),cs()+n,!1)}function BS(n,e,t,i){if(!i)if((e[it]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Th(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Dh(e,o,0,t)}sa(t)}function ee(n,e=yt.Default){let t=Mt();if(t===null)return Y(n,e);let i=ai();return Y1(i,t,oi(n),e)}function G_(){let n="invalid";throw new Error(n)}function US(n,e,t,i,r,o){let s=Bt(null);try{let a=null;r&ns.SignalBased&&(a=e[i][oo]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&ns.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):m1(e,a,i,o)}finally{Bt(s)}}function Vk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)sa(~r);else{let o=r,s=t[++i],a=t[++i];fR(s,o);let c=e[o];a(2,c)}}}finally{sa(-1)}}function Mf(n,e,t,i,r,o,s,a,c,l,d){let u=e.blueprint.slice();return u[fo]=r,u[it]=i|4|128|8|64,(l!==null||n&&n[it]&2048)&&(u[it]|=2048),w1(u),u[Xn]=u[wc]=n,u[mr]=t,u[Ur]=s||n&&n[Ur],u[Mn]=a||n&&n[Mn],u[_c]=c||n&&n[_c]||null,u[yi]=o,u[ff]=XR(),u[Bl]=d,u[h1]=l,u[Wi]=e.type==2?n[Wi]:u,u}function Zl(n,e,t,i,r){let o=n.data[e];if(o===null)o=zk(n,e,t,i,r),hR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=cR();o.injectorIndex=s===null?-1:s.injectorIndex}return Wl(o,!0),o}function zk(n,e,t,i,r){let o=D1(),s=A1(),a=s?o:o&&o.parent,c=n.data[e]=qk(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function VS(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function zS(n,e,t,i,r){let o=cs(),s=i&2;try{sa(-1),s&&e.length>Ai&&BS(n,e,Ai,!1),Fr(s?2:0,r),t(i,r)}finally{sa(o),Fr(s?3:1,r)}}function HS(n,e,t){if(p1(e)){let i=Bt(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Bt(i)}}}function jS(n,e,t){I1()&&(Jk(n,e,t,qi(t,e)),(t.flags&64)===64&&YS(n,e,t))}function GS(n,e,t=qi){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function WS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=W_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function W_(n,e,t,i,r,o,s,a,c,l,d){let u=Ai+i,h=u+r,f=Hk(u,h),v=typeof l=="function"?l():l;return f[pt]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function Hk(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Xi);return t}function jk(n,e,t,i){let o=i.get(tk,cS)||t===Br.ShadowDom,s=n.selectRootElement(e,o);return Gk(s),s}function Gk(n){Wk(n)}var Wk=()=>null;function $k(n,e,t,i){let r=KS(e);r.push(t),n.firstCreatePass&&QS(n).push(i,r.length-1)}function qk(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return T1()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function wC(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=ns.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}n===0?CC(i,t,l,a,c):CC(i,t,l,a)}return i}function CC(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function Yk(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let d=i;d<r;d++){let u=o[d],h=t?t.get(u):null,f=h?h.inputs:null,v=h?h.outputs:null;c=wC(0,u.inputs,d,c,f),l=wC(1,u.outputs,d,l,v);let b=c!==null&&s!==null&&!b_(e)?d3(c,d,s):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Xk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function $_(n,e,t,i,r,o,s,a){let c=qi(e,t),l=e.inputs,d;!a&&l!=null&&(d=l[i])?(q_(n,t,d,i,r),pf(e)&&Zk(t,e.index)):e.type&3?(i=Xk(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function Zk(n,e){let t=as(e,n);t[it]&16||(t[it]|=64)}function $S(n,e,t,i){if(I1()){let r=i===null?null:{"":-1},o=t3(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&qS(n,e,t,s,r,a),r&&n3(t,i,r)}t.mergedAttrs=Fl(t.mergedAttrs,t.attrs)}function qS(n,e,t,i,r,o){for(let l=0;l<i.length;l++)Sv(jh(t,e),n,i[l].type);r3(t,n.data.length,i.length);for(let l=0;l<i.length;l++){let d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=VS(n,e,i.length,null);for(let l=0;l<i.length;l++){let d=i[l];t.mergedAttrs=Fl(t.mergedAttrs,d.hostAttrs),o3(n,t,e,c,d),i3(c,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}Yk(n,t,o)}function Kk(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Qk(s)!=a&&s.push(a),s.push(t,i,o)}}function Qk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Jk(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;pf(t)&&s3(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||jh(t,e),la(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let c=n.data[a],l=ca(e,n,a,t);if(la(l,e),s!==null&&l3(e,a-r,l,c,t,s),rs(c)){let d=as(t.index,e);d[mr]=ca(e,n,a,t)}}}function YS(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=pR();try{sa(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];Mv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&e3(c,l)}}finally{sa(-1),Mv(s)}}function e3(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function t3(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(QC(e,s.selectors,!1))if(i||(i=[]),rs(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Hv(n,e,c)}else i.unshift(s),Hv(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Hv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function n3(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new ue(-301,!1);i.push(e[r],o)}}}function i3(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;rs(e)&&(t[""]=n)}}function r3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function o3(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=na(r.type,!0)),s=new aa(o,rs(r),ee);n.blueprint[i]=s,t[i]=s,Kk(n,e,i,VS(n,t,r.hostVars,Xi),r)}function s3(n,e,t){let i=qi(e,n),r=WS(t),o=n[Ur].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=wf(n,Mf(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function a3(n,e,t,i,r,o){let s=qi(n,e);c3(e[Mn],s,o,n.value,t,i,r)}function c3(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?ta(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function l3(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],d=s[a++],u=s[a++];US(i,t,c,l,d,u)}}function d3(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function XS(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function ZS(n,e){let t=n.contentQueries;if(t!==null){let i=Bt(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];E_(o),a.contentQueries(2,e[s],s)}}}finally{Bt(i)}}}function wf(n,e){return n[Ul]?n[rC][pr]=e:n[Ul]=e,n[rC]=e,e}function jv(n,e,t){E_(0);let i=Bt(null);try{e(n,t)}finally{Bt(i)}}function KS(n){return n[Fh]??=[]}function QS(n){return n.cleanup??=[]}function JS(n,e){let t=n[_c],i=t?t.get(zr,null):null;i&&i.handleError(e)}function q_(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],d=n.data[s];US(d,l,i,a,c,r)}}function eE(n,e,t){let i=y1(e,n);Ck(n[Mn],i,t)}function u3(n,e){let t=as(e,n),i=t[pt];h3(i,t);let r=t[fo];r!==null&&t[Bl]===null&&(t[Bl]=L_(r,t[_c])),Y_(i,t,t[mr])}function h3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Y_(n,e,t){I_(e);try{let i=n.viewQuery;i!==null&&jv(1,i,t);let r=n.template;r!==null&&zS(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[co]?.finishViewCreation(n),n.staticContentQueries&&ZS(n,e),n.staticViewQueries&&jv(2,n.viewQuery,t);let o=n.components;o!==null&&f3(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[it]&=-5,T_()}}function f3(n,e){for(let t=0;t<e.length;t++)u3(n,e[t])}function tE(n,e,t,i){let r=Bt(null);try{let o=e.tView,a=n[it]&4096?4096:16,c=Mf(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[ia]=l;let d=n[co];return d!==null&&(c[co]=d.createEmbeddedView(o)),Y_(o,c,t),c}finally{Bt(r)}}function Gv(n,e){return!e||e.firstChild===null||tS(n)}function nE(n,e,t,i=!0){let r=e[pt];if(Tk(r,e,n,t),i){let s=zv(t,n),a=e[Mn],c=OS(a,n[ra]);c!==null&&Ek(r,n[yi],a,e,c,s)}let o=e[Bl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Yh(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Vr(o)),po(o)&&p3(o,i);let s=t.type;if(s&8)Yh(n,e,t.child,i);else if(s&32){let a=V_(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=kS(e,t);if(Array.isArray(a))i.push(...a);else{let c=oa(e[Wi]);Yh(c[pt],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function p3(n,e){for(let t=Di;t<n.length;t++){let i=n[t],r=i[pt].firstChild;r!==null&&Yh(i[pt],i,r,e)}n[ra]!==n[fo]&&e.push(n[ra])}var iE=[];function m3(n){return n[Gi]??g3(n)}function g3(n){let e=iE.pop()??Object.create(_3);return e.lView=n,e}function v3(n){n.lView[Gi]!==n&&(n.lView=null,iE.push(n))}var _3=ht(se({},Il),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{gf(n.lView)},consumerOnSignalRead(){this.lView[Gi]=this}});function b3(n){let e=n[Gi]??Object.create(y3);return e.lView=n,e}var y3=ht(se({},Il),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=oa(n.lView);for(;e&&!rE(e[pt]);)e=oa(e);e&&C1(e)},consumerOnSignalRead(){this.lView[Gi]=this}});function rE(n){return n.type!==2}var x3=100;function oE(n,e=!0,t=0){let i=n[Ur],r=i.rendererFactory,o=!1;o||r.begin?.();try{M3(n,t)}catch(s){throw e&&JS(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function M3(n,e){let t=O1();try{sC(!0),Wv(n,e);let i=0;for(;mf(n);){if(i===x3)throw new ue(103,!1);i++,Wv(n,1)}}finally{sC(t)}}function w3(n,e,t,i){let r=e[it];if((r&256)===256)return;let o=!1,s=!1;!o&&e[Ur].inlineEffectRunner?.flush(),I_(e);let a=!0,c=null,l=null;o||(rE(n)?(l=m3(e),c=ju(l)):aw()===null?(a=!1,l=b3(e),c=ju(l)):e[Gi]&&(P0(e[Gi]),e[Gi]=null));try{w1(e),uR(n.bindingStartIndex),t!==null&&zS(n,e,t,2,i);let d=(r&3)===3;if(!o)if(d){let f=n.preOrderCheckHooks;f!==null&&Th(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Dh(e,f,0,null),ev(e,0)}if(s||C3(e),sE(e,0),n.contentQueries!==null&&ZS(n,e),!o)if(d){let f=n.contentCheckHooks;f!==null&&Th(e,f)}else{let f=n.contentHooks;f!==null&&Dh(e,f,1),ev(e,1)}Vk(n,e);let u=n.components;u!==null&&cE(e,u,0);let h=n.viewQuery;if(h!==null&&jv(2,h,i),!o)if(d){let f=n.viewCheckHooks;f!==null&&Th(e,f)}else{let f=n.viewHooks;f!==null&&Dh(e,f,2),ev(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[J0]){for(let f of e[J0])f();e[J0]=null}o||(e[it]&=-73)}catch(d){throw o||gf(e),d}finally{l!==null&&(D0(l,c),a&&v3(l)),T_()}}function sE(n,e){for(let t=iS(n);t!==null;t=rS(t))for(let i=Di;i<t.length;i++){let r=t[i];aE(r,e)}}function C3(n){for(let e=iS(n);e!==null;e=rS(e)){if(!(e[it]&Bh.HasTransplantedViews))continue;let t=e[bc];for(let i=0;i<t.length;i++){let r=t[i];C1(r)}}}function S3(n,e,t){let i=as(e,n);aE(i,t)}function aE(n,e){w_(n)&&Wv(n,e)}function Wv(n,e){let i=n[pt],r=n[it],o=n[Gi],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&A0(o)),s||=!1,o&&(o.dirty=!1),n[it]&=-9217,s)w3(i,n,i.template,n[mr]);else if(r&8192){sE(n,1);let a=i.components;a!==null&&cE(n,a,1)}}function cE(n,e,t){for(let i=0;i<e.length;i++)S3(n,e[i],t)}function X_(n,e){let t=O1()?64:1088;for(n[Ur].changeDetectionScheduler?.notify(e);n;){n[it]|=t;let i=oa(n);if(bv(n)&&!i)return n;n=i}return null}var da=class{get rootNodes(){let e=this._lView,t=e[pt];return Yh(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(e){this._lView[mr]=e}get destroyed(){return(this._lView[it]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xn];if(po(e)){let t=e[Lh],i=t?t.indexOf(this):-1;i>-1&&(Vv(e,i),kh(t,i))}this._attachedToViewContainer=!1}DS(this._lView[pt],this._lView)}onDestroy(e){S1(this._lView,e)}markForCheck(){X_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[it]&=-129}reattach(){xv(this._lView),this._lView[it]|=128}detectChanges(){this._lView[it]|=1024,oE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bv(this._lView),t=this._lView[ia];t!==null&&!e&&z_(t,this._lView),IS(this._lView[pt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=e;let t=bv(this._lView),i=this._lView[ia];i!==null&&!t&&TS(i,this._lView),xv(this._lView)}},Hr=(()=>{class n{static{this.__NG_ELEMENT_ID__=T3}}return n})(),E3=Hr,I3=class extends E3{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=tE(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new da(r)}};function T3(){return Z_(ai(),Mt())}function Z_(n,e){return n.type&4?new I3(e,n,Sc(n,e)):null}var iK=new RegExp(`^(\\d+)*(${JR}|${QR})*(.*)`);var D3=()=>null;function $v(n,e){return D3(n,e)}var yc=class{},K_=new _e("",{providedIn:"root",factory:()=>!1});var lE=new _e(""),dE=new _e(""),qv=class{},Xh=class{};function A3(n){let e=Error(`No component factory found for ${si(n)}.`);return e[P3]=n,e}var P3="ngComponent";var Yv=class{resolveComponentFactory(e){throw A3(e)}},ho=class{static{this.NULL=new Yv}},os=class{},bo=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>O3()}}return n})();function O3(){let n=Mt(),e=ai(),t=as(e.index,n);return(ts(t)?t:n)[Mn]}var R3=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}}return n})();function Xv(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=uv(r,a);else if(o==2){let c=a,l=e[++s];i=uv(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Zh=class extends ho{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=is(e);return new xc(t,this.ngModule)}};function SC(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:ns.None;e?t.push({propName:s,templateName:i,isSignal:(a&ns.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function k3(n){let e=n.toLowerCase();return e==="svg"?b1:e==="math"?Q2:null}var xc=class extends Xh{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=SC(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return SC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=P2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=Bt(null);try{r=r||this.ngModule;let s=r instanceof $n?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new wv(e,s):e,c=a.get(os,null);if(c===null)throw new ue(407,!1);let l=a.get(R3,null),d=a.get(yc,null),u={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",v=i?jk(h,i,this.componentDef.encapsulation,a):ES(h,f,k3(f)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let _=null;v!==null&&(_=L_(v,a,!0));let m=W_(0,null,null,1,0,null,null,null,null,null,null),I=Mf(null,m,null,b,null,null,u,h,a,null,_);I_(I);let C,A,P=null;try{let T=this.componentDef,O,j=null;T.findHostDirectiveDefs?(O=[],j=new Map,T.findHostDirectiveDefs(T,O,j),O.push(T)):O=[T];let E=N3(I,v);P=F3(E,v,T,O,I,u,h),A=x1(m,Ai),v&&U3(h,T,v,i),t!==void 0&&V3(A,this.ngContentSelectors,t),C=B3(P,T,O,j,I,[z3]),Y_(m,I,null)}catch(T){throw P!==null&&Av(P),Av(I),T}finally{T_()}return new Zv(this.componentType,C,Sc(A,I),I,A)}finally{Bt(o)}}},Zv=class extends qv{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new da(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;q_(o[pt],o,r,e,t),this.previousInputValues.set(e,t);let s=as(this._tNode.index,o);X_(s,1)}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function N3(n,e){let t=n[pt],i=Ai;return n[i]=e,Zl(t,i,2,"#host",null)}function F3(n,e,t,i,r,o,s){let a=r[pt];L3(i,n,e,s);let c=null;e!==null&&(c=L_(e,r[_c]));let l=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let u=Mf(r,WS(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Hv(a,n,i.length-1),wf(r,u),r[n.index]=u}function L3(n,e,t,i){for(let r of n)e.mergedAttrs=Fl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Xv(e,e.mergedAttrs,!0),t!==null&&LS(i,t,e))}function B3(n,e,t,i,r,o){let s=ai(),a=r[pt],c=qi(s,r);qS(a,r,s,t,null,i);for(let d=0;d<t.length;d++){let u=s.directiveStart+d,h=ca(r,a,u,s);la(h,r)}YS(a,r,s),c&&la(c,r);let l=ca(r,a,s.directiveStart+s.componentOffset,s);if(n[mr]=r[mr]=l,o!==null)for(let d of o)d(l,e);return HS(a,s,r),l}function U3(n,e,t,i){if(i)mv(n,t,["ng-version","18.2.14"]);else{let{attrs:r,classes:o}=O2(e.selectors[0]);r&&mv(n,t,r),o&&o.length>0&&FS(n,t,o.join(" "))}}function V3(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function z3(){let n=ai();P_(Mt()[pt],n)}var _r=(()=>{class n{static{this.__NG_ELEMENT_ID__=H3}}return n})();function H3(){let n=ai();return hE(n,Mt())}var j3=_r,uE=class extends j3{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Sc(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){let e=O_(this._hostTNode,this._hostLView);if(H1(e)){let t=zh(e,this._hostLView),i=Vh(e),r=t[pt].data[i+8];return new ea(r,t)}else return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=EC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Di}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=$v(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Gv(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!Y2(e),a;if(s)a=t;else{let v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new xc(is(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let b=(s?l:this.parentInjector).get($n,null);b&&(o=b)}let d=is(c.componentType??{}),u=$v(this._lContainer,d?.id??null),h=u?.firstChild??null,f=c.create(l,r,h,o);return this.insertImpl(f.hostView,a,Gv(this._hostTNode,u)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(eR(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Xn],l=new uE(c,c[yi],c[Xn]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return nE(s,r,o,i),e.attachToViewContainerRef(),$C(ov(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=EC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Vv(this._lContainer,t);i&&(kh(ov(this._lContainer),t),DS(i[pt],i))}detach(e){let t=this._adjustIndex(e,-1),i=Vv(this._lContainer,t);return i&&kh(ov(this._lContainer),t)!=null?new da(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function EC(n){return n[Lh]}function ov(n){return n[Lh]||(n[Lh]=[])}function hE(n,e){let t,i=e[n.index];return po(i)?t=i:(t=XS(i,e,null,n),e[n.index]=t,wf(e,t)),W3(t,e,n,i),new uE(t,n,e)}function G3(n,e){let t=n[Mn],i=t.createComment(""),r=qi(e,n),o=OS(t,r);return qh(t,o,i,Ok(t,r),!1),i}var W3=Y3,$3=()=>!1;function q3(n,e,t){return $3(n,e,t)}function Y3(n,e,t,i){if(n[ra])return;let r;t.type&8?r=Vr(i):r=G3(e,t),n[ra]=r}var Kv=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Qv=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Q_(e,t).matches!==null&&this.queries[t].setDirty()}},Jv=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=nN(e):this.predicate=e}},e_=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},t_=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,X3(t,o)),this.matchTNodeWithReadOption(e,t,Ah(t,e,o,!1,!1))}else i===Hr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ah(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===kt||r===_r||r===Hr&&t.type&4)this.addMatch(t.index,-2);else{let o=Ah(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function X3(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function Z3(n,e){return n.type&11?Sc(n,e):n.type&4?Z_(n,e):null}function K3(n,e,t,i){return t===-1?Z3(e,n):t===-2?Q3(n,e,i):ca(n,n[pt],t,e)}function Q3(n,e,t){if(t===kt)return Sc(e,n);if(t===Hr)return Z_(e,n);if(t===_r)return hE(e,n)}function fE(n,e,t,i){let r=e[co].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let d=o[l];a.push(K3(e,d,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function n_(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=fE(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],d=e[-c];for(let u=Di;u<d.length;u++){let h=d[u];h[ia]===h[Xn]&&n_(h[pt],h,l,i)}if(d[bc]!==null){let u=d[bc];for(let h=0;h<u.length;h++){let f=u[h];n_(f[pt],f,l,i)}}}}}return i}function J3(n,e){return n[co].queries[e].queryList}function eN(n,e,t){let i=new Vl((t&4)===4);return $k(n,e,i,i.destroy),(e[co]??=new Qv).queries.push(new Kv(i))-1}function tN(n,e,t){let i=kn();return i.firstCreatePass&&(iN(i,new Jv(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),eN(i,Mt(),e)}function nN(n){return n.split(",").map(e=>e.trim())}function iN(n,e,t){n.queries===null&&(n.queries=new e_),n.queries.track(new t_(e,t))}function Q_(n,e){return n.queries.getByIndex(e)}function rN(n,e){let t=n[pt],i=Q_(t,e);return i.crossesNgTemplate?n_(t,n,e,[]):fE(t,n,i,e)}var IC=new Set;function ls(n){IC.has(n)||(IC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function pE(n){return typeof n=="function"&&n[oo]!==void 0}function ha(n,e){ls("NgSignals");let t=_w(n),i=t[oo];return e?.equal&&(i.equal=e.equal),t.set=r=>O0(i,r),t.update=r=>bw(i,r),t.asReadonly=oN.bind(t),t}function oN(){let n=this[oo];if(n.readonlyFn===void 0){let e=()=>this();e[oo]=n,n.readonlyFn=e}return n.readonlyFn}function mE(n){return pE(n)&&typeof n.set=="function"}function sN(n){let e=[],t=new Map;function i(r){let o=t.get(r);if(!o){let s=n(r);t.set(r,o=s.then(dN))}return o}return Kh.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((u,h)=>{a.push(""),s.push(i(u).then(f=>{a[l+h]=f,d.splice(d.indexOf(u),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>uN(o));e.push(c)}),cN(),Promise.all(e).then(()=>{})}var Kh=new Map,aN=new Set;function cN(){let n=Kh;return Kh=new Map,n}function lN(){return Kh.size===0}function dN(n){return typeof n=="string"?n:n.text()}function uN(n){aN.delete(n)}function hN(n){return Object.getPrototypeOf(n.prototype).constructor}function Vn(n){let e=hN(n.type),t=!0,i=[n];for(;e;){let r;if(rs(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=wh(n.inputs),s.inputTransforms=wh(n.inputTransforms),s.declaredInputs=wh(n.declaredInputs),s.outputs=wh(n.outputs);let a=r.hostBindings;a&&vN(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&mN(n,c),l&&gN(n,l),fN(n,r),ZO(n.outputs,r.outputs),rs(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Vn&&(t=!1)}}e=Object.getPrototypeOf(e)}pN(i)}function fN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function pN(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Fl(r.hostAttrs,t=Fl(t,r.hostAttrs))}}function wh(n){return n===mc?{}:n===_i?[]:n}function mN(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function gN(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function vN(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function ci(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var ss=class{},zl=class{};var Qh=class extends ss{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zh(this);let o=i1(e);this._bootstrapComponents=CS(o.bootstrap),this._r3Injector=K1(e,t,[{provide:ss,useValue:this},{provide:ho,useValue:this.componentFactoryResolver},...i],si(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jh=class extends zl{constructor(e){super(),this.moduleType=e}create(e){return new Qh(this.moduleType,e,[])}};function _N(n,e,t){return new Qh(n,e,t,!1)}var i_=class extends ss{constructor(e){super(),this.componentFactoryResolver=new Zh(this),this.instance=null;let t=new Ll([...e.providers,{provide:ss,useValue:this},{provide:ho,useValue:this.componentFactoryResolver}],e.parent||x_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cf(n,e,t=null){return new i_({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function gE(n){return yN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function bN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function yN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function J_(n,e,t){return n[e]=t}function xN(n,e){return n[e]}function jr(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function vE(n,e,t,i){let r=jr(n,e,t);return jr(n,e+1,i)||r}function MN(n){return(n.flags&32)===32}function wN(n,e,t,i,r,o,s,a,c){let l=e.consts,d=Zl(e,n,4,s||null,a||null);$S(e,t,d,Uh(l,c)),P_(e,d);let u=d.tView=W_(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}function _E(n,e,t,i,r,o,s,a,c,l){let d=t+Ai,u=e.firstCreatePass?wN(d,e,n,i,r,o,s,a,c):e.data[d];Wl(u,!1);let h=CN(e,n,u,t);D_()&&H_(e,n,h,u),la(h,n);let f=XS(h,n,h,u);return n[d]=f,wf(n,f),q3(f,u,n),M_(u)&&jS(e,n,u),c!=null&&GS(n,u,l),u}function ae(n,e,t,i,r,o,s,a){let c=Mt(),l=kn(),d=Uh(l.consts,o);return _E(c,l,n,e,t,i,r,d,s,a),ae}var CN=SN;function SN(n,e,t,i){return A_(!0),e[Mn].createComment("")}var hc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(hc||{}),bE=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}}return n})(),r_=class n{constructor(){this.ngZone=oe(je),this.scheduler=oe(yc),this.errorHandler=oe(zr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[hc.EarlyRead,hc.Write,hc.MixedReadWrite,hc.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}},o_=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function eb(n,e){!e?.injector&&u1(eb);let t=e?.injector??oe(Tn);return SS(t)?(ls("NgAfterRender"),yE(n,t,e,!1)):xE}function fa(n,e){!e?.injector&&u1(fa);let t=e?.injector??oe(Tn);return SS(t)?(ls("NgAfterNextRender"),yE(n,t,e,!0)):xE}function EN(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function yE(n,e,t,i){let r=e.get(bE);r.impl??=e.get(r_);let o=t?.phase??hc.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(R_):null,a=new o_(r.impl,EN(n,o),i,s);return r.impl.register(a),a}var xE={destroy(){}};function Nt(n,e,t,i){let r=Mt(),o=$l();if(jr(r,o,e)){let s=kn(),a=vf();a3(a,r,n,e,t,i)}return Nt}function ME(n,e,t,i){return jr(n,$l(),t)?e+ta(t)+i:Xi}function IN(n,e,t,i,r,o){let s=dR(),a=vE(n,s,t,r);return S_(2),a?e+ta(t)+i+ta(r)+o:Xi}function Ch(n,e){return n<<17|e<<2}function ua(n){return n>>17&32767}function TN(n){return(n&2)==2}function DN(n,e){return n&131071|e<<17}function s_(n){return n|2}function Mc(n){return(n&131068)>>2}function sv(n,e){return n&-131069|e<<2}function AN(n){return(n&1)===1}function a_(n){return n|1}function PN(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ua(s),c=Mc(s);n[i]=t;let l=!1,d;if(Array.isArray(t)){let u=t;d=u[1],(d===null||Gl(u,d)>0)&&(l=!0)}else d=t;if(r)if(c!==0){let h=ua(n[a+1]);n[i+1]=Ch(h,a),h!==0&&(n[h+1]=sv(n[h+1],i)),n[a+1]=DN(n[a+1],i)}else n[i+1]=Ch(a,0),a!==0&&(n[a+1]=sv(n[a+1],i)),a=i;else n[i+1]=Ch(c,0),a===0?a=i:n[c+1]=sv(n[c+1],i),c=i;l&&(n[i+1]=s_(n[i+1])),TC(n,d,i,!0),TC(n,d,i,!1),ON(e,d,n,i,o),s=Ch(a,c),o?e.classBindings=s:e.styleBindings=s}function ON(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Gl(o,e)>=0&&(t[i+1]=a_(t[i+1]))}function TC(n,e,t,i){let r=n[t+1],o=e===null,s=i?ua(r):Mc(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];RN(c,e)&&(a=!0,n[s+1]=i?a_(l):s_(l)),s=i?ua(l):Mc(l)}a&&(n[t+1]=i?s_(r):a_(r))}function RN(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Gl(n,e)>=0:!1}var fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kN(n){return n.substring(fr.key,fr.keyEnd)}function NN(n){return FN(n),wE(n,CE(n,0,fr.textEnd))}function wE(n,e){let t=fr.textEnd;return t===e?-1:(e=fr.keyEnd=LN(n,fr.key=e,t),CE(n,e,t))}function FN(n){fr.key=0,fr.keyEnd=0,fr.value=0,fr.valueEnd=0,fr.textEnd=n.length}function CE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function LN(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function V(n,e,t){let i=Mt(),r=$l();if(jr(i,r,e)){let o=kn(),s=vf();$_(o,s,i,n,e,i[Mn],t,!1)}return V}function c_(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";q_(n,t,o[s],s,i)}function Nn(n,e,t){return EE(n,e,t,!1),Nn}function Ke(n,e){return EE(n,e,null,!0),Ke}function yo(n){IE(jN,SE,n,!0)}function SE(n,e){for(let t=NN(e);t>=0;t=wE(e,t))df(n,kN(e),!0)}function EE(n,e,t,i){let r=Mt(),o=kn(),s=S_(2);if(o.firstUpdatePass&&DE(o,n,s,i),e!==Xi&&jr(r,s,e)){let a=o.data[cs()];AE(o,a,r,r[Mn],n,r[s+1]=WN(e,t),i,s)}}function IE(n,e,t,i){let r=kn(),o=S_(2);r.firstUpdatePass&&DE(r,null,o,i);let s=Mt();if(t!==Xi&&jr(s,o,t)){let a=r.data[cs()];if(PE(a,i)&&!TE(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=uv(c,t||"")),c_(r,a,s,t,i)}else GN(r,a,s,s[Mn],s[o+1],s[o+1]=HN(n,e,t),i,o)}}function TE(n,e){return e>=n.expandoStartIndex}function DE(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[cs()],s=TE(n,t);PE(o,i)&&e===null&&!s&&(e=!1),e=BN(r,o,e,i),PN(r,o,e,t,s,i)}}function BN(n,e,t,i){let r=mR(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=av(null,n,e,t,i),t=Hl(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=av(r,n,e,t,i),o===null){let c=UN(n,e,i);c!==void 0&&Array.isArray(c)&&(c=av(null,n,e,c[1],i),c=Hl(c,e.attrs,i),VN(n,e,i,c))}else o=zN(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function UN(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Mc(i)!==0)return n[ua(i)]}function VN(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[ua(r)]=i}function zN(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Hl(i,s,t)}return Hl(i,e.attrs,t)}function av(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Hl(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Hl(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),df(n,s,t?!0:e[++o]))}return n===void 0?null:n}function HN(n,e,t){if(t==null||t==="")return _i;let i=[],r=Yi(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function jN(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&df(n,i,t)}function GN(n,e,t,i,r,o,s,a){r===Xi&&(r=_i);let c=0,l=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0,v=null,b;d===u?(c+=2,l+=2,h!==f&&(v=u,b=f)):u===null||d!==null&&d<u?(c+=2,v=d):(l+=2,v=u,b=f),v!==null&&AE(n,e,t,i,v,b,s,a),d=c<r.length?r[c]:null,u=l<o.length?o[l]:null}}function AE(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=AN(l)?DC(c,e,t,r,Mc(l),s):void 0;if(!ef(d)){ef(o)||TN(l)&&(o=DC(c,null,t,r,a,s));let u=y1(cs(),t);Bk(i,s,u,r,o)}}function DC(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=d===null,h=t[r+1];h===Xi&&(h=u?_i:void 0);let f=u?K0(h,i):d===i?h:void 0;if(l&&!ef(f)&&(f=K0(c,i)),ef(f)&&(a=f,s))return a;let v=n[r+1];r=s?ua(v):Mc(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=K0(c,i))}return a}function ef(n){return n!==void 0}function WN(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=si(Yi(n)))),n}function PE(n,e){return(n.flags&(e?8:16))!==0}function tb(n,e,t){let i=Mt(),r=ME(i,n,e,t);IE(df,SE,r,!0)}function $N(n,e,t,i,r,o){let s=e.consts,a=Uh(s,r),c=Zl(e,n,2,i,a);return $S(e,t,c,Uh(s,o)),c.attrs!==null&&Xv(c,c.attrs,!1),c.mergedAttrs!==null&&Xv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(n,e,t,i){let r=Mt(),o=kn(),s=Ai+n,a=r[Mn],c=o.firstCreatePass?$N(s,o,r,e,t,i):o.data[s],l=qN(o,r,c,a,e,n);r[s]=l;let d=M_(c);return Wl(c,!0),LS(a,l,c),!MN(c)&&D_()&&H_(o,r,l,c),iR()===0&&la(l,r),rR(),d&&(jS(o,r,c),HS(o,c,r)),i!==null&&GS(r,c),g}function p(){let n=ai();A1()?P1():(n=n.parent,Wl(n,!1));let e=n;sR(e)&&aR(),oR();let t=kn();return t.firstCreatePass&&(P_(t,n),p1(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&wR(e)&&c_(t,e,Mt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CR(e)&&c_(t,e,Mt(),e.stylesWithoutHost,!1),p}function ce(n,e,t,i){return g(n,e,t,i),p(),ce}var qN=(n,e,t,i,r,o)=>(A_(!0),ES(i,r,bR()));function gn(){return Mt()}function pa(n,e,t){let i=Mt(),r=$l();if(jr(i,r,e)){let o=kn(),s=vf();$_(o,s,i,n,e,i[Mn],t,!0)}return pa}var Js=void 0;function YN(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var XN=["en",[["a","p"],["AM","PM"],Js],[["AM","PM"],Js,Js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Js,"{1} 'at' {0}",Js],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",YN],cv={};function Zi(n){let e=ZN(n),t=AC(e);if(t)return t;let i=e.split("-")[0];if(t=AC(i),t)return t;if(i==="en")return XN;throw new ue(701,!1)}function AC(n){return n in cv||(cv[n]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[n]),cv[n]}var Sn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Sn||{});function ZN(n){return n.toLowerCase().replace(/_/g,"-")}var tf="en-US";var KN=tf;function QN(n){typeof n=="string"&&(KN=n.toLowerCase().replace(/_/g,"-"))}var JN=(n,e,t)=>{};function Te(n,e,t,i){let r=Mt(),o=kn(),s=ai();return OE(o,r,r[Mn],s,n,e,i),Te}function eF(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Fh],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function OE(n,e,t,i,r,o,s){let a=M_(i),l=n.firstCreatePass&&QS(n),d=e[mr],u=KS(e),h=!0;if(i.type&3||s){let b=qi(i,e),_=s?s(b):b,m=u.length,I=s?A=>s(Vr(A[i.index])):i.index,C=null;if(!s&&a&&(C=eF(n,e,r,i.index)),C!==null){let A=C.__ngLastListenerFn__||C;A.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=OC(i,e,d,o),JN(b,r,o);let A=t.listen(_,r,o);u.push(o,A),l&&l.push(r,I,m,m+1)}}else o=OC(i,e,d,o);let f=i.outputs,v;if(h&&f!==null&&(v=f[r])){let b=v.length;if(b)for(let _=0;_<b;_+=2){let m=v[_],I=v[_+1],P=e[m][I].subscribe(o),T=u.length;u.push(o,P),l&&l.push(r,i.index,T,-(T+1))}}}function PC(n,e,t,i){let r=Bt(null);try{return Fr(6,e,t),t(i)!==!1}catch(o){return JS(n,o),!1}finally{Fr(7,e,t),Bt(r)}}function OC(n,e,t,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?as(n.index,e):e;X_(s,5);let a=PC(e,t,i,o),c=r.__ngNextListenerFn__;for(;c;)a=PC(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Ce(n=1){return vR(n)}function tF(n,e){let t=null,i=E2(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?QC(n,o,!0):D2(i,o))return r}return t}function br(n){let e=Mt()[Wi][yi];if(!e.projection){let t=n?n.length:1,i=e.projection=v2(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?tF(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function yr(n,e=0,t,i,r,o){let s=Mt(),a=kn(),c=i?n+1:null;c!==null&&_E(s,a,c,i,r,o,null,t);let l=Zl(a,Ai+n,16,null,t||null);l.projection===null&&(l.projection=e),P1();let u=!s[Bl]||T1();s[Wi][yi].projection[l.projection]===null&&c!==null?nF(s,a,c):u&&(l.flags&32)!==32&&Fk(a,s,l)}function nF(n,e,t){let i=Ai+t,r=e.data[i],o=n[i],s=$v(o,r.tView.ssrId),a=tE(n,r,void 0,{dehydratedView:s});nE(o,a,0,Gv(r,s))}function xr(n,e,t){tN(n,e,t)}function Ki(n){let e=Mt(),t=kn(),i=R1();E_(i+1);let r=Q_(t,i);if(n.dirty&&J2(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=rN(e,i);n.reset(o,$R),n.notifyOnChanges()}return!0}return!1}function Qi(){return J3(Mt(),R1())}function iF(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Sf(n){let e=lR();return M1(e,Ai+n)}function y(n,e=""){let t=Mt(),i=kn(),r=n+Ai,o=i.firstCreatePass?Zl(i,r,1,e,null):i.data[r],s=rF(i,t,o,e,n);t[r]=s,D_()&&H_(i,t,s,o),Wl(o,!1)}var rF=(n,e,t,i,r)=>(A_(!0),wk(e[Mn],i));function fe(n){return ct("",n,""),fe}function ct(n,e,t){let i=Mt(),r=ME(i,n,e,t);return r!==Xi&&eE(i,cs(),r),ct}function nb(n,e,t,i,r){let o=Mt(),s=IN(o,n,e,t,i,r);return s!==Xi&&eE(o,cs(),s),nb}function ib(n,e,t){mE(e)&&(e=e());let i=Mt(),r=$l();if(jr(i,r,e)){let o=kn(),s=vf();$_(o,s,i,n,e,i[Mn],t,!1)}return ib}function RE(n,e){let t=mE(n);return t&&n.set(e),t}function rb(n,e){let t=Mt(),i=kn(),r=ai();return OE(i,t,t[Mn],r,n,e),rb}function oF(n,e,t){let i=kn();if(i.firstCreatePass){let r=rs(n);l_(t,i.data,i.blueprint,r,!0),l_(e,i.data,i.blueprint,r,!1)}}function l_(n,e,t,i,r){if(n=oi(n),Array.isArray(n))for(let o=0;o<n.length;o++)l_(n[o],e,t,i,r);else{let o=kn(),s=Mt(),a=ai(),c=vc(n)?n:oi(n.provide),l=l1(n),d=a.providerIndexes&1048575,u=a.directiveStart,h=a.providerIndexes>>20;if(vc(n)||!n.multi){let f=new aa(l,r,ee),v=dv(c,e,r?d:d+h,u);v===-1?(Sv(jh(a,s),o,c),lv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[v]=f,s[v]=f)}else{let f=dv(c,e,d+h,u),v=dv(c,e,d,d+h),b=f>=0&&t[f],_=v>=0&&t[v];if(r&&!_||!r&&!b){Sv(jh(a,s),o,c);let m=cF(r?aF:sF,t.length,r,i,l);!r&&_&&(t[v].providerFactory=m),lv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)}else{let m=kE(t[r?v:f],l,!r&&i);lv(o,n,f>-1?f:v,m)}!r&&i&&_&&t[v].componentProviders++}}}function lv(n,e,t,i){let r=vc(e),o=V2(e);if(r||o){let c=(o?oi(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function kE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function dv(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function sF(n,e,t,i){return d_(this.multi,[])}function aF(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ca(t,t[pt],this.providerFactory.index,i);o=a.slice(0,s),d_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],d_(r,o);return o}function d_(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function cF(n,e,t,i,r){let o=new aa(n,t,ee);return o.multi=[],o.index=e,o.componentProviders=0,kE(o,r,i&&!t),o}function Fn(n,e=[]){return t=>{t.providersResolver=(i,r)=>oF(i,r?r(n):n,e)}}var lF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=s1(!1,t.type),r=i.length>0?Cf([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(Y($n))})}}return n})();function Pi(n){ls("NgStandalone"),n.getStandaloneInjector=e=>e.get(lF).getOrCreateStandaloneInjector(n)}function Kl(n,e,t){let i=C_()+n,r=Mt();return r[i]===Xi?J_(r,i,t?e.call(t):e()):xN(r,i)}function NE(n,e,t,i){return dF(Mt(),C_(),n,e,t,i)}function FE(n,e){let t=n[e];return t===Xi?void 0:t}function dF(n,e,t,i,r,o){let s=e+t;return jr(n,s,r)?J_(n,s+1,o?i.call(o,r):i(r)):FE(n,s+1)}function uF(n,e,t,i,r,o,s){let a=e+t;return vE(n,a,r,o)?J_(n,a+2,s?i.call(s,r,o):i(r,o)):FE(n,a+2)}function LE(n,e){let t=kn(),i,r=n+Ai;t.firstCreatePass?(i=hF(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=na(i.type,!0)),s,a=vi(ee);try{let c=Hh(!1),l=o();return Hh(c),iF(t,Mt(),r,l),l}finally{vi(a)}}function hF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function BE(n,e,t,i){let r=n+Ai,o=Mt(),s=M1(o,r);return fF(o,r)?uF(o,C_(),e,s.transform,t,i,s):s.transform(t,i)}function fF(n,e){return n[pt].data[e].pure}var Sh=null;function pF(n){Sh!==null&&(n.defaultEncapsulation!==Sh.defaultEncapsulation||n.preserveWhitespaces!==Sh.preserveWhitespaces)||(Sh=n)}var Ef=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var ob=new _e(""),Ql=new _e(""),If=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,sb||(mF(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(Y(je),Y(Tf),Y(Ql))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),Tf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return sb?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function mF(n){sb=n}var sb;function ma(n){return!!n&&typeof n.then=="function"}function UE(n){return!!n&&typeof n.subscribe=="function"}var Df=new _e(""),VE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=oe(Df,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(ma(o))t.push(o);else if(UE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Af=new _e("");function gF(){vw(()=>{throw new ue(600,!1)})}function vF(n){return n.isBoundToModule}var _F=10;function bF(n,e,t){try{let i=t();return ma(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function zE(n,e){return Array.isArray(e)?e.reduce(zE,n):se(se({},n),e)}var Mr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(GR),this.afterRenderManager=oe(bE),this.zonelessEnabled=oe(K_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Gt,this.afterTick=new Gt,this.componentTypes=[],this.components=[],this.isStable=oe(go).hasPendingTasks.pipe(ot(t=>!t)),this._injector=oe($n)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Xh;if(!this._injector.get(VE).done){let h=!r&&n1(t),f=!1;throw new ue(405,f)}let s;r?s=t:s=this._injector.get(ho).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=vF(s)?void 0:this._injector.get(ss),c=i||s.selector,l=s.create(Tn.NULL,[],c,a),d=l.location.nativeElement,u=l.injector.get(ob,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ph(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ue(101,!1);let t=Bt(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Bt(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(os,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<_F;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)yF(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>mf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Ph(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Af,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ph(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ue(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ph(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function yF(n,e,t,i){if(!t&&!mf(n))return;oE(n,e,t&&!i?0:1)}var u_=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Pf=(()=>{class n{compileModuleSync(t){return new Jh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=i1(t),o=CS(r.declarations).reduce((s,a)=>{let c=is(a);return c&&s.push(new xc(c)),s},[]);return new u_(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xF=new _e("");function MF(n,e,t){let i=new Jh(t);return Promise.resolve(i)}function RC(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var wF=(()=>{class n{constructor(){this.zone=oe(je),this.changeDetectionScheduler=oe(yc),this.applicationRef=oe(Mr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function CF({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new je(ht(se({},HE()),{scheduleInRootZone:t})),[{provide:je,useFactory:n},{provide:gc,multi:!0,useFactory:()=>{let i=oe(wF,{optional:!0});return()=>i.initialize()}},{provide:gc,multi:!0,useFactory:()=>{let i=oe(SF);return()=>{i.initialize()}}},e===!0?{provide:lE,useValue:!0}:[],{provide:dE,useValue:t??Q1}]}function HE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var SF=(()=>{class n{constructor(){this.subscription=new sn,this.initialized=!1,this.zone=oe(je),this.pendingTasks=oe(go)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var EF=(()=>{class n{constructor(){this.appRef=oe(Mr),this.taskService=oe(go),this.ngZone=oe(je),this.zonelessEnabled=oe(K_),this.disableScheduling=oe(lE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new sn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(oe(dE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $h||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?uC:J1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function IF(){return typeof $localize<"u"&&$localize.locale||tf}var Jl=new _e("",{providedIn:"root",factory:()=>oe(Jl,yt.Optional|yt.SkipSelf)||IF()});var nf=new _e("");function Eh(n){return!n.moduleRef}function TF(n){let e=Eh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(je);return t.run(()=>{Eh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(zr,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Eh(n)){let o=()=>e.destroy(),s=n.platformInjector.get(nf);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(nf);s.add(o),n.moduleRef.onDestroy(()=>{Ph(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return bF(i,t,()=>{let o=e.get(VE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Jl,tf);if(QN(s||tf),Eh(n)){let a=e.get(Mr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return DF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function DF(n,e){let t=n.injector.get(Mr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ue(-403,!1);e.push(n)}var jE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=i?.scheduleInRootZone,o=()=>jR(i?.ngZone,ht(se({},HE({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[CF({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:yc,useExisting:EF}],c=_N(t.moduleType,this.injector,a);return TF({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let r=zE({},i);return MF(this.injector,r,t).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(nf,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(Y(Tn))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),kl=null,rf=new _e("");function AF(n){if(cb())throw new ue(400,!1);gF(),kl=n.get(rf,!1)?null:n;let t=n.get(jE);return RF(n),t}function ab(n,e,t=[]){let i=`Platform: ${e}`,r=new _e(i);return(o=[])=>{let s=cb();if(!s||s.injector.get(rf,!1)){let c=[...t,...o,{provide:r,useValue:!0}];s=n?.(c)??AF(PF(c,i))}return s.injector.get(rf,!1)?s:OF(r)}}function PF(n=[],e){return Tn.create({name:e,providers:[{provide:hf,useValue:"platform"},{provide:nf,useValue:new Set([()=>kl=null])},...n]})}function OF(n){let e=cb();if(!e)throw new ue(401,!1);return e}function cb(){return kl&&kl.get(rf,!1)?null:kl?.get(jE)??null}function RF(n){n.get(F_,null)?.forEach(t=>t())}var xi=(()=>{class n{static{this.__NG_ELEMENT_ID__=kF}}return n})();function kF(n){return NF(ai(),Mt(),(n&16)===16)}function NF(n,e,t){if(pf(n)&&!t){let i=as(n.index,e);return new da(i,i)}else if(n.type&175){let i=e[Wi];return new da(i,e)}return null}var h_=class{constructor(){}supports(e){return gE(e)}create(e){return new f_(e)}},FF=(n,e)=>e,f_=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<kC(i,r,o)?t:i,a=kC(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,d=c-r;if(l!=d){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,v=f+h;d<=v&&v<l&&(o[h]=f+1)}let u=s.previousIndex;o[u]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gE(e))throw new ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,bN(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new p_(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new of),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new of),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},p_=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},m_=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},of=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new m_,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kC(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function NC(){return new Of([new h_])}var Of=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:NC})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||NC()),deps:[[n,new v_,new lf]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new ue(901,!1)}}return n})();var GE=ab(null,"core",[]),WE=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(Y(Mr))}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})();function Ln(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ed(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Ec(n,e){ls("NgSignals");let t=pw(n);return e?.equal&&(t[oo].equal=e.equal),t}function Ji(n){let e=Bt(null);try{return n()}finally{Bt(e)}}function $E(n){let e=is(n);if(!e)return null;let t=new xc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var QE=null;function Cr(){return QE}function JE(n){QE??=n}var zf=class{};var Ct=new _e(""),gb=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>oe(BF),providedIn:"platform"})}}return n})(),eI=new _e(""),BF=(()=>{class n extends gb{constructor(){super(),this._doc=oe(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(t){let i=Cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function vb(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function qE(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Mo(n){return n&&n[0]!=="?"?"?"+n:n}var Co=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>oe(_b),providedIn:"root"})}}return n})(),tI=new _e(""),_b=(()=>{class n extends Co{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??oe(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vb(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Mo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Mo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Mo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(Y(gb),Y(tI,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nI=(()=>{class n extends Co{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=vb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Mo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Mo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(Y(gb),Y(tI,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),us=(()=>{class n{constructor(t){this._subject=new Lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=zF(qE(YE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Mo(i))}normalize(t){return n.stripTrailingSlash(VF(this._basePath,YE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Mo}static{this.joinWithSlash=vb}static{this.stripTrailingSlash=qE}static{this.\u0275fac=function(i){return new(i||n)(Y(Co))}}static{this.\u0275prov=le({token:n,factory:()=>UF(),providedIn:"root"})}}return n})();function UF(){return new us(Y(Co))}function VF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function YE(n){return n.replace(/\/index.html$/,"")}function zF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var li=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(li||{}),rn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(rn||{}),Oi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Oi||{}),ds={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HF(n){return Zi(n)[Sn.LocaleId]}function jF(n,e,t){let i=Zi(n),r=[i[Sn.DayPeriodsFormat],i[Sn.DayPeriodsStandalone]],o=er(r,e);return er(o,t)}function GF(n,e,t){let i=Zi(n),r=[i[Sn.DaysFormat],i[Sn.DaysStandalone]],o=er(r,e);return er(o,t)}function WF(n,e,t){let i=Zi(n),r=[i[Sn.MonthsFormat],i[Sn.MonthsStandalone]],o=er(r,e);return er(o,t)}function $F(n,e){let i=Zi(n)[Sn.Eras];return er(i,e)}function Rf(n,e){let t=Zi(n);return er(t[Sn.DateFormat],e)}function kf(n,e){let t=Zi(n);return er(t[Sn.TimeFormat],e)}function Nf(n,e){let i=Zi(n)[Sn.DateTimeFormat];return er(i,e)}function Gf(n,e){let t=Zi(n),i=t[Sn.NumberSymbols][e];if(typeof i>"u"){if(e===ds.CurrencyDecimal)return t[Sn.NumberSymbols][ds.Decimal];if(e===ds.CurrencyGroup)return t[Sn.NumberSymbols][ds.Group]}return i}function iI(n){if(!n[Sn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Sn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qF(n){let e=Zi(n);return iI(e),(e[Sn.ExtraData][2]||[]).map(i=>typeof i=="string"?lb(i):[lb(i[0]),lb(i[1])])}function YF(n,e,t){let i=Zi(n);iI(i);let r=[i[Sn.ExtraData][0],i[Sn.ExtraData][1]],o=er(r,e)||[];return er(o,t)||[]}function er(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lb(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var XF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ff={},ZF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,wo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(wo||{}),$t=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}($t||{}),Wt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Wt||{});function KF(n,e,t,i){let r=sL(n);e=xo(t,e)||e;let s=[],a;for(;e;)if(a=ZF.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=oI(i,c),r=oL(r,i,!0));let l="";return s.forEach(d=>{let u=iL(d);l+=u?u(r,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Hf(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function xo(n,e){let t=HF(n);if(Ff[t]??={},Ff[t][e])return Ff[t][e];let i="";switch(e){case"shortDate":i=Rf(n,Oi.Short);break;case"mediumDate":i=Rf(n,Oi.Medium);break;case"longDate":i=Rf(n,Oi.Long);break;case"fullDate":i=Rf(n,Oi.Full);break;case"shortTime":i=kf(n,Oi.Short);break;case"mediumTime":i=kf(n,Oi.Medium);break;case"longTime":i=kf(n,Oi.Long);break;case"fullTime":i=kf(n,Oi.Full);break;case"short":let r=xo(n,"shortTime"),o=xo(n,"shortDate");i=Lf(Nf(n,Oi.Short),[r,o]);break;case"medium":let s=xo(n,"mediumTime"),a=xo(n,"mediumDate");i=Lf(Nf(n,Oi.Medium),[s,a]);break;case"long":let c=xo(n,"longTime"),l=xo(n,"longDate");i=Lf(Nf(n,Oi.Long),[c,l]);break;case"full":let d=xo(n,"fullTime"),u=xo(n,"fullDate");i=Lf(Nf(n,Oi.Full),[d,u]);break}return i&&(Ff[t][e]=i),i}function Lf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function wr(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function QF(n,e){return wr(n,3).substring(0,e)}function Dn(n,e,t=0,i=!1,r=!1){return function(o,s){let a=JF(n,o);if((t>0||a>-t)&&(a+=t),n===$t.Hours)a===0&&t===-12&&(a=12);else if(n===$t.FractionalSeconds)return QF(a,e);let c=Gf(s,ds.MinusSign);return wr(a,e,c,i,r)}}function JF(n,e){switch(n){case $t.FullYear:return e.getFullYear();case $t.Month:return e.getMonth();case $t.Date:return e.getDate();case $t.Hours:return e.getHours();case $t.Minutes:return e.getMinutes();case $t.Seconds:return e.getSeconds();case $t.FractionalSeconds:return e.getMilliseconds();case $t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function cn(n,e,t=li.Format,i=!1){return function(r,o){return eL(r,o,n,e,t,i)}}function eL(n,e,t,i,r,o){switch(t){case Wt.Months:return WF(e,r,i)[n.getMonth()];case Wt.Days:return GF(e,r,i)[n.getDay()];case Wt.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=qF(e),d=YF(e,r,i),u=l.findIndex(h=>{if(Array.isArray(h)){let[f,v]=h,b=s>=f.hours&&a>=f.minutes,_=s<v.hours||s===v.hours&&a<v.minutes;if(f.hours<v.hours){if(b&&_)return!0}else if(b||_)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return jF(e,r,i)[s<12?0:1];case Wt.Eras:return $F(e,i)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Bf(n){return function(e,t,i){let r=-1*i,o=Gf(t,ds.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case wo.Short:return(r>=0?"+":"")+wr(s,2,o)+wr(Math.abs(r%60),2,o);case wo.ShortGMT:return"GMT"+(r>=0?"+":"")+wr(s,1,o);case wo.Long:return"GMT"+(r>=0?"+":"")+wr(s,2,o)+":"+wr(Math.abs(r%60),2,o);case wo.Extended:return i===0?"Z":(r>=0?"+":"")+wr(s,2,o)+":"+wr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var tL=0,Vf=4;function nL(n){let e=Hf(n,tL,1).getDay();return Hf(n,0,1+(e<=Vf?Vf:Vf+7)-e)}function rI(n){let e=n.getDay(),t=e===0?-3:Vf-e;return Hf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function db(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=rI(t),s=nL(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return wr(r,n,Gf(i,ds.MinusSign))}}function Uf(n,e=!1){return function(t,i){let o=rI(t).getFullYear();return wr(o,n,Gf(i,ds.MinusSign),e)}}var ub={};function iL(n){if(ub[n])return ub[n];let e;switch(n){case"G":case"GG":case"GGG":e=cn(Wt.Eras,rn.Abbreviated);break;case"GGGG":e=cn(Wt.Eras,rn.Wide);break;case"GGGGG":e=cn(Wt.Eras,rn.Narrow);break;case"y":e=Dn($t.FullYear,1,0,!1,!0);break;case"yy":e=Dn($t.FullYear,2,0,!0,!0);break;case"yyy":e=Dn($t.FullYear,3,0,!1,!0);break;case"yyyy":e=Dn($t.FullYear,4,0,!1,!0);break;case"Y":e=Uf(1);break;case"YY":e=Uf(2,!0);break;case"YYY":e=Uf(3);break;case"YYYY":e=Uf(4);break;case"M":case"L":e=Dn($t.Month,1,1);break;case"MM":case"LL":e=Dn($t.Month,2,1);break;case"MMM":e=cn(Wt.Months,rn.Abbreviated);break;case"MMMM":e=cn(Wt.Months,rn.Wide);break;case"MMMMM":e=cn(Wt.Months,rn.Narrow);break;case"LLL":e=cn(Wt.Months,rn.Abbreviated,li.Standalone);break;case"LLLL":e=cn(Wt.Months,rn.Wide,li.Standalone);break;case"LLLLL":e=cn(Wt.Months,rn.Narrow,li.Standalone);break;case"w":e=db(1);break;case"ww":e=db(2);break;case"W":e=db(1,!0);break;case"d":e=Dn($t.Date,1);break;case"dd":e=Dn($t.Date,2);break;case"c":case"cc":e=Dn($t.Day,1);break;case"ccc":e=cn(Wt.Days,rn.Abbreviated,li.Standalone);break;case"cccc":e=cn(Wt.Days,rn.Wide,li.Standalone);break;case"ccccc":e=cn(Wt.Days,rn.Narrow,li.Standalone);break;case"cccccc":e=cn(Wt.Days,rn.Short,li.Standalone);break;case"E":case"EE":case"EEE":e=cn(Wt.Days,rn.Abbreviated);break;case"EEEE":e=cn(Wt.Days,rn.Wide);break;case"EEEEE":e=cn(Wt.Days,rn.Narrow);break;case"EEEEEE":e=cn(Wt.Days,rn.Short);break;case"a":case"aa":case"aaa":e=cn(Wt.DayPeriods,rn.Abbreviated);break;case"aaaa":e=cn(Wt.DayPeriods,rn.Wide);break;case"aaaaa":e=cn(Wt.DayPeriods,rn.Narrow);break;case"b":case"bb":case"bbb":e=cn(Wt.DayPeriods,rn.Abbreviated,li.Standalone,!0);break;case"bbbb":e=cn(Wt.DayPeriods,rn.Wide,li.Standalone,!0);break;case"bbbbb":e=cn(Wt.DayPeriods,rn.Narrow,li.Standalone,!0);break;case"B":case"BB":case"BBB":e=cn(Wt.DayPeriods,rn.Abbreviated,li.Format,!0);break;case"BBBB":e=cn(Wt.DayPeriods,rn.Wide,li.Format,!0);break;case"BBBBB":e=cn(Wt.DayPeriods,rn.Narrow,li.Format,!0);break;case"h":e=Dn($t.Hours,1,-12);break;case"hh":e=Dn($t.Hours,2,-12);break;case"H":e=Dn($t.Hours,1);break;case"HH":e=Dn($t.Hours,2);break;case"m":e=Dn($t.Minutes,1);break;case"mm":e=Dn($t.Minutes,2);break;case"s":e=Dn($t.Seconds,1);break;case"ss":e=Dn($t.Seconds,2);break;case"S":e=Dn($t.FractionalSeconds,1);break;case"SS":e=Dn($t.FractionalSeconds,2);break;case"SSS":e=Dn($t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Bf(wo.Short);break;case"ZZZZZ":e=Bf(wo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Bf(wo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Bf(wo.Long);break;default:return null}return ub[n]=e,e}function oI(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function rL(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function oL(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),o=oI(e,r);return rL(n,i*(o-r))}function sL(n){if(XE(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return Hf(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(XF))return aL(i)}let e=new Date(n);if(!XE(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function aL(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function XE(n){return n instanceof Date&&!isNaN(n.valueOf())}function Wf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var hb=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Rt=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new hb(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),ZE(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);ZE(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(ee(_r),ee(Hr),ee(Of))}}static{this.\u0275dir=wt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ZE(n,e){n.context.$implicit=e.item}var Kn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new fb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(ee(_r),ee(Hr))}}static{this.\u0275dir=wt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),fb=class{constructor(){this.$implicit=null,this.ngIf=null}};function KE(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${si(e)}'.`)}function cL(n,e){return new ue(2100,!1)}var lL="mediumDate",dL=new _e(""),uL=new _e(""),sI=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??lL,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return KF(t,s,o||this.locale,a)}catch(s){throw cL(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(ee(Jl,16),ee(dL,24),ee(uL,24))}}static{this.\u0275pipe=JC({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var hs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})(),bb="browser",hL="server";function So(n){return n===bb}function $f(n){return n===hL}var aI=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>So(oe(Zn))?new pb(oe(Ct),window):new mb})}}return n})(),pb=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=fL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function fL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var mb=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ic=class{};var nd=class{},Yf=class{},Eo=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var xb=class{encodeKey(e){return cI(e)}encodeValue(e){return cI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var mL=/%(\d[a-f0-9])/gi,gL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cI(n){return encodeURIComponent(n).replace(mL,(e,t)=>gL[t]??e)}function qf(n){return`${n}`}var ps=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=pL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(qf):[qf(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(qf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(qf(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Mb=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function vL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dI(n){return typeof Blob<"u"&&n instanceof Blob}function uI(n){return typeof FormData<"u"&&n instanceof FormData}function _L(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var td=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(vL(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Eo,this.context??=new Mb,!this.params)this.params=new ps,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||lI(this.body)||dI(this.body)||uI(this.body)||_L(this.body)?this.body:this.body instanceof ps?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uI(this.body)?null:dI(this.body)?this.body.type||null:lI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ps?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),d)),new n(t,i,s,{params:d,headers:l,context:u,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},ms=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ms||{}),id=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Eo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xf=class n extends id{constructor(e={}){super(e),this.type=ms.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rd=class n extends id{constructor(e={}){super(e),this.type=ms.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},fs=class extends id{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},gI=200,bL=204;function yb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ga=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof td)o=t;else{let c;r.headers instanceof Eo?c=r.headers:c=new Eo(r.headers);let l;r.params&&(r.params instanceof ps?l=r.params:l=new ps({fromObject:r.params})),o=new td(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=Ye(o).pipe(ao(c=>this.handler.handle(c)));if(t instanceof td||r.observe==="events")return s;let a=s.pipe(xn(c=>c instanceof rd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ot(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ot(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ot(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ot(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ps().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,yb(r,i))}post(t,i,r={}){return this.request("POST",t,yb(r,i))}put(t,i,r={}){return this.request("PUT",t,yb(r,i))}static{this.\u0275fac=function(i){return new(i||n)(Y(nd))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),yL=/^\)\]\}',?\n/,xL="X-Request-URL";function hI(n){if(n.url)return n.url;let e=xL.toLocaleLowerCase();return n.headers.get(e)}var ML=(()=>{class n{constructor(){this.fetchImpl=oe(wb,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=oe(je)}handle(t){return new lt(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(Cb,o=>i.error(new fs({error:o}))),()=>r.abort()})}doRequest(t,i,r){return $o(this,null,function*(){let o=this.createRequestInit(t),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,se({signal:i},o)));wL(f),r.next({type:ms.Sent}),s=yield f}catch(f){r.error(new fs({error:f,status:f.status??0,statusText:f.statusText,url:t.urlWithParams,headers:f.headers}));return}let a=new Eo(s.headers),c=s.statusText,l=hI(s)??t.urlWithParams,d=s.status,u=null;if(t.reportProgress&&r.next(new Xf({headers:a,status:d,statusText:c,url:l})),s.body){let f=s.headers.get("content-length"),v=[],b=s.body.getReader(),_=0,m,I,C=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>$o(this,null,function*(){for(;;){let{done:P,value:T}=yield b.read();if(P)break;if(v.push(T),_+=T.length,t.reportProgress){I=t.responseType==="text"?(I??"")+(m??=new TextDecoder).decode(T,{stream:!0}):void 0;let O=()=>r.next({type:ms.DownloadProgress,total:f?+f:void 0,loaded:_,partialText:I});C?C.run(O):O()}}}));let A=this.concatChunks(v,_);try{let P=s.headers.get("Content-Type")??"";u=this.parseBody(t,A,P)}catch(P){r.error(new fs({error:P,headers:new Eo(s.headers),status:s.status,statusText:s.statusText,url:hI(s)??t.urlWithParams}));return}}d===0&&(d=u?gI:0),d>=200&&d<300?(r.next(new rd({body:u,headers:a,status:d,statusText:c,url:l})),r.complete()):r.error(new fs({error:u,headers:a,status:d,statusText:c,url:l}))})}parseBody(t,i,r){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(yL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),wb=class{};function Cb(){}function wL(n){n.then(Cb,Cb)}function vI(n,e){return e(n)}function CL(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function SL(n,e,t){return(i,r)=>$i(t,()=>e(i,o=>n(o,r)))}var Sb=new _e(""),Eb=new _e(""),EL=new _e(""),_I=new _e("",{providedIn:"root",factory:()=>!0});function IL(){let n=null;return(e,t)=>{n===null&&(n=(oe(Sb,{optional:!0})??[]).reduceRight(CL,vI));let i=oe(go);if(oe(_I)){let o=i.add();return n(e,t).pipe(Ko(()=>i.remove(o)))}else return n(e,t)}}var fI=(()=>{class n extends nd{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=oe(go),this.contributeToStability=oe(_I)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Eb),...this.injector.get(EL,[])]));this.chain=i.reduceRight((r,o)=>SL(r,o,this.injector),vI)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ko(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(Y(Yf),Y($n))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();var TL=/^\)\]\}',?\n/;function DL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var pI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ue(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?tn(i.\u0275loadImpl()):Ye(null)).pipe(ri(()=>new lt(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((b,_)=>s.setRequestHeader(b,_.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let b=t.detectContentTypeHeader();b!==null&&s.setRequestHeader("Content-Type",b)}if(t.responseType){let b=t.responseType.toLowerCase();s.responseType=b!=="json"?b:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let b=s.statusText||"OK",_=new Eo(s.getAllResponseHeaders()),m=DL(s)||t.url;return c=new Xf({headers:_,status:s.status,statusText:b,url:m}),c},d=()=>{let{headers:b,status:_,statusText:m,url:I}=l(),C=null;_!==bL&&(C=typeof s.response>"u"?s.responseText:s.response),_===0&&(_=C?gI:0);let A=_>=200&&_<300;if(t.responseType==="json"&&typeof C=="string"){let P=C;C=C.replace(TL,"");try{C=C!==""?JSON.parse(C):null}catch(T){C=P,A&&(A=!1,C={error:T,text:C})}}A?(o.next(new rd({body:C,headers:b,status:_,statusText:m,url:I||void 0})),o.complete()):o.error(new fs({error:C,headers:b,status:_,statusText:m,url:I||void 0}))},u=b=>{let{url:_}=l(),m=new fs({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:_||void 0});o.error(m)},h=!1,f=b=>{h||(o.next(l()),h=!0);let _={type:ms.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(_.total=b.total),t.responseType==="text"&&s.responseText&&(_.partialText=s.responseText),o.next(_)},v=b=>{let _={type:ms.UploadProgress,loaded:b.loaded};b.lengthComputable&&(_.total=b.total),o.next(_)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),t.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:ms.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),t.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(Y(Ic))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),bI=new _e(""),AL="XSRF-TOKEN",PL=new _e("",{providedIn:"root",factory:()=>AL}),OL="X-XSRF-TOKEN",RL=new _e("",{providedIn:"root",factory:()=>OL}),Zf=class{},kL=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(Zn),Y(PL))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function NL(n,e){let t=n.url.toLowerCase();if(!oe(bI)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=oe(Zf).getToken(),r=oe(RL);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var yI=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(yI||{});function FL(n,e){return{\u0275kind:n,\u0275providers:e}}function LL(...n){let e=[ga,pI,fI,{provide:nd,useExisting:fI},{provide:Yf,useFactory:()=>oe(ML,{optional:!0})??oe(pI)},{provide:Eb,useValue:NL,multi:!0},{provide:bI,useValue:!0},{provide:Zf,useClass:kL}];for(let t of n)e.push(...t.\u0275providers);return uf(e)}var mI=new _e("");function BL(){return FL(yI.LegacyInterceptors,[{provide:mI,useFactory:IL},{provide:Eb,useExisting:mI,multi:!0}])}var xI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({providers:[LL(BL())]})}}return n})();var Ab=class extends zf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pb=class n extends Ab{static makeCurrent(){JE(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=UL();return t==null?null:VL(t)}resetBaseElement(){od=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wf(document.cookie,e)}},od=null;function UL(){return od=od||document.querySelector("base"),od?od.getAttribute("href"):null}function VL(n){return new URL(n,document.baseURI).pathname}var Ob=class{addToWindow(e){Wn.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new ue(5103,!1);return o},Wn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wn.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=Wn.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Wn.frameworkStabilizers||(Wn.frameworkStabilizers=[]),Wn.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?Cr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},zL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),Rb=new _e(""),CI=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new ue(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(Y(Rb),Y(je))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),Kf=class{constructor(e){this._doc=e}},Tb="ng-app-id",SI=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$f(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Tb}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Tb),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Tb,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(ql),Y(Yl,8),Y(Zn))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),Db={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Nb=/%COMP%/g,EI="%COMP%",HL=`_nghost-${EI}`,jL=`_ngcontent-${EI}`,GL=!0,WL=new _e("",{providedIn:"root",factory:()=>GL});function $L(n){return jL.replace(Nb,n)}function qL(n){return HL.replace(Nb,n)}function II(n,e){return e.map(t=>t.replace(Nb,n))}var Qf=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=$f(a),this.defaultRenderer=new sd(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Br.ShadowDom&&(i=ht(se({},i),{encapsulation:Br.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Jf?r.applyToHost(t):r instanceof ad&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case Br.Emulated:o=new Jf(c,l,i,this.appId,d,s,a,u);break;case Br.ShadowDom:return new kb(c,l,t,i,s,a,this.nonce,u);default:o=new ad(c,l,i,d,s,a,u);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(Y(CI),Y(SI),Y(ql),Y(WL),Y(Ct),Y(Zn),Y(je),Y(Yl))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),sd=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Db[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(MI(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(MI(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ue(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Db[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Db[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(uo.DashCase|uo.Important)?e.style.setProperty(t,i,r&uo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&uo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function MI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var kb=class extends sd{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=II(r.id,r.styles);for(let d of l){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ad=class extends sd{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?II(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Jf=class extends ad{constructor(e,t,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=$L(l),this.hostAttr=qL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},YL=(()=>{class n extends Kf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),wI=["alt","control","meta","shift"],XL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},KL=(()=>{class n extends Kf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wI.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=XL[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),wI.forEach(s=>{if(s!==r){let a=ZL[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function QL(){Pb.makeCurrent()}function JL(){return new zr}function e4(){return sS(document),document}var t4=[{provide:Zn,useValue:bb},{provide:F_,useValue:QL,multi:!0},{provide:Ct,useFactory:e4,deps:[]}],TI=ab(GE,"browser",t4),n4=new _e(""),i4=[{provide:Ql,useClass:Ob,deps:[]},{provide:ob,useClass:If,deps:[je,Tf,Ql]},{provide:If,useClass:If,deps:[je,Tf,Ql]}],r4=[{provide:hf,useValue:"root"},{provide:zr,useFactory:JL,deps:[]},{provide:Rb,useClass:YL,multi:!0,deps:[Ct,je,Zn]},{provide:Rb,useClass:KL,multi:!0,deps:[Ct]},Qf,SI,CI,{provide:os,useExisting:Qf},{provide:Ic,useClass:zL,deps:[]},[]],ep=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ql,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(Y(n4,12))}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({providers:[...r4,...i4],imports:[hs,WE]})}}return n})(),DI=(()=>{class n{constructor(t){this._doc=t,this._dom=Cr()}addTag(t,i=!1){return t?this._getOrCreateElement(t,i):null}addTags(t,i=!1){return t?t.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];let i=this._doc.querySelectorAll(`meta[${t}]`);return i?[].slice.call(i):[]}updateTag(t,i){if(!t)return null;i=i||this._parseSelector(t);let r=this.getTag(i);return r?this._setMetaElementAttributes(t,r):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,i=!1){if(!i){let s=this._parseSelector(t),a=this.getTags(s).filter(c=>this._containsAttributes(t,c))[0];if(a!==void 0)return a}let r=this._dom.createElement("meta");return this._setMetaElementAttributes(t,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(t,i){return Object.keys(t).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),t[r])),i}_parseSelector(t){let i=t.name?"name":"property";return`${i}="${t[i]}"`}_containsAttributes(t,i){return Object.keys(t).every(r=>i.getAttribute(this._getMetaKeyMap(r))===t[r])}_getMetaKeyMap(t){return o4[t]||t}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),o4={httpEquiv:"http-equiv"},tp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Fb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Y(s4),r},providedIn:"root"})}}return n})(),s4=(()=>{class n extends Fb{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case vr.NONE:return i;case vr.HTML:return vo(i,"HTML")?Yi(i):B_(this._doc,String(i)).toString();case vr.STYLE:return vo(i,"Style")?Yi(i):i;case vr.SCRIPT:if(vo(i,"Script"))return Yi(i);throw new ue(5200,!1);case vr.URL:return vo(i,"URL")?Yi(i):bf(String(i));case vr.RESOURCE_URL:if(vo(i,"ResourceURL"))return Yi(i);throw new ue(5201,!1);default:throw new ue(5202,!1)}}bypassSecurityTrustHtml(t){return uS(t)}bypassSecurityTrustStyle(t){return hS(t)}bypassSecurityTrustScript(t){return fS(t)}bypassSecurityTrustUrl(t){return pS(t)}bypassSecurityTrustResourceUrl(t){return mS(t)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var St=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(St||{}),Wr="*";function AI(n,e=null){return{type:St.Sequence,steps:n,options:e}}function Lb(n){return{type:St.Style,styles:n,offset:null}}var gs=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},cd=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},ip="!";function PI(n){return new ue(3e3,!1)}function a4(){return new ue(3100,!1)}function c4(){return new ue(3101,!1)}function l4(n){return new ue(3001,!1)}function d4(n){return new ue(3003,!1)}function u4(n){return new ue(3004,!1)}function h4(n,e){return new ue(3005,!1)}function f4(){return new ue(3006,!1)}function p4(){return new ue(3007,!1)}function m4(n,e){return new ue(3008,!1)}function g4(n){return new ue(3002,!1)}function v4(n,e,t,i,r){return new ue(3010,!1)}function _4(){return new ue(3011,!1)}function b4(){return new ue(3012,!1)}function y4(){return new ue(3200,!1)}function x4(){return new ue(3202,!1)}function M4(){return new ue(3013,!1)}function w4(n){return new ue(3014,!1)}function C4(n){return new ue(3015,!1)}function S4(n){return new ue(3016,!1)}function E4(n,e){return new ue(3404,!1)}function I4(n){return new ue(3502,!1)}function T4(n){return new ue(3503,!1)}function D4(){return new ue(3300,!1)}function A4(n){return new ue(3504,!1)}function P4(n){return new ue(3301,!1)}function O4(n,e){return new ue(3302,!1)}function R4(n){return new ue(3303,!1)}function k4(n,e){return new ue(3400,!1)}function N4(n){return new ue(3401,!1)}function F4(n){return new ue(3402,!1)}function L4(n,e){return new ue(3505,!1)}function vs(n){switch(n.length){case 0:return new gs;case 1:return n[0];default:return new cd(n)}}function WI(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((h,f)=>{let v=f,b=h;if(f!=="offset")switch(v=n.normalizePropertyName(v,r),b){case ip:b=t.get(f);break;case Wr:b=i.get(f);break;default:b=n.normalizeStyleValue(f,v,b,r);break}u.set(v,b)}),d||o.push(u),a=u,s=l}),r.length)throw I4(r);return o}function sy(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Bb(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Bb(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Bb(t,"destroy",n)));break}}function Bb(n,e,t){let i=t.totalTime,r=!!t.disabled,o=ay(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function ay(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ki(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function OI(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var B4=typeof document>"u"?null:document.documentElement;function cy(n){let e=n.parentNode||n.host||null;return e===B4?null:e}function U4(n){return n.substring(1,6)=="ebkit"}var va=null,RI=!1;function V4(n){va||(va=z4()||{},RI=va.style?"WebkitAppearance"in va.style:!1);let e=!0;return va.style&&!U4(n)&&(e=n in va.style,!e&&RI&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in va.style)),e}function z4(){return typeof document<"u"?document.body:null}function $I(n,e){for(;e;){if(e===n)return!0;e=cy(e)}return!1}function qI(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var ly=(()=>{class n{validateStyleProperty(t){return V4(t)}containsElement(t,i){return $I(t,i)}getParentElement(t){return cy(t)}query(t,i,r){return qI(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new gs(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),ya=class{static{this.NOOP=new ly}},xa=class{};var H4=1e3,YI="{{",j4="}}",XI="ng-enter",Gb="ng-leave",rp="ng-trigger",lp=".ng-trigger",kI="ng-animating",Wb=".ng-animating";function Io(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$b(parseFloat(e[1]),e[2])}function $b(n,e){switch(e){case"s":return n*H4;default:return n}}function dp(n,e,t){return n.hasOwnProperty("duration")?n:G4(n,e,t)}function G4(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(PI(n)),{duration:0,delay:0,easing:""};r=$b(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=$b(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(a4()),a=!0),o<0&&(e.push(c4()),a=!0),a&&e.splice(c,0,PI(n))}return{duration:r,delay:o,easing:s}}function W4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function $r(n,e,t){e.forEach((i,r)=>{let o=dy(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function ba(n,e){e.forEach((t,i)=>{let r=dy(i);n.style[r]=""})}function ld(n){return Array.isArray(n)?n.length==1?n[0]:AI(n):n}function $4(n,e,t){let i=e.params||{},r=ZI(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(l4(o))})}var qb=new RegExp(`${YI}\\s*(.+?)\\s*${j4}`,"g");function ZI(n){let e=[];if(typeof n=="string"){let t;for(;t=qb.exec(n);)e.push(t[1]);qb.lastIndex=0}return e}function ud(n,e,t){let i=`${n}`,r=i.replace(qb,(o,s)=>{let a=e[s];return a==null&&(t.push(d4(s)),a=""),a.toString()});return r==i?n:r}var q4=/-+([a-z0-9])/g;function dy(n){return n.replace(q4,(...e)=>e[1].toUpperCase())}function Y4(n,e){return n===0||e===0}function X4(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,uy(n,a)))}}return e}function Ri(n,e,t){switch(e.type){case St.Trigger:return n.visitTrigger(e,t);case St.State:return n.visitState(e,t);case St.Transition:return n.visitTransition(e,t);case St.Sequence:return n.visitSequence(e,t);case St.Group:return n.visitGroup(e,t);case St.Animate:return n.visitAnimate(e,t);case St.Keyframes:return n.visitKeyframes(e,t);case St.Style:return n.visitStyle(e,t);case St.Reference:return n.visitReference(e,t);case St.AnimateChild:return n.visitAnimateChild(e,t);case St.AnimateRef:return n.visitAnimateRef(e,t);case St.Query:return n.visitQuery(e,t);case St.Stagger:return n.visitStagger(e,t);default:throw u4(e.type)}}function uy(n,e){return window.getComputedStyle(n)[e]}var Z4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),up=class extends xa{normalizePropertyName(e,t){return dy(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(Z4.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(h4(e,i))}return s+o}};var hp="*";function K4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Q4(i,t,e)):t.push(n),t}function Q4(n,e,t){if(n[0]==":"){let c=J4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(C4(n)),e;let r=i[1],o=i[2],s=i[3];e.push(NI(r,s));let a=r==hp&&s==hp;o[0]=="<"&&!a&&e.push(NI(s,r))}function J4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(S4(n)),"* => *"}}var op=new Set(["true","1"]),sp=new Set(["false","0"]);function NI(n,e){let t=op.has(n)||sp.has(n),i=op.has(e)||sp.has(e);return(r,o)=>{let s=n==hp||n==r,a=e==hp||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?op.has(n):sp.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?op.has(e):sp.has(e)),s&&a}}var KI=":self",eB=new RegExp(`s*${KI}s*,?`,"g");function QI(n,e,t,i){return new Yb(n).build(e,t,i)}var FI="",Yb=class{constructor(e){this._driver=e}build(e,t,i){let r=new Xb(t);return this._resetContextStyleTimingState(r),Ri(this,ld(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=FI,e.collectedStyles=new Map,e.collectedStyles.set(FI,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(f4()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==St.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==St.Transition){let c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(p4())}),{type:St.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{ZI(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(m4(e.name,[...o.values()]))}return{type:St.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Ri(this,ld(e.animation),t),r=K4(e.expr,t.errors);return{type:St.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:_a(e.options)}}visitSequence(e,t){return{type:St.Sequence,steps:e.steps.map(i=>Ri(this,i,t)),options:_a(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=Ri(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:St.Group,steps:o,options:_a(e.options)}}visitAnimate(e,t){let i=rB(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Lb({});if(o.type==St.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};i.easing&&(l.easing=i.easing),s=Lb(l)}t.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:St.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Wr?i.push(a):t.errors.push(g4(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(YI)>=0){o=!0;break}}}),{type:St.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c),u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(v4(c,d.startTime,d.endTime,o,r)),u=!1),o=d.startTime),u&&l.set(c,{startTime:o,endTime:r}),t.options&&$4(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:St.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(_4()),i;let r=1,o=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(m=>{let I=this._makeStyleAst(m,t),C=I.offset!=null?I.offset:iB(I.styles),A=0;return C!=null&&(o++,A=I.offset=C),c=c||A<0||A>1,a=a||A<l,l=A,s.push(A),I});c&&t.errors.push(b4()),a&&t.errors.push(y4());let u=e.steps.length,h=0;o>0&&o<u?t.errors.push(x4()):o==0&&(h=r/(u-1));let f=u-1,v=t.currentTime,b=t.currentAnimateTimings,_=b.duration;return d.forEach((m,I)=>{let C=h>0?I==f?1:h*I:s[I],A=C*_;t.currentTime=v+b.delay+A,b.duration=A,this._validateStyleAst(m,t),m.offset=C,i.styles.push(m)}),i}visitReference(e,t){return{type:St.Reference,animation:Ri(this,ld(e.animation),t),options:_a(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:St.AnimateChild,options:_a(e.options)}}visitAnimateRef(e,t){return{type:St.AnimateRef,animation:this.visitReference(e.animation,t),options:_a(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=tB(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ki(t.collectedStyles,t.currentQuerySelector,new Map);let a=Ri(this,ld(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:St.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:_a(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(M4());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:dp(e.timings,t.errors,!0);return{type:St.Stagger,animation:Ri(this,ld(e.animation),t),timings:i,options:null}}};function tB(n){let e=!!n.split(/\s*,\s*/).find(t=>t==KI);return e&&(n=n.replace(eB,"")),n=n.replace(/@\*/g,lp).replace(/@\w+/g,t=>lp+"-"+t.slice(1)).replace(/:animating/g,Wb),[n,e]}function nB(n){return n?se({},n):null}var Xb=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function iB(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function rB(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=dp(n,e).duration;return Ub(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Ub(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=dp(t,e);return Ub(r.duration,r.delay,r.easing)}function _a(n){return n?(n=se({},n),n.params&&(n.params=nB(n.params))):n={},n}function Ub(n,e,t){return{duration:n,delay:e,easing:t}}function hy(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var hd=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},oB=1,sB=":enter",aB=new RegExp(sB,"g"),cB=":leave",lB=new RegExp(cB,"g");function JI(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return new Zb().buildKeyframes(n,e,t,i,r,o,s,a,c,l)}var Zb=class{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new hd;let u=new Kb(e,t,l,r,o,d,[]);u.options=c;let h=c.delay?Io(c.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,c),Ri(this,i,u);let f=u.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let b=f.length-1;b>=0;b--){let _=f[b];if(_.element===t){v=_;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,u.errors,c)}return f.length?f.map(v=>v.buildKeyframes()):[hy(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Io(ud(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?Io(i.duration):null,a=i.delay!=null?Io(i.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ri(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==St.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fp);let s=Io(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ri(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Io(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Ri(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?ud(i,t.params,t.errors):i;return dp(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==St.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Io(r.delay):0;o&&(t.previousNode.type===St.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fp);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;let u=t.createSubContext(e.options,l);o&&u.delayNextStep(o),l===t.element&&(c=u.currentTimeline),Ri(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let h=u.currentTimeline.currentTime;s=Math.max(s,h)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let u=d.currentTime;Ri(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}},fp={},Kb=class n{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new pp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Io(i.duration)),i.delay!=null&&(r.delay=Io(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=ud(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=fp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Qb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(aB,"."+this._enterClassName),e=e.replace(lB,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,e,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&a.length==0&&s.push(w4(t)),a}},pp=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=oB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Wr),this._currentKeyframe.set(t,Wr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=dB(e,this._globalTimelineStyles);for(let[a,c]of s){let l=ud(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Wr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,u)=>{d===ip?e.add(u):d===Wr&&t.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return hy(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},Qb=class extends pp{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",LI(a)),o.push(l);let d=e.length-1;for(let u=1;u<=d;u++){let h=new Map(e[u]),f=h.get("offset"),v=t+f*i;h.set("offset",LI(v/s)),o.push(h)}i=s,t=0,r="",e=o}return hy(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function LI(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function dB(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,Wr)}else for(let[o,s]of r)t.set(o,s)}),t}function BI(n,e,t,i,r,o,s,a,c,l,d,u,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:h}}var Vb={},mp=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return uB(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){let u=[],h=this.ast.options&&this.ast.options.params||Vb,f=a&&a.params||Vb,v=this.buildStyles(i,f,u),b=c&&c.params||Vb,_=this.buildStyles(r,b,u),m=new Set,I=new Map,C=new Map,A=r==="void",P={params:eT(b,h),delay:this.ast.options?.delay},T=d?[]:JI(e,t,this.ast.animation,o,s,v,_,P,l,u),O=0;return T.forEach(j=>{O=Math.max(j.duration+j.delay,O)}),u.length?BI(t,this._triggerName,i,r,A,v,_,[],[],I,C,O,u):(T.forEach(j=>{let E=j.element,w=ki(I,E,new Set);j.preStyleProps.forEach(W=>w.add(W));let N=ki(C,E,new Set);j.postStyleProps.forEach(W=>N.add(W)),E!==t&&m.add(E)}),BI(t,this._triggerName,i,r,A,v,_,T,[...m.values()],I,C,O))}};function uB(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function eT(n,e){let t=se({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var Jb=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=eT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ud(s,r,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}};function hB(n,e,t){return new ey(n,e,t)}var ey=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Jb(r.style,o,i))}),UI(this.states,"true","1"),UI(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new mp(e,r,this.states))}),this.fallbackTransition=fB(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function fB(n,e,t){let i=[(s,a)=>!0],r={type:St.Sequence,steps:[],options:null},o={type:St.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new mp(n,o,e)}function UI(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var pB=new hd,ty=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],o=QI(this._driver,t,i,r);if(i.length)throw T4(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=WI(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=JI(this._driver,t,o,XI,Gb,new Map,new Map,i,pB,r),s.forEach(d=>{let u=ki(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(D4()),s=[]),r.length)throw A4(r);a.forEach((d,u)=>{d.forEach((h,f)=>{d.set(f,this._driver.computeStyle(u,f,Wr))})});let c=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),l=vs(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw P4(e);return t}listen(e,t,i,r){let o=ay(t,"","","");return sy(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},VI="ng-animate-queued",mB=".ng-animate-queued",zb="ng-animate-disabled",gB=".ng-animate-disabled",vB="ng-star-inserted",_B=".ng-star-inserted",bB=[],tT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sr="__ng_removed",fd=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=MB(r),i){let o=e,{value:s}=o,a=S0(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},dd="void",Hb=new fd(dd),ny=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,tr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw O4(i,t);if(i==null||i.length==0)throw R4(t);if(!wB(i))throw k4(i,t);let o=ki(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=ki(this._engine.statesByElement,e,new Map);return a.has(t)||(tr(e,rp),tr(e,rp+"-"+t),a.set(t,Hb)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw N4(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new pd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(tr(e,rp),tr(e,rp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new fd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=Hb),!(l.value===dd)&&c.value===l.value){if(!EB(c.params,l.params)){let b=[],_=o.matchStyles(c.value,c.params,b),m=o.matchStyles(l.value,l.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{ba(e,_),$r(e,m)})}return}let h=ki(this._engine.playersByElement,e,[]);h.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!f){if(!r)return;f=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(tr(e,VI),s.onStart(()=>{Tc(e,VI)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let _=this._engine.playersByElement.get(e);if(_){let m=_.indexOf(s);m>=0&&_.splice(m,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,lp,!0);i.forEach(r=>{if(r[Sr])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,dd,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&vs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,l=i.get(s)||Hb,d=new fd(dd),u=new pd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Sr];(!o||o===tT)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){tr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=ay(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,sy(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},iy=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new ny(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=r.get(a);if(c){let l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(ap(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ap(t))return;let o=t[Sr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),tr(e,zb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Tc(e,zb))}removeNode(e,t,i){if(ap(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Sr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return ap(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,lp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Wb,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vs(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Sr];if(t&&t.setForRemoval){if(e[Sr]=tT,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,gB,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];tr(r,vB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?vs(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw F4(e)}_flushAnimations(e,t){let i=new hd,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(U=>{d.add(U);let G=this.driver.query(U,mB,!0);for(let L=0;L<G.length;L++)d.add(G[L])});let u=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=jI(h,this.collectedEnterElements),v=new Map,b=0;f.forEach((U,G)=>{let L=XI+b++;v.set(G,L),U.forEach(J=>tr(J,L))});let _=[],m=new Set,I=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let G=this.collectedLeaveElements[U],L=G[Sr];L&&L.setForRemoval&&(_.push(G),m.add(G),L.hasAnimation?this.driver.query(G,_B,!0).forEach(J=>m.add(J)):I.add(G))}let C=new Map,A=jI(h,Array.from(m));A.forEach((U,G)=>{let L=Gb+b++;C.set(G,L),U.forEach(J=>tr(J,L))}),e.push(()=>{f.forEach((U,G)=>{let L=v.get(G);U.forEach(J=>Tc(J,L))}),A.forEach((U,G)=>{let L=C.get(G);U.forEach(J=>Tc(J,L))}),_.forEach(U=>{this.processLeaveNode(U)})});let P=[],T=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(L=>{let J=L.player,pe=L.element;if(P.push(J),this.collectedEnterElements.length){let K=pe[Sr];if(K&&K.setForMove){if(K.previousTriggersValues&&K.previousTriggersValues.has(L.triggerName)){let Se=K.previousTriggersValues.get(L.triggerName),Ue=this.statesByElement.get(L.element);if(Ue&&Ue.has(L.triggerName)){let ke=Ue.get(L.triggerName);ke.value=Se,Ue.set(L.triggerName,ke)}}J.destroy();return}}let Ae=!u||!this.driver.containsElement(u,pe),Je=C.get(pe),It=v.get(pe),Xe=this._buildInstruction(L,i,It,Je,Ae);if(Xe.errors&&Xe.errors.length){T.push(Xe);return}if(Ae){J.onStart(()=>ba(pe,Xe.fromStyles)),J.onDestroy(()=>$r(pe,Xe.toStyles)),r.push(J);return}if(L.isFallbackTransition){J.onStart(()=>ba(pe,Xe.fromStyles)),J.onDestroy(()=>$r(pe,Xe.toStyles)),r.push(J);return}let Yt=[];Xe.timelines.forEach(K=>{K.stretchStartingKeyframe=!0,this.disabledNodes.has(K.element)||Yt.push(K)}),Xe.timelines=Yt,i.append(pe,Xe.timelines);let te={instruction:Xe,player:J,element:pe};s.push(te),Xe.queriedElements.forEach(K=>ki(a,K,[]).push(J)),Xe.preStyleProps.forEach((K,Se)=>{if(K.size){let Ue=c.get(Se);Ue||c.set(Se,Ue=new Set),K.forEach((ke,gt)=>Ue.add(gt))}}),Xe.postStyleProps.forEach((K,Se)=>{let Ue=l.get(Se);Ue||l.set(Se,Ue=new Set),K.forEach((ke,gt)=>Ue.add(gt))})});if(T.length){let U=[];T.forEach(G=>{U.push(L4(G.triggerName,G.errors))}),P.forEach(G=>G.destroy()),this.reportError(U)}let O=new Map,j=new Map;s.forEach(U=>{let G=U.element;i.has(G)&&(j.set(G,G),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,O))}),r.forEach(U=>{let G=U.element;this._getPreviousPlayers(G,!1,U.namespaceId,U.triggerName,null).forEach(J=>{ki(O,G,[]).push(J),J.destroy()})});let E=_.filter(U=>GI(U,c,l)),w=new Map;HI(w,this.driver,I,l,Wr).forEach(U=>{GI(U,c,l)&&E.push(U)});let W=new Map;f.forEach((U,G)=>{HI(W,this.driver,new Set(U),c,ip)}),E.forEach(U=>{let G=w.get(U),L=W.get(U);w.set(U,new Map([...G?.entries()??[],...L?.entries()??[]]))});let Z=[],re=[],Q={};s.forEach(U=>{let{element:G,player:L,instruction:J}=U;if(i.has(G)){if(d.has(G)){L.onDestroy(()=>$r(G,J.toStyles)),L.disabled=!0,L.overrideTotalTime(J.totalTime),r.push(L);return}let pe=Q;if(j.size>1){let Je=G,It=[];for(;Je=Je.parentNode;){let Xe=j.get(Je);if(Xe){pe=Xe;break}It.push(Je)}It.forEach(Xe=>j.set(Xe,pe))}let Ae=this._buildAnimation(L.namespaceId,J,O,o,W,w);if(L.setRealPlayer(Ae),pe===Q)Z.push(L);else{let Je=this.playersByElement.get(pe);Je&&Je.length&&(L.parentPlayer=vs(Je)),r.push(L)}}else ba(G,J.fromStyles),L.onDestroy(()=>$r(G,J.toStyles)),re.push(L),d.has(G)&&r.push(L)}),re.forEach(U=>{let G=o.get(U.element);if(G&&G.length){let L=vs(G);U.setRealPlayer(L)}}),r.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<_.length;U++){let G=_[U],L=G[Sr];if(Tc(G,Gb),L&&L.hasAnimation)continue;let J=[];if(a.size){let Ae=a.get(G);Ae&&Ae.length&&J.push(...Ae);let Je=this.driver.query(G,Wb,!0);for(let It=0;It<Je.length;It++){let Xe=a.get(Je[It]);Xe&&Xe.length&&J.push(...Xe)}}let pe=J.filter(Ae=>!Ae.destroyed);pe.length?CB(this,G,pe):this.processLeaveNode(G)}return _.length=0,Z.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let G=this.players.indexOf(U);this.players.splice(G,1)}),U.play()}),Z}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==dd;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let c of t.timelines){let l=c.element,d=l!==o,u=ki(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(f=>{let v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),u.push(f)})}ba(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,c=t.element,l=[],d=new Set,u=new Set,h=t.timelines.map(v=>{let b=v.element;d.add(b);let _=b[Sr];if(_&&_.removedBeforeQueried)return new gs(v.duration,v.delay);let m=b!==c,I=SB((i.get(b)||bB).map(O=>O.getRealPlayer())).filter(O=>{let j=O;return j.element?j.element===b:!1}),C=o.get(b),A=s.get(b),P=WI(this._normalizer,v.keyframes,C,A),T=this._buildPlayer(v,P,I);if(v.subTimeline&&r&&u.add(b),m){let O=new pd(e,a,b);O.setRealPlayer(T),l.push(O)}return T});l.forEach(v=>{ki(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>xB(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>tr(v,kI));let f=vs(h);return f.onDestroy(()=>{d.forEach(v=>Tc(v,kI)),$r(c,t.toStyles)}),u.forEach(v=>{ki(r,v,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new gs(e.duration,e.delay)}},pd=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new gs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>sy(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ki(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function xB(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function MB(n){return n??null}function ap(n){return n&&n.nodeType===1}function wB(n){return n=="start"||n=="done"}function zI(n,e){let t=n.style.display;return n.style.display=e??"none",t}function HI(n,e,t,i,r){let o=[];t.forEach(c=>o.push(zI(c)));let s=[];i.forEach((c,l)=>{let d=new Map;c.forEach(u=>{let h=e.computeStyle(l,u,r);d.set(u,h),(!h||h.length==0)&&(l[Sr]=yB,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>zI(c,o[a++])),s}function jI(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:r.has(l)?c=i:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&t.get(c).push(a)}),t}function tr(n,e){n.classList?.add(e)}function Tc(n,e){n.classList?.remove(e)}function CB(n,e,t){vs(t).onDone(()=>n.processLeaveNode(e))}function SB(n){let e=[];return nT(n,e),e}function nT(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof cd?nT(i.players,e):e.push(i)}}function EB(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function GI(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var Dc=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new iy(e.body,t,i),this._timelineEngine=new ty(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],l=[],d=QI(this._driver,o,c,l);if(c.length)throw E4(r,c);l.length&&void 0,a=hB(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=OI(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=OI(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function IB(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=jb(e[0]),e.length>1&&(i=jb(e[e.length-1]))):e instanceof Map&&(t=jb(e)),t||i?new ry(n,t,i):null}var ry=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&$r(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($r(this._element,this._initialStyles),this._endStyles&&($r(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ba(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ba(this._element,this._endStyles),this._endStyles=null),$r(this._element,this._initialStyles),this._state=3)}};function jb(n){let e=null;return n.forEach((t,i)=>{TB(i)&&(e=e||new Map,e.set(i,t))}),e}function TB(n){return n==="display"||n==="position"}var gp=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:uy(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},vp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return $I(e,t)}getParentElement(e){return cy(e)}query(e,t,i){return qI(e,t,i)}computeStyle(e,t,i){return uy(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let l=new Map,d=s.filter(f=>f instanceof gp);Y4(i,r)&&d.forEach(f=>{f.currentSnapshot.forEach((v,b)=>l.set(b,v))});let u=W4(t).map(f=>new Map(f));u=X4(e,u,l);let h=IB(e,u);return new gp(e,u,c,h)}};var cp="@",iT="@.disabled",_p=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==cp&&t==iT?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},oy=class extends _p{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==cp?t.charAt(1)=="."&&t==iT?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==cp){let r=DB(e),o=t.slice(1),s="";return o.charAt(0)!=cp&&([o,s]=AB(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,t,i)}};function DB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function AB(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var bp=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,d=l.get(r);if(!d){let u=()=>l.delete(r);d=new _p(i,r,this.engine,u),l.set(r,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new oy(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var OB=(()=>{class n extends Dc{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(ya),Y(xa))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function RB(){return new up}function kB(n,e,t){return new bp(n,e,t)}var oT=[{provide:xa,useFactory:RB},{provide:Dc,useClass:OB},{provide:os,useFactory:kB,deps:[Qf,Dc,je]}],rT=[{provide:ya,useFactory:()=>new vp},{provide:Gr,useValue:"BrowserAnimations"},...oT],NB=[{provide:ya,useClass:ly},{provide:Gr,useValue:"NoopAnimations"},...oT],sT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?NB:rT}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({providers:rT,imports:[ep]})}}return n})();var gT=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(ee(bo),ee(kt))}}static{this.\u0275dir=wt({type:n})}}return n})(),Tp=(()=>{class n extends gT{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gr(n)))(r||n)}})()}static{this.\u0275dir=wt({type:n,features:[Vn]})}}return n})(),xs=new _e(""),FB={provide:xs,useExisting:bi(()=>_y),multi:!0},_y=(()=>{class n extends Tp{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gr(n)))(r||n)}})()}static{this.\u0275dir=wt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&Te("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Fn([FB]),Vn]})}}return n})(),LB={provide:xs,useExisting:bi(()=>qr),multi:!0};function BB(){let n=Cr()?Cr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var UB=new _e(""),qr=(()=>{class n extends gT{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BB())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(ee(bo),ee(kt),ee(UB,8))}}static{this.\u0275dir=wt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Fn([LB]),Vn]})}}return n})();function _s(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function vT(n){return n!=null&&typeof n.length=="number"}var Rc=new _e(""),Dp=new _e(""),VB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ut=class{static min(e){return zB(e)}static max(e){return HB(e)}static required(e){return jB(e)}static requiredTrue(e){return GB(e)}static email(e){return WB(e)}static minLength(e){return $B(e)}static maxLength(e){return qB(e)}static pattern(e){return YB(e)}static nullValidator(e){return _T(e)}static compose(e){return CT(e)}static composeAsync(e){return ST(e)}};function zB(n){return e=>{if(_s(e.value)||_s(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function HB(n){return e=>{if(_s(e.value)||_s(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function jB(n){return _s(n.value)?{required:!0}:null}function GB(n){return n.value===!0?null:{required:!0}}function WB(n){return _s(n.value)||VB.test(n.value)?null:{email:!0}}function $B(n){return e=>_s(e.value)||!vT(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function qB(n){return e=>vT(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function YB(n){if(!n)return _T;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(_s(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function _T(n){return null}function bT(n){return n!=null}function yT(n){return ma(n)?tn(n):n}function xT(n){let e={};return n.forEach(t=>{e=t!=null?se(se({},e),t):e}),Object.keys(e).length===0?null:e}function MT(n,e){return e.map(t=>t(n))}function XB(n){return!n.validate}function wT(n){return n.map(e=>XB(e)?e:t=>e.validate(t))}function CT(n){if(!n)return null;let e=n.filter(bT);return e.length==0?null:function(t){return xT(MT(t,e))}}function by(n){return n!=null?CT(wT(n)):null}function ST(n){if(!n)return null;let e=n.filter(bT);return e.length==0?null:function(t){let i=MT(t,e).map(yT);return G0(i).pipe(ot(xT))}}function yy(n){return n!=null?ST(wT(n)):null}function aT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ET(n){return n._rawValidators}function IT(n){return n._rawAsyncValidators}function fy(n){return n?Array.isArray(n)?n:[n]:[]}function xp(n,e){return Array.isArray(n)?n.includes(e):n===e}function cT(n,e){let t=fy(e);return fy(n).forEach(r=>{xp(t,r)||t.push(r)}),t}function lT(n,e){return fy(e).filter(t=>!xp(n,t))}var Mp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=by(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},To=class extends Mp{get formDirective(){return null}get path(){return null}},Ma=class extends Mp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},wp=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ZB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SQ=ht(se({},ZB),{"[class.ng-submitted]":"isSubmitted"}),Ms=(()=>{class n extends wp{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(ee(Ma,2))}}static{this.\u0275dir=wt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ke("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Vn]})}}return n})(),ws=(()=>{class n extends wp{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(ee(To,10))}}static{this.\u0275dir=wt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ke("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Vn]})}}return n})();var md="VALID",yp="INVALID",Ac="PENDING",gd="DISABLED",bs=class{},Cp=class extends bs{constructor(e,t){super(),this.value=e,this.source=t}},_d=class extends bs{constructor(e,t){super(),this.pristine=e,this.source=t}},bd=class extends bs{constructor(e,t){super(),this.touched=e,this.source=t}},Pc=class extends bs{constructor(e,t){super(),this.status=e,this.source=t}},py=class extends bs{constructor(e){super(),this.source=e}},my=class extends bs{constructor(e){super(),this.source=e}};function xy(n){return(Ap(n)?n.validators:n)||null}function KB(n){return Array.isArray(n)?by(n):n||null}function My(n,e){return(Ap(e)?e.asyncValidators:n)||null}function QB(n){return Array.isArray(n)?yy(n):n||null}function Ap(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function TT(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ue(1e3,"");if(!i[t])throw new ue(1001,"")}function DT(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ue(1002,"")})}var Oc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ec(()=>this.statusReactive()),this.statusReactive=ha(void 0),this._pristine=Ec(()=>this.pristineReactive()),this.pristineReactive=ha(!0),this._touched=Ec(()=>this.touchedReactive()),this.touchedReactive=ha(!1),this._events=new Gt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ji(this.statusReactive)}set status(e){Ji(()=>this.statusReactive.set(e))}get valid(){return this.status===md}get invalid(){return this.status===yp}get pending(){return this.status==Ac}get disabled(){return this.status===gd}get enabled(){return this.status!==gd}get pristine(){return Ji(this.pristineReactive)}set pristine(e){Ji(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ji(this.touchedReactive)}set touched(e){Ji(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lT(e,this._rawAsyncValidators))}hasValidator(e){return xp(this._rawValidators,e)}hasAsyncValidator(e){return xp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ht(se({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new bd(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new bd(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ht(se({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new _d(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new _d(!0,i))}markAsPending(e={}){this.status=Ac;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ht(se({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gd,this.errors=null,this._forEachChild(r=>{r.disable(ht(se({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cp(this.value,i)),this._events.next(new Pc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ht(se({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=md,this._forEachChild(i=>{i.enable(ht(se({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ht(se({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===md||this.status===Ac)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cp(this.value,t)),this._events.next(new Pc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ht(se({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gd:md}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ac,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=yT(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Pc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Lt,this.statusChanges=new Lt}_calculateStatus(){return this._allControlsDisabled()?gd:this.errors?yp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ac)?Ac:this._anyControlsHaveStatus(yp)?yp:md}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new _d(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new bd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ap(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QB(this._rawAsyncValidators)}},ys=class extends Oc{constructor(e,t,i){super(xy(t),My(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){DT(this,!0,e),Object.keys(e).forEach(i=>{TT(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var gy=class extends ys{};var xd=new _e("CallSetDisabledState",{providedIn:"root",factory:()=>Pp}),Pp="always";function AT(n,e){return[...e.path,n]}function Sp(n,e,t=Pp){wy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),eU(n,e),nU(n,e),tU(n,e),JB(n,e)}function dT(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ip(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ep(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JB(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function wy(n,e){let t=ET(n);e.validator!==null?n.setValidators(aT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=IT(n);e.asyncValidator!==null?n.setAsyncValidators(aT(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Ep(e._rawValidators,r),Ep(e._rawAsyncValidators,r)}function Ip(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=ET(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=IT(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Ep(e._rawValidators,i),Ep(e._rawAsyncValidators,i),t}function eU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&PT(n,e)})}function tU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&PT(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function PT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nU(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function OT(n,e){n==null,wy(n,e)}function iU(n,e){return Ip(n,e)}function RT(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function rU(n){return Object.getPrototypeOf(n.constructor)===Tp}function kT(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function NT(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===qr?t=o:rU(o)?i=o:r=o}),r||i||t||null}function oU(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var sU={provide:To,useExisting:bi(()=>Cy)},vd=Promise.resolve(),Cy=(()=>{class n extends To{get submitted(){return Ji(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=Ec(()=>this.submittedReactive()),this.submittedReactive=ha(!1),this._directives=new Set,this.ngSubmit=new Lt,this.form=new ys({},by(t),yy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vd.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Sp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vd.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vd.then(()=>{let i=this._findContainer(t.path),r=new ys({});OT(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vd.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){vd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),kT(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(ee(Rc,10),ee(Dp,10),ee(xd,8))}}static{this.\u0275dir=wt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fn([sU]),Vn]})}}return n})();function uT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function hT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var yd=class extends Oc{constructor(e=null,t,i){super(xy(t),My(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ap(t)&&(t.nonNullable||t.initialValueIsDefault)&&(hT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var aU=n=>n instanceof yd;var cU={provide:Ma,useExisting:bi(()=>Sy)},fT=Promise.resolve(),Sy=(()=>{class n extends Ma{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new yd,this._registered=!1,this.name="",this.update=new Lt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=NT(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),RT(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Sp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){fT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ln(i);fT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?AT(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(ee(To,9),ee(Rc,10),ee(Dp,10),ee(xs,10),ee(xi,8),ee(xd,8))}}static{this.\u0275dir=wt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fn([cU]),Vn,qn]})}}return n})(),Cs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=wt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var FT=new _e("");var lU={provide:To,useExisting:bi(()=>wa)},wa=(()=>{class n extends To{get submitted(){return Ji(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=Ec(()=>this._submittedReactive()),this._submittedReactive=ha(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Lt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ip(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Sp(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){dT(t.control||null,t,!1),oU(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),kT(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new py(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new my(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(dT(i||null,t),aU(r)&&(Sp(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);OT(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&iU(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wy(this.form,this),this._oldForm&&Ip(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(ee(Rc,10),ee(Dp,10),ee(xd,8))}}static{this.\u0275dir=wt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fn([lU]),Vn,qn]})}}return n})();var dU={provide:Ma,useExisting:bi(()=>Ca)},Ca=(()=>{class n extends Ma{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Lt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=NT(this,o)}ngOnChanges(t){this._added||this._setUpControl(),RT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return AT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(ee(To,13),ee(Rc,10),ee(Dp,10),ee(xs,10),ee(FT,8))}}static{this.\u0275dir=wt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fn([dU]),Vn,qn]})}}return n})(),uU={provide:xs,useExisting:bi(()=>kc),multi:!0};function LT(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function hU(n){return n.split(":")[0]}var kc=(()=>{class n extends Tp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=LT(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=hU(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gr(n)))(r||n)}})()}static{this.\u0275dir=wt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&Te("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fn([uU]),Vn]})}}return n})(),Op=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(LT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(ee(kt),ee(bo),ee(kc,9))}}static{this.\u0275dir=wt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),fU={provide:xs,useExisting:bi(()=>BT),multi:!0};function pT(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function pU(n){return n.split(":")[0]}var BT=(()=>{class n extends Tp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=pU(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gr(n)))(r||n)}})()}static{this.\u0275dir=wt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&Te("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fn([fU]),Vn]})}}return n})(),Rp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(pT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(ee(kt),ee(bo),ee(BT,9))}}static{this.\u0275dir=wt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var UT=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})(),vy=class extends Oc{constructor(e,t,i){super(xy(t),My(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){DT(this,!1,e),e.forEach((i,r)=>{TT(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function mT(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Nc=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return mT(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ys(r,o)}record(t,i=null){let r=this._reduceControls(t);return new gy(r,i)}control(t,i,r){let o={};return this.useNonNullable?(mT(i)?o=i:(o.validators=i,o.asyncValidators=r),new yd(t,ht(se({},o),{nonNullable:!0}))):new yd(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new vy(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof yd)return t;if(t instanceof Oc)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var VT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xd,useValue:t.callSetDisabledState??Pp}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[UT]})}}return n})(),zT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:FT,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xd,useValue:t.callSetDisabledState??Pp}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[UT]})}}return n})();var Ey;try{Ey=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ey=!1}var Mi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?So(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ey)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(Y(Zn))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Md;function mU(){if(Md==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Md=!0}))}finally{Md=Md||!1}return Md}function Iy(n){return mU()?n:!!n.capture}var Sa;function HT(){if(Sa==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Sa=!1,Sa;if("scrollBehavior"in document.documentElement.style)Sa=!0;else{let n=Element.prototype.scrollTo;n?Sa=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Sa=!1}}return Sa}function wd(n){return n.composedPath?n.composedPath()[0]:n.target}function Cd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Fc(n){return Array.isArray(n)?n:[n]}function En(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Ed(n){return n instanceof kt?n.nativeElement:n}var gU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jT=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({providers:[gU]})}}return n})();var GT=new Set,Ea,vU=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bU}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&_U(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(Y(Mi),Y(Yl,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _U(n,e){if(!GT.has(n))try{Ea||(Ea=document.createElement("style"),e&&Ea.setAttribute("nonce",e),Ea.setAttribute("type","text/css"),document.head.appendChild(Ea)),Ea.sheet&&(Ea.sheet.insertRule(`@media ${n} {body{ }}`,0),GT.add(n))}catch(t){console.error(t)}}function bU(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var $T=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Gt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return WT(Fc(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=WT(Fc(t)).map(s=>this._registerQuery(s).observable),o=Qs(r);return o=Yo(o.pipe(ur(1)),o.pipe(Z0(1),$0(0))),o.pipe(ot(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new lt(s=>{let a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(cc(i),ot(({matches:s})=>({query:t,matches:s})),Qo(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(Y(vU),Y(je))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function WT(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function XT(n){return n.buttons===0||n.detail===0}function ZT(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Ia=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ia||{}),qT="cdk-high-contrast-black-on-white",YT="cdk-high-contrast-white-on-black",Ty="cdk-high-contrast-active",KT=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=oe($T).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ia.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ia.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ia.BLACK_ON_WHITE}return Ia.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Ty,qT,YT),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Ia.BLACK_ON_WHITE?t.add(Ty,qT):i===Ia.WHITE_ON_BLACK&&t.add(Ty,YT)}}static{this.\u0275fac=function(i){return new(i||n)(Y(Mi),Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xU=new _e("cdk-dir-doc",{providedIn:"root",factory:MU});function MU(){return oe(Ct)}var wU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function CU(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?wU.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var QT=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Lt,t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=CU(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(Y(xU,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ss=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})();var IU=["mat-internal-form-field",""],TU=["*"];function DU(){return!0}var AU=new _e("mat-sanity-checks",{providedIn:"root",factory:DU}),Jt=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return Cd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(i){return new(i||n)(Y(KT),Y(AU,8),Y(Ct))}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Ss,Ss]})}}return n})();var rD=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var nr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(nr||{}),Dy=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=nr.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},JT=Iy({passive:!0,capture:!0}),Ay=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=wd(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,JT)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,JT)))}},eD={enterDuration:225,exitDuration:150},PU=800,tD=Iy({passive:!0,capture:!0}),nD=["mousedown","touchstart"],iD=["mouseup","mouseleave","touchend","touchcancel"],Py=class n{static{this._eventManager=new Ay}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ed(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=se(se({},eD),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||OU(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,f=u.transitionDuration,v=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,b=new Dy(this,d,i,v);d.style.transform="scale3d(1, 1, 1)",b.state=nr.FADING_IN,i.persistent||(this._mostRecentTransientRipple=b);let _=null;return!v&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let m=()=>{_&&(_.fallbackTimer=null),clearTimeout(C),this._finishRippleTransition(b)},I=()=>this._destroyRipple(b),C=setTimeout(I,l+100);d.addEventListener("transitionend",m),d.addEventListener("transitioncancel",I),_={onTransitionEnd:m,onTransitionCancel:I,fallbackTimer:C}}),this._activeRipples.set(b,_),(v||!l)&&this._finishRippleTransition(b),b}fadeOutRipple(e){if(e.state===nr.FADING_OUT||e.state===nr.HIDDEN)return;let t=e.element,i=se(se({},eD),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=nr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Ed(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,nD.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iD.forEach(t=>{this._triggerElement.addEventListener(t,this,tD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===nr.FADING_IN?this._startFadeOutTransition(e):e.state===nr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=nr.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=nr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=XT(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+PU;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ZT(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===nr.VISIBLE||e.config.terminateOnPointerUp&&e.state===nr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(nD.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(iD.forEach(t=>e.removeEventListener(t,this,tD)),this._pointerUpEventsRegistered=!1))}};function OU(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var oD=new _e("mat-ripple-global-options"),Ry=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Py(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:se(se(se({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,se(se({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,se(se({},this.rippleConfig),t))}static{this.\u0275fac=function(i){return new(i||n)(ee(kt),ee(je),ee(Mi),ee(oD,8),ee(Gr,8))}}static{this.\u0275dir=wt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Ke("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),Id=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Jt,Jt]})}}return n})();var RU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Jt]})}}return n})();var ky=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Id,Jt,RU]})}}return n})();var sD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&Ke("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Pi],attrs:IU,ngContentSelectors:TU,decls:1,vars:0,template:function(i,r){i&1&&(br(),yr(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return n})();var aD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Jt,hs,Jt]})}}return n})();var cD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Jt,Id,Jt]})}}return n})();var lD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})();var Ta=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Jt,hs,jT,Jt]})}}return n})();var uD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Jt,Ta,Ta,lD,Jt]})}}return n})();var LU=20,hD=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Gt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=LU){return this._platform.isBrowser?new lt(i=>{this._globalSubscription||this._addGlobalListener();let r=t>0?this._scrolled.pipe(vh(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ye()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(xn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ed(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Pl(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(Y(je),Y(Mi),Y(Ct,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var BU=20,Fy=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Gt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(t=BU){return t>0?this._change.pipe(vh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(Y(Mi),Y(je),Y(Ct,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Np=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})(),Ly=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Ss,Np,Ss,Np]})}}return n})();var Td=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},By=class extends Td{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},Fp=class extends Td{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Uy=class extends Td{constructor(e){super(),this.element=e instanceof kt?e.nativeElement:e}},Vy=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof By)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Fp)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Uy)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Lp=class extends Vy{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Tn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var fD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})();var pD=HT(),zy=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=En(-this._previousScrollPosition.left),e.style.top=En(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),pD&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pD&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var Hy=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(xn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Bp=class{enable(){}disable(){}attach(){}};function jy(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return i||r||o||s})}function mD(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return i||r||o||s})}var Gy=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jy(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},VU=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Bp,this.close=s=>new Hy(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new zy(this._viewportRuler,this._document),this.reposition=s=>new Gy(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(Y(hD),Y(Fy),Y(je),Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wy=class{constructor(e){if(this.scrollStrategy=new Bp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var $y=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var xD=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zU=(()=>{class n extends xD{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(je,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HU=(()=>{class n extends xD{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=wd(o)},this._clickListener=o=>{let s=wd(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){let d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(gD(d.overlayElement,s)||gD(d.overlayElement,a))break;let u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(Mi),Y(je,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gD(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var MD=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Cd()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),Cd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(Mi))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qy=class{constructor(e,t,i,r,o,s,a,c,l,d=!1,u){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=u,this._backdropElement=null,this._backdropClick=new Gt,this._attachments=new Gt,this._detachments=new Gt,this._locationChanges=sn.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Gt,this._outsidePointerEvents=new Gt,this._renders=new Gt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Ji(()=>eb(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=fa(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=se(se({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ht(se({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=En(this._config.width),e.height=En(this._config.height),e.minWidth=En(this._config.minWidth),e.minHeight=En(this._config.minHeight),e.maxWidth=En(this._config.maxWidth),e.maxHeight=En(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){let r=Fc(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Qo(W0(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},vD="cdk-overlay-connected-position-bounding-box",jU=/([A-Za-z%]+)$/,Yy=class{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Gt,this._resizeSubscription=sn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(vD),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,i)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let l of o){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Da(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vD),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=bD(t),{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let d=0-s,u=s+o.width-i.width,h=0-a,f=a+o.height-i.height,v=this._subtractOverflows(o.width,d,u),b=this._subtractOverflows(o.height,h,f),_=v*b;return{visibleArea:_,isCompletelyWithinViewport:o.width*o.height===_,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,s=_D(this._overlayRef.getConfig().minHeight),a=_D(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=bD(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0),d=0,u=0;return r.width<=o.width?d=l||-s:d=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?u=c||-a:u=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!GU(this._lastScrollVisibility,i)){let r=new $y(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let f=Math.min(i.bottom-e.y+i.top,e.y),v=this._lastBoundingBoxSize.height;o=f*2,s=e.y-f,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-v/2)}let c=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,l=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,d,u,h;if(l)h=i.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)u=e.x,d=i.right-e.x;else{let f=Math.min(i.right-e.x+i.left,e.x),v=this._lastBoundingBoxSize.width;d=f*2,u=e.x-f,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-v/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=En(i.height),r.top=En(i.top),r.bottom=En(i.bottom),r.width=En(i.width),r.left=En(i.left),r.right=En(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=En(o)),s&&(r.maxWidth=En(s))}this._lastBoundingBoxSize=i,Da(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Da(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Da(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Da(i,this._getExactOverlayY(t,e,d)),Da(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=En(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=En(s.maxWidth):o&&(i.maxWidth="")),Da(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=En(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=En(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mD(e,i),isOriginOutsideView:jy(e,i),isOverlayClipped:mD(t,i),isOverlayOutsideView:jy(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Fc(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof kt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function Da(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function _D(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(jU);return!t||t==="px"?parseFloat(e):null}return n||null}function bD(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function GU(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var yD="cdk-global-overlay-wrapper",Xy=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(yD),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",v="",b="";c?b="flex-start":d==="center"?(b="center",h?v=u:f=u):h?d==="left"||d==="end"?(b="flex-end",f=u):(d==="right"||d==="start")&&(b="flex-start",v=u):d==="left"||d==="start"?(b="flex-start",f=u):(d==="right"||d==="end")&&(b="flex-end",v=u),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":v,t.justifyContent=b,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(yD),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},WU=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Xy}flexibleConnectedTo(t){return new Yy(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(Y(Fy),Y(Ct),Y(Mi),Y(MD))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$U=0,Lc=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,u,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Wy(t);return s.direction=s.direction||this._directionality.value,new qy(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get($n))}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${$U++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Mr)),new Lp(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(Y(VU),Y(MD),Y(ho),Y(WU),Y(zU),Y(Tn),Y(je),Y(Ct),Y(QT),Y(us),Y(HU),Y(Gr,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qU=new _e("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=oe(Lc);return()=>n.scrollStrategies.reposition()}});function YU(n){return()=>n.scrollStrategies.reposition()}var XU={provide:qU,deps:[Lc],useFactory:YU},wD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({providers:[Lc,XU],imports:[Ss,fD,Ly,Ly]})}}return n})();var ZU=new _e("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=oe(Lc);return()=>n.scrollStrategies.reposition()}});function KU(n){return()=>n.scrollStrategies.reposition()}var QU={provide:ZU,deps:[Lc],useFactory:KU};var CD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({providers:[QU],imports:[hs,wD,ky,Jt,Np,Ta,ky,Jt]})}}return n})();var JU=["input"],e5=["label"],t5=["*"],n5=new _e("mat-checkbox-default-options",{providedIn:"root",factory:ED});function ED(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Qn=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Qn||{}),i5={provide:xs,useExisting:bi(()=>ID),multi:!0},Zy=class{},r5=0,SD=ED(),ID=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){let i=new Zy;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Lt,this.indeterminateChange=new Lt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Qn.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||SD,this.color=this._options.color||SD.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++r5}`,this.disabledInteractive=a?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){let i=t!=this._indeterminate;this._indeterminate=t,i&&(this._indeterminate?this._transitionCheckState(Qn.Indeterminate):this._transitionCheckState(this.checked?Qn.Checked:Qn.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===t||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let t=this._options?.clickAction;!this.disabled&&t!=="noop"?(this.indeterminate&&t!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Qn.Checked:Qn.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&t==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if(this._animationMode==="NoopAnimations")return"";switch(t){case Qn.Init:if(i===Qn.Checked)return this._animationClasses.uncheckedToChecked;if(i==Qn.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Qn.Unchecked:return i===Qn.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Qn.Checked:return i===Qn.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Qn.Indeterminate:return i===Qn.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){let i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static{this.\u0275fac=function(i){return new(i||n)(ee(kt),ee(xi),ee(je),mo("tabindex"),ee(Gr,8),ee(n5,8))}}static{this.\u0275cmp=Fe({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(xr(JU,5),xr(e5,5),xr(Ry,5)),i&2){let o;Ki(o=Qi())&&(r._inputElement=o.first),Ki(o=Qi())&&(r._labelElement=o.first),Ki(o=Qi())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){i&2&&(pa("id",r.id),Nt("tabindex",null)("aria-label",null)("aria-labelledby",null),yo(r.color?"mat-"+r.color:"mat-accent"),Ke("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Ln],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Ln],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:ed(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ln],checked:[2,"checked","checked",Ln],disabled:[2,"disabled","disabled",Ln],indeterminate:[2,"indeterminate","indeterminate",Ln]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Fn([i5,{provide:Rc,useExisting:n,multi:!0}]),ci,qn,Pi],ngContentSelectors:t5,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let o=gn();br(),g(0,"div",3),Te("click",function(a){return vt(o),_t(r._preventBubblingFromLabel(a))}),g(1,"div",4,0)(3,"div",5),Te("click",function(){return vt(o),_t(r._onTouchTargetClick())}),p(),g(4,"input",6,1),Te("blur",function(){return vt(o),_t(r._onBlur())})("click",function(){return vt(o),_t(r._onInputClick())})("change",function(a){return vt(o),_t(r._onInteractionEvent(a))}),p(),ce(6,"div",7),g(7,"div",8),Cc(),g(8,"svg",9),ce(9,"path",10),p(),U1(),ce(10,"div",11),p(),ce(11,"div",12),p(),g(12,"label",13,2),yr(14),p()()}if(i&2){let o=Sf(2);V("labelPosition",r.labelPosition),S(4),Ke("mdc-checkbox--selected",r.checked),V("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Nt("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("name",r.name)("value",r.value),S(7),V("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),S(),V("for",r.inputId)}},dependencies:[Ry,sD],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var TD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[ID,Jt,Jt]})}}return n})();var DD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({imports:[Jt,Jt]})}}return n})();var s5=new _e("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var AD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({providers:[rD,{provide:s5,useValue:{separatorKeyCodes:[13]}}],imports:[Jt,Id,Jt]})}}return n})();var mt="primary",Hd=Symbol("RouteTitle"),tx=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function jc(n){return new tx(n)}function a5(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function c5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yr(n[t],e[t]))return!1;return!0}function Yr(n,e){let t=n?nx(n):void 0,i=e?nx(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!zD(n[r],e[r]))return!1;return!0}function nx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function HD(n){return n.length>0?n[n.length-1]:null}function Is(n){return fh(n)?n:ma(n)?tn(Promise.resolve(n)):Ye(n)}var l5={exact:GD,subset:WD},jD={exact:d5,subset:u5,ignored:()=>!0};function PD(n,e,t){return l5[t.paths](n.root,e.root,t.matrixParams)&&jD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function d5(n,e){return Yr(n,e)}function GD(n,e,t){if(!Pa(n.segments,e.segments)||!zp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!GD(n.children[i],e.children[i],t))return!1;return!0}function u5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zD(n[t],e[t]))}function WD(n,e,t){return $D(n,e,e.segments,t)}function $D(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Pa(r,t)||e.hasChildren()||!zp(r,t,i))}else if(n.segments.length===t.length){if(!Pa(n.segments,t)||!zp(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!WD(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Pa(n.segments,r)||!zp(n.segments,r,i)||!n.children[mt]?!1:$D(n.children[mt],e,o,i)}}function zp(n,e,t){return e.every((i,r)=>jD[t](n[r].parameters,i.parameters))}var Ao=class{constructor(e=new qt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=jc(this.queryParams),this._queryParamMap}toString(){return p5.serialize(this)}},qt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hp(this)}},Aa=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=jc(this.parameters),this._parameterMap}toString(){return YD(this)}};function h5(n,e){return Pa(n,e)&&n.every((t,i)=>Yr(t.parameters,e[i].parameters))}function Pa(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function f5(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===mt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==mt&&(t=t.concat(e(r,i)))}),t}var jd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>new Gc,providedIn:"root"})}}return n})(),Gc=class{parse(e){let t=new rx(e);return new Ao(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Dd(e.root,!0)}`,i=v5(e.queryParams),r=typeof e.fragment=="string"?`#${m5(e.fragment)}`:"";return`${t}${i}${r}`}},p5=new Gc;function Hp(n){return n.segments.map(e=>YD(e)).join("/")}function Dd(n,e){if(!n.hasChildren())return Hp(n);if(e){let t=n.children[mt]?Dd(n.children[mt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==mt&&i.push(`${r}:${Dd(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=f5(n,(i,r)=>r===mt?[Dd(n.children[mt],!1)]:[`${r}:${Dd(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[mt]!=null?`${Hp(n)}/${t[0]}`:`${Hp(n)}/(${t.join("//")})`}}function qD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Up(n){return qD(n).replace(/%3B/gi,";")}function m5(n){return encodeURI(n)}function ix(n){return qD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jp(n){return decodeURIComponent(n)}function OD(n){return jp(n.replace(/\+/g,"%20"))}function YD(n){return`${ix(n.path)}${g5(n.parameters)}`}function g5(n){return Object.entries(n).map(([e,t])=>`;${ix(e)}=${ix(t)}`).join("")}function v5(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Up(t)}=${Up(r)}`).join("&"):`${Up(t)}=${Up(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _5=/^[^\/()?;#]+/;function Ky(n){let e=n.match(_5);return e?e[0]:""}var b5=/^[^\/()?;=#]+/;function y5(n){let e=n.match(b5);return e?e[0]:""}var x5=/^[^=?&#]+/;function M5(n){let e=n.match(x5);return e?e[0]:""}var w5=/^[^&#]+/;function C5(n){let e=n.match(w5);return e?e[0]:""}var rx=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[mt]=new qt(e,t)),i}parseSegment(){let e=Ky(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(e),new Aa(jp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=y5(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Ky(this.remaining);r&&(i=r,this.capture(i))}e[jp(t)]=jp(i)}parseQueryParam(e){let t=M5(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=C5(this.remaining);s&&(i=s,this.capture(i))}let r=OD(t),o=OD(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Ky(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ue(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=mt);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[mt]:new qt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ue(4011,!1)}};function XD(n){return n.segments.length>0?new qt([],{[mt]:n}):n}function ZD(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=ZD(r);if(i===mt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new qt(n.segments,e);return S5(t)}function S5(n){if(n.numberOfChildren===1&&n.children[mt]){let e=n.children[mt];return new qt(n.segments.concat(e.segments),e.children)}return n}function Oa(n){return n instanceof Ao}function E5(n,e,t=null,i=null){let r=KD(n);return QD(r,e,t,i)}function KD(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new qt(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=XD(i);return e??r}function QD(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Qy(r,r,r,t,i);let o=I5(e);if(o.toRoot())return Qy(r,r,new qt([],{}),t,i);let s=T5(o,r,n),a=s.processChildren?Od(s.segmentGroup,s.index,o.commands):eA(s.segmentGroup,s.index,o.commands);return Qy(r,s.segmentGroup,a,t,i)}function Gp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Nd(n){return typeof n=="object"&&n!=null&&n.outlets}function Qy(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;n===e?s=t:s=JD(n,e,t);let a=XD(ZD(s));return new Ao(a,o,r)}function JD(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=JD(o,e,t)}),new qt(n.segments,i)}var Wp=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Gp(i[0]))throw new ue(4003,!1);let r=i.find(Nd);if(r&&r!==HD(i))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function I5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wp(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Wp(t,e,i)}var Vc=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function T5(n,e,t){if(n.isAbsolute)return new Vc(e,!0,0);if(!t)return new Vc(e,!1,NaN);if(t.parent===null)return new Vc(t,!0,0);let i=Gp(n.commands[0])?0:1,r=t.segments.length-1+i;return D5(t,r,n.numberOfDoubleDots)}function D5(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ue(4005,!1);r=i.segments.length}return new Vc(i,!1,r-o)}function A5(n){return Nd(n[0])?n[0].outlets:{[mt]:n}}function eA(n,e,t){if(n??=new qt([],{}),n.segments.length===0&&n.hasChildren())return Od(n,e,t);let i=P5(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new qt(n.segments.slice(0,i.pathIndex),{});return o.children[mt]=new qt(n.segments.slice(i.pathIndex),n.children),Od(o,0,r)}else return i.match&&r.length===0?new qt(n.segments,{}):i.match&&!n.hasChildren()?ox(n,e,t):i.match?Od(n,0,r):ox(n,e,t)}function Od(n,e,t){if(t.length===0)return new qt(n.segments,{});{let i=A5(t),r={};if(Object.keys(i).some(o=>o!==mt)&&n.children[mt]&&n.numberOfChildren===1&&n.children[mt].segments.length===0){let o=Od(n.children[mt],e,t);return new qt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=eA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new qt(n.segments,r)}}function P5(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Nd(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!kD(c,l,s))return o;i+=2}else{if(!kD(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function ox(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Nd(o)){let c=O5(o.outlets);return new qt(i,c)}if(r===0&&Gp(t[0])){let c=n.segments[e];i.push(new Aa(c.path,RD(t[0]))),r++;continue}let s=Nd(o)?o.outlets[mt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Gp(a)?(i.push(new Aa(s,RD(a))),r+=2):(i.push(new Aa(s,{})),r++)}return new qt(i,{})}function O5(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=ox(new qt([],{}),0,i))}),e}function RD(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function kD(n,e,t){return n==t.path&&Yr(e,t.parameters)}var Rd="imperative",Hn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Hn||{}),ir=class{constructor(e,t){this.id=e,this.url=t}},Wc=class extends ir{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Hn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends ir{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Hn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fi=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Fi||{}),$p=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}($p||{}),Do=class extends ir{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Hn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Es=class extends ir{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Hn.NavigationSkipped}},Fd=class extends ir{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Hn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qp=class extends ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Hn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sx=class extends ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Hn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ax=class extends ir{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Hn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cx=class extends ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Hn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lx=class extends ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Hn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dx=class{constructor(e){this.route=e,this.type=Hn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ux=class{constructor(e){this.route=e,this.type=Hn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hx=class{constructor(e){this.snapshot=e,this.type=Hn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fx=class{constructor(e){this.snapshot=e,this.type=Hn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},px=class{constructor(e){this.snapshot=e,this.type=Hn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mx=class{constructor(e){this.snapshot=e,this.type=Hn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yp=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Hn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ld=class{},$c=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function R5(n,e){return n.providers&&!n._injector&&(n._injector=Cf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Er(n){return n.outlet||mt}function k5(n,e){let t=n.filter(i=>Er(i)===e);return t.push(...n.filter(i=>Er(i)!==e)),t}function Gd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var gx=class{get injector(){return Gd(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wd(this.rootInjector),this.attachRef=null}},Wd=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new gx(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(Y($n))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=vx(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=vx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_x(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return _x(e,this._root).map(t=>t.value)}};function vx(n,e){if(n===e.value)return e;for(let t of e.children){let i=vx(n,t);if(i)return i}return null}function _x(n,e){if(n===e.value)return[e];for(let t of e.children){let i=_x(n,t);if(i.length)return i.unshift(e),i}return[]}var Ni=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Uc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Zp=class extends Xp{constructor(e,t){super(e),this.snapshot=t,Ix(this,e)}toString(){return this.snapshot.toString()}};function tA(n){let e=N5(n),t=new Cn([new Aa("",{})]),i=new Cn({}),r=new Cn({}),o=new Cn({}),s=new Cn(""),a=new Ir(t,i,o,s,r,mt,n,e.root);return a.snapshot=e.root,new Zp(new Ni(a,[]),e)}function N5(n){let e={},t={},i={},r="",o=new zc([],e,i,r,t,mt,n,null,{});return new Qp("",new Ni(o,[]))}var Ir=class{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ot(l=>l[Hd]))??Ye(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ot(e=>jc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ot(e=>jc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kp(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:se(se({},e.params),n.params),data:se(se({},e.data),n.data),resolve:se(se(se(se({},n.data),e.data),r?.data),n._resolvedData)}:i={params:se({},n.params),data:se({},n.data),resolve:se(se({},n.data),n._resolvedData??{})},r&&iA(r)&&(i.resolve[Hd]=r.title),i}var zc=class{get title(){return this.data?.[Hd]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qp=class extends Xp{constructor(e,t){super(t),this.url=e,Ix(this,t)}toString(){return nA(this._root)}};function Ix(n,e){e.value._routerState=n,e.children.forEach(t=>Ix(n,t))}function nA(n){let e=n.children.length>0?` { ${n.children.map(nA).join(", ")} } `:"";return`${n.value}${e}`}function Jy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yr(e.params,t.params)||n.paramsSubject.next(t.params),c5(e.url,t.url)||n.urlSubject.next(t.url),Yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function bx(n,e){let t=Yr(n.params,e.params)&&h5(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||bx(n.parent,e.parent))}function iA(n){return typeof n.title=="string"||n.title===null}var Tx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new Lt,this.deactivateEvents=new Lt,this.attachEvents=new Lt,this.detachEvents=new Lt,this.parentContexts=oe(Wd),this.location=oe(_r),this.changeDetector=oe(xi),this.inputBinder=oe(im,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new yx(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=wt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qn]})}}return n})(),yx=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ir?this.route:e===Wd?this.childContexts:this.parent.get(e,t)}},im=new _e(""),ND=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Qs([i.queryParams,i.params,i.data]).pipe(ri(([o,s,a],c)=>(a=se(se(se({},o),s),a),c===0?Ye(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=$E(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function F5(n,e,t){let i=Bd(n,e._root,t?t._root:void 0);return new Zp(i,e)}function Bd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=L5(n,e,t);return new Ni(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bd(n,a)),s}}let i=B5(e.value),r=e.children.map(o=>Bd(n,o));return new Ni(i,r)}}function L5(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Bd(n,i,r);return Bd(n,i)})}function B5(n){return new Ir(new Cn(n.url),new Cn(n.params),new Cn(n.queryParams),new Cn(n.fragment),new Cn(n.data),n.outlet,n.component,n)}var Ud=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},rA="ngNavigationCancelingError";function Jp(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Oa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=oA(!1,Fi.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function oA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[rA]=!0,t.cancellationCode=e,t}function U5(n){return sA(n)&&Oa(n.url)}function sA(n){return!!n&&n[rA]}var V5=(n,e,t,i)=>ot(r=>(new xx(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),xx=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Jy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Uc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Uc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Uc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Uc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new mx(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fx(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Jy(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},em=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hc=class{constructor(e,t){this.component=e,this.route=t}};function z5(n,e,t){let i=n._root,r=e?e._root:null;return Ad(i,r,t,[i.value])}function H5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Yc(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!UC(n)?n:e.get(n):i}function Ad(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Uc(e);return n.children.forEach(s=>{j5(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>kd(a,t.getContext(s),r)),r}function j5(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=G5(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new em(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ad(n,e,a?a.children:null,i,r):Ad(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Hc(a.outlet.component,s))}else s&&kd(e,a,r),r.canActivateChecks.push(new em(i)),o.component?Ad(n,null,a?a.children:null,i,r):Ad(n,null,t,i,r);return r}function G5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Pa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pa(n.url,e.url)||!Yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bx(n,e)||!Yr(n.queryParams,e.queryParams);case"paramsChange":default:return!bx(n,e)}}function kd(n,e,t){let i=Uc(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?kd(s,e.children.getContext(o),t):kd(s,null,t):kd(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Hc(e.outlet.component,r)):t.canDeactivateChecks.push(new Hc(null,r)):t.canDeactivateChecks.push(new Hc(null,r))}function $d(n){return typeof n=="function"}function W5(n){return typeof n=="boolean"}function $5(n){return n&&$d(n.canLoad)}function q5(n){return n&&$d(n.canActivate)}function Y5(n){return n&&$d(n.canActivateChild)}function X5(n){return n&&$d(n.canDeactivate)}function Z5(n){return n&&$d(n.canMatch)}function aA(n){return n instanceof so||n?.name==="EmptyError"}var Vp=Symbol("INITIAL_VALUE");function qc(){return ri(n=>Qs(n.map(e=>e.pipe(ur(1),cc(Vp)))).pipe(ot(e=>{for(let t of e)if(t!==!0){if(t===Vp)return Vp;if(t===!1||K5(t))return t}return!0}),xn(e=>e!==Vp),ur(1)))}function K5(n){return Oa(n)||n instanceof Ud}function Q5(n,e){return yn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Ye(ht(se({},t),{guardsResult:!0})):J5(s,i,r,n).pipe(yn(a=>a&&W5(a)?eV(i,o,n,e):Ye(a)),ot(a=>ht(se({},t),{guardsResult:a})))})}function J5(n,e,t,i){return tn(n).pipe(yn(r=>oV(r.component,r.route,t,e,i)),Nr(r=>r!==!0,!0))}function eV(n,e,t,i){return tn(e).pipe(ao(r=>Yo(nV(r.route.parent,i),tV(r.route,i),rV(n,r.path,t),iV(n,r.route,t))),Nr(r=>r!==!0,!0))}function tV(n,e){return n!==null&&e&&e(new px(n)),Ye(!0)}function nV(n,e){return n!==null&&e&&e(new hx(n)),Ye(!0)}function iV(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ye(!0);let r=i.map(o=>gh(()=>{let s=Gd(e)??t,a=Yc(o,s),c=q5(a)?a.canActivate(e,n):$i(s,()=>a(e,n));return Is(c).pipe(Nr())}));return Ye(r).pipe(qc())}function rV(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>H5(s)).filter(s=>s!==null).map(s=>gh(()=>{let a=s.guards.map(c=>{let l=Gd(s.node)??t,d=Yc(c,l),u=Y5(d)?d.canActivateChild(i,n):$i(l,()=>d(i,n));return Is(u).pipe(Nr())});return Ye(a).pipe(qc())}));return Ye(o).pipe(qc())}function oV(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ye(!0);let s=o.map(a=>{let c=Gd(e)??r,l=Yc(a,c),d=X5(l)?l.canDeactivate(n,e,t,i):$i(c,()=>l(n,e,t,i));return Is(d).pipe(Nr())});return Ye(s).pipe(qc())}function sV(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return Ye(!0);let o=r.map(s=>{let a=Yc(s,n),c=$5(a)?a.canLoad(e,t):$i(n,()=>a(e,t));return Is(c)});return Ye(o).pipe(qc(),cA(i))}function cA(n){return B0(mn(e=>{if(typeof e!="boolean")throw Jp(n,e)}),ot(e=>e===!0))}function aV(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return Ye(!0);let o=r.map(s=>{let a=Yc(s,n),c=Z5(a)?a.canMatch(e,t):$i(n,()=>a(e,t));return Is(c)});return Ye(o).pipe(qc(),cA(i))}var Vd=class{constructor(e){this.segmentGroup=e||null}},zd=class extends Error{constructor(e){super(),this.urlTree=e}};function Bc(n){return oc(new Vd(n))}function cV(n){return oc(new ue(4e3,!1))}function lV(n){return oc(oA(!1,Fi.GuardRejected))}var Mx=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ye(i);if(r.numberOfChildren>1||!r.children[mt])return cV(`${e.redirectTo}`);r=r.children[mt]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:d,url:u,outlet:h,params:f,data:v,title:b}=r,_=$i(o,()=>a({params:f,data:v,queryParams:c,fragment:l,routeConfig:d,url:u,outlet:h,title:b}));if(_ instanceof Ao)throw new zd(_);t=_}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new zd(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ao(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new qt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new ue(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},wx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dV(n,e,t,i,r){let o=lA(n,e,t);return o.matched?(i=R5(e,i),aV(i,e,t,r).pipe(ot(s=>s===!0?o:se({},wx)))):Ye(o)}function lA(n,e,t){if(e.path==="**")return uV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?se({},wx):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||a5)(t,n,e);if(!r)return se({},wx);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?se(se({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function uV(n){return{matched:!0,parameters:n.length>0?HD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function FD(n,e,t,i){return t.length>0&&pV(n,t,i)?{segmentGroup:new qt(e,fV(i,new qt(t,n.children))),slicedSegments:[]}:t.length===0&&mV(n,t,i)?{segmentGroup:new qt(n.segments,hV(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new qt(n.segments,n.children),slicedSegments:t}}function hV(n,e,t,i){let r={};for(let o of t)if(rm(n,e,o)&&!i[Er(o)]){let s=new qt([],{});r[Er(o)]=s}return se(se({},i),r)}function fV(n,e){let t={};t[mt]=e;for(let i of n)if(i.path===""&&Er(i)!==mt){let r=new qt([],{});t[Er(i)]=r}return t}function pV(n,e,t){return t.some(i=>rm(n,e,i)&&Er(i)!==mt)}function mV(n,e,t){return t.some(i=>rm(n,e,i))}function rm(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function gV(n,e,t){return e.length===0&&!n.children[t]}var Cx=class{};function vV(n,e,t,i,r,o,s="emptyOnly"){return new Sx(n,e,t,i,r,s,o).recognize()}var _V=31,Sx=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mx(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=FD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ot(({children:t,rootSnapshot:i})=>{let r=new Ni(i,t),o=new Qp("",r),s=E5(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new zc([],Object.freeze({}),Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),mt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,mt,t).pipe(ot(i=>({children:i,rootSnapshot:t})),Xo(i=>{if(i instanceof zd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Vd?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(ot(s=>s instanceof Ni?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return tn(o).pipe(ao(s=>{let a=i.children[s],c=k5(t,s);return this.processSegmentGroup(e,c,a,s,r)}),X0((s,a)=>(s.push(...a),s)),Zo(null),Y0(),yn(s=>{if(s===null)return Bc(i);let a=dA(s);return bV(a),Ye(a)}))}processSegment(e,t,i,r,o,s,a){return tn(t).pipe(ao(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a).pipe(Xo(l=>{if(l instanceof Vd)return Ye(null);throw l}))),Nr(c=>!!c),Xo(c=>{if(aA(c))return gV(i,r,o)?Ye(new Cx):Bc(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,c){return Er(i)!==s&&(s===mt||!rm(r,o,i))?Bc(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c):Bc(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=lA(t,r,o);if(!c)return Bc(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_V&&(this.allowRedirects=!1));let f=new zc(o,l,Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,LD(r),Er(r),r.component??r._loadedComponent??null,r,BD(r)),v=Kp(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(v.params),f.data=Object.freeze(v.data);let b=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,f,e);return this.applyRedirects.lineralizeSegments(r,b).pipe(yn(_=>this.processSegment(e,i,t,_.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=dV(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(ri(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ri(({routes:l})=>{let d=i._loadedInjector??e,{parameters:u,consumedSegments:h,remainingSegments:f}=c,v=new zc(h,u,Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,LD(i),Er(i),i.component??i._loadedComponent??null,i,BD(i)),b=Kp(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:_,slicedSegments:m}=FD(t,h,f,l);if(m.length===0&&_.hasChildren())return this.processChildren(d,l,_,v).pipe(ot(C=>new Ni(v,C)));if(l.length===0&&m.length===0)return Ye(new Ni(v,[]));let I=Er(i)===o;return this.processSegment(d,l,_,m,I?mt:o,!0,v).pipe(ot(C=>new Ni(v,C instanceof Ni?[C]:[])))}))):Bc(t)))}getChildConfig(e,t,i){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):sV(e,t,i,this.urlSerializer).pipe(yn(r=>r?this.configLoader.loadChildren(e,t).pipe(mn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):lV(t))):Ye({routes:[],injector:e})}};function bV(n){n.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet))}function yV(n){let e=n.value.routeConfig;return e&&e.path===""}function dA(n){let e=[],t=new Set;for(let i of n){if(!yV(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=dA(i.children);e.push(new Ni(i.value,r))}return e.filter(i=>!t.has(i))}function LD(n){return n.data||{}}function BD(n){return n.resolve||{}}function xV(n,e,t,i,r,o){return yn(s=>vV(n,e,t,i,s.extractedUrl,r,o).pipe(ot(({state:a,tree:c})=>ht(se({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function MV(n,e){return yn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ye(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of uA(c))s.add(l);let a=0;return tn(s).pipe(ao(c=>o.has(c)?wV(c,i,n,e):(c.data=Kp(c,c.parent,n).resolve,Ye(void 0))),mn(()=>a++),ac(1),yn(c=>a===s.size?Ye(t):ii))})}function uA(n){let e=n.children.map(t=>uA(t)).flat();return[n,...e]}function wV(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!iA(r)&&(o[Hd]=r.title),CV(o,n,e,i).pipe(ot(s=>(n._resolvedData=s,n.data=Kp(n,n.parent,t).resolve,null)))}function CV(n,e,t,i){let r=nx(n);if(r.length===0)return Ye({});let o={};return tn(r).pipe(yn(s=>SV(n[s],e,t,i).pipe(Nr(),mn(a=>{if(a instanceof Ud)throw Jp(new Gc,a);o[s]=a}))),ac(1),q0(o),Xo(s=>aA(s)?ii:oc(s)))}function SV(n,e,t,i){let r=Gd(e)??i,o=Yc(n,r),s=o.resolve?o.resolve(e,t):$i(r,()=>o(e,t));return Is(s)}function ex(n){return ri(e=>{let t=n(e);return t?tn(t).pipe(ot(()=>e)):Ye(e)})}var hA=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===mt);return i}getResolvedTitleForRoute(t){return t.data[Hd]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>oe(EV),providedIn:"root"})}}return n})(),EV=(()=>{class n extends hA{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(Y(tp))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qd=new _e("",{providedIn:"root",factory:()=>({})}),IV=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["ng-component"]],standalone:!0,features:[Pi],decls:1,vars:0,template:function(i,r){i&1&&ce(0,"router-outlet")},dependencies:[Tx],encapsulation:2})}}return n})();function Dx(n){let e=n.children&&n.children.map(Dx),t=e?ht(se({},n),{children:e}):se({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=IV),t}var tm=new _e(""),Ax=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(Pf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Is(t.loadComponent()).pipe(ot(fA),mn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ko(()=>{this.componentLoaders.delete(t)})),r=new nc(i,()=>new Gt).pipe(tc());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ye({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=TV(i,this.compiler,t,this.onLoadEndListener).pipe(Ko(()=>{this.childrenLoaders.delete(i)})),s=new nc(o,()=>new Gt).pipe(tc());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function TV(n,e,t,i){return Is(n.loadChildren()).pipe(ot(fA),yn(r=>r instanceof zl||Array.isArray(r)?Ye(r):tn(e.compileModuleAsync(r))),ot(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(tm,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dx),injector:o}}))}function DV(n){return n&&typeof n=="object"&&"default"in n}function fA(n){return DV(n)?n.default:n}var Px=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>oe(AV),providedIn:"root"})}}return n})(),AV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pA=new _e(""),mA=new _e("");function PV(n,e,t){let i=n.get(mA),r=n.get(Ct);return n.get(je).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),OV(n))),{onViewTransitionCreated:c}=i;return c&&$i(n,()=>c({transition:a,from:e,to:t})),s})}function OV(n){return new Promise(e=>{fa({read:()=>setTimeout(e)},{injector:n})})}var RV=new _e(""),Ox=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Gt,this.transitionAbortSubject=new Gt,this.configLoader=oe(Ax),this.environmentInjector=oe($n),this.urlSerializer=oe(jd),this.rootContexts=oe(Wd),this.location=oe(us),this.inputBindingEnabled=oe(im,{optional:!0})!==null,this.titleStrategy=oe(hA),this.options=oe(qd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=oe(Px),this.createViewTransition=oe(pA,{optional:!0}),this.navigationErrorHandler=oe(RV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null;let t=r=>this.events.next(new dx(r)),i=r=>this.events.next(new ux(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ht(se(se({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Cn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Rd,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(o=>o.id!==0),ot(o=>ht(se({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ri(o=>{let s=!1,a=!1;return Ye(o).pipe(ri(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Fi.SupersededByNewNavigation),ii;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ht(se({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&d!=="reload"){let u="";return this.events.next(new Es(c.id,this.urlSerializer.serialize(c.rawUrl),u,$p.IgnoredSameUrlNavigation)),c.resolve(!1),ii}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ye(c).pipe(ri(u=>{let h=this.transitions?.getValue();return this.events.next(new Wc(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?ii:Promise.resolve(u)}),xV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),mn(u=>{o.targetSnapshot=u.targetSnapshot,o.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ht(se({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new qp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:u,extractedUrl:h,source:f,restoredState:v,extras:b}=c,_=new Wc(u,this.urlSerializer.serialize(h),f,v);this.events.next(_);let m=tA(this.rootComponentType).snapshot;return this.currentTransition=o=ht(se({},c),{targetSnapshot:m,urlAfterRedirects:h,extras:ht(se({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Ye(o)}else{let u="";return this.events.next(new Es(c.id,this.urlSerializer.serialize(c.extractedUrl),u,$p.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ii}}),mn(c=>{let l=new sx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ot(c=>(this.currentTransition=o=ht(se({},c),{guards:z5(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Q5(this.environmentInjector,c=>this.events.next(c)),mn(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Jp(this.urlSerializer,c.guardsResult);let l=new ax(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),xn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Fi.GuardRejected),!1)),ex(c=>{if(c.guards.canActivateChecks.length)return Ye(c).pipe(mn(l=>{let d=new cx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ri(l=>{let d=!1;return Ye(l).pipe(MV(this.paramsInheritanceStrategy,this.environmentInjector),mn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Fi.NoDataFromResolver)}}))}),mn(l=>{let d=new lx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),ex(c=>{let l=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(mn(h=>{d.component=h}),ot(()=>{})));for(let h of d.children)u.push(...l(h));return u};return Qs(l(c.targetSnapshot.root)).pipe(Zo(null),ur(1))}),ex(()=>this.afterPreactivation()),ri(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?tn(d).pipe(ot(()=>o)):Ye(o)}),ot(c=>{let l=F5(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ht(se({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),mn(()=>{this.events.next(new Ld)}),V5(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ur(1),mn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Qo(this.transitionAbortSubject.pipe(mn(c=>{throw c}))),Ko(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Fi.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xo(c=>{if(a=!0,sA(c))this.events.next(new Do(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),U5(c)?this.events.next(new $c(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Fd(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=$i(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof Ud){let{message:u,cancellationCode:h}=Jp(this.urlSerializer,d);this.events.next(new Do(o.id,this.urlSerializer.serialize(o.extractedUrl),u,h)),this.events.next(new $c(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(l);let u=t.errorHandler(c);o.resolve(!!u)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ii}))}))}cancelNavigationTransition(t,i,r){let o=new Do(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kV(n){return n!==Rd}var NV=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>oe(FV),providedIn:"root"})}}return n})(),Ex=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},FV=(()=>{class n extends Ex{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gr(n)))(r||n)}})()}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:()=>oe(LV),providedIn:"root"})}}return n})(),LV=(()=>{class n extends gA{constructor(){super(...arguments),this.location=oe(us),this.urlSerializer=oe(jd),this.options=oe(qd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=oe(Px),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ao,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Wc)this.stateMemento=this.createStateMemento();else if(t instanceof Es)this.rawUrlTree=i.initialUrl;else if(t instanceof qp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Ld?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Do&&(t.code===Fi.GuardRejected||t.code===Fi.NoDataFromResolver)?this.restoreHistory(i):t instanceof Fd?this.restoreHistory(i,!0):t instanceof rr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof Ao?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=se(se({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=se(se({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=gr(n)))(r||n)}})()}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pd=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Pd||{});function vA(n,e){n.events.pipe(xn(t=>t instanceof rr||t instanceof Do||t instanceof Fd||t instanceof Es),ot(t=>t instanceof rr||t instanceof Es?Pd.COMPLETE:(t instanceof Do?t.code===Fi.Redirect||t.code===Fi.SupersededByNewNavigation:!1)?Pd.REDIRECTING:Pd.FAILED),xn(t=>t!==Pd.REDIRECTING),ur(1)).subscribe(()=>{e()})}function BV(n){throw n}var UV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=oe(Ef),this.stateManager=oe(gA),this.options=oe(qd,{optional:!0})||{},this.pendingTasks=oe(go),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=oe(Ox),this.urlSerializer=oe(jd),this.location=oe(us),this.urlHandlingStrategy=oe(Px),this._events=new Gt,this.errorHandler=this.options.errorHandler||BV,this.navigated=!1,this.routeReuseStrategy=oe(NV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=oe(tm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!oe(im,{optional:!0}),this.eventsSubscription=new sn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Do&&i.code!==Fi.Redirect&&i.code!==Fi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rr)this.navigated=!0;else if(i instanceof $c){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=se({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kV(r.source)},s);this.scheduleNavigation(a,Rd,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}HV(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=se({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dx),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=se(se({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=r?r.snapshot:this.routerState.snapshot.root;u=KD(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return QD(u,t,d,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Oa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Rd,null,i)}navigate(t,i={skipLocationChange:!1}){return zV(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=se({},UV):i===!1?r=se({},VV):r=i,Oa(t))return PD(this.currentUrlTree,t,r);let o=this.parseUrl(t);return PD(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,h)=>{a=u,c=h});let d=this.pendingTasks.add();return vA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ue(4008,!1)}function HV(n){return!(n instanceof Ld)&&!(n instanceof $c)}var An=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Gt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Oa(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:wS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Oa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(ee(zn),ee(Ir),mo("tabindex"),ee(bo),ee(kt),ee(Co))}}static{this.\u0275dir=wt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Nt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ln],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ln],replaceUrl:[2,"replaceUrl","replaceUrl",Ln],routerLink:"routerLink"},standalone:!0,features:[ci,qn]})}}return n})();var nm=class{};var jV=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(xn(t=>t instanceof rr),ao(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Cf(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return tn(r).pipe(qo())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=Ye(null);let o=r.pipe(yn(s=>s===null?Ye(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return tn([o,s]).pipe(qo())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(Y(zn),Y(Pf),Y($n),Y(nm),Y(Ax))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_A=new _e(""),GV=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Es&&t.code===$p.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yp&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yp(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){G_()}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function WV(n){return n.routerState.root}function Yd(n,e){return{\u0275kind:n,\u0275providers:e}}function $V(){let n=oe(Tn);return e=>{let t=n.get(Mr);if(e!==t.components[0])return;let i=n.get(zn),r=n.get(bA);n.get(Rx)===1&&i.initialNavigation(),n.get(yA,null,yt.Optional)?.setUpPreloading(),n.get(_A,null,yt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var bA=new _e("",{factory:()=>new Gt}),Rx=new _e("",{providedIn:"root",factory:()=>1});function qV(){return Yd(2,[{provide:Rx,useValue:0},{provide:Df,multi:!0,deps:[Tn],useFactory:e=>{let t=e.get(eI,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(zn),o=e.get(bA);vA(r,()=>{i(!0)}),e.get(Ox).afterPreactivation=()=>(i(!0),o.closed?Ye(void 0):o),r.initialNavigation()}))}}])}function YV(){return Yd(3,[{provide:Df,multi:!0,useFactory:()=>{let e=oe(zn);return()=>{e.setUpLocationChangeListener()}}},{provide:Rx,useValue:2}])}var yA=new _e("");function XV(n){return Yd(0,[{provide:yA,useExisting:jV},{provide:nm,useExisting:n}])}function ZV(){return Yd(8,[ND,{provide:im,useExisting:ND}])}function KV(n){let e=[{provide:pA,useValue:PV},{provide:mA,useValue:se({skipNextTransition:!!n?.skipInitialTransition},n)}];return Yd(9,e)}var UD=new _e("ROUTER_FORROOT_GUARD"),QV=[us,{provide:jd,useClass:Gc},zn,Wd,{provide:Ir,useFactory:WV,deps:[zn]},Ax,[]],kx=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[QV,[],{provide:tm,multi:!0,useValue:t},{provide:UD,useFactory:nz,deps:[[zn,new lf,new v_]]},{provide:qd,useValue:i||{}},i?.useHash?ez():tz(),JV(),i?.preloadingStrategy?XV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?iz(i):[],i?.bindToComponentInputs?ZV().\u0275providers:[],i?.enableViewTransitions?KV().\u0275providers:[],rz()]}}static forChild(t){return{ngModule:n,providers:[{provide:tm,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(Y(UD,8))}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Le({})}}return n})();function JV(){return{provide:_A,useFactory:()=>{let n=oe(aI),e=oe(je),t=oe(qd),i=oe(Ox),r=oe(jd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GV(r,i,n,e,t)}}}function ez(){return{provide:Co,useClass:nI}}function tz(){return{provide:Co,useClass:_b}}function nz(n){return"guarded"}function iz(n){return[n.initialNavigation==="disabled"?YV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?qV().\u0275providers:[]]}var VD=new _e("");function rz(){return[{provide:VD,useFactory:$V},{provide:Af,multi:!0,useExisting:VD}]}var Pn=class n{constructor(e,t,i){this.meta=e;this.title=t;this.platformId=i}updateTitle(e){this.title.setTitle(`${e} | HYUMANIUM`)}updateMetaTags(e){e.title&&(this.updateTitle(e.title),this.meta.updateTag({property:"og:title",content:e.title}),this.meta.updateTag({name:"twitter:title",content:e.title})),e.description&&(this.meta.updateTag({name:"description",content:e.description}),this.meta.updateTag({property:"og:description",content:e.description}),this.meta.updateTag({name:"twitter:description",content:e.description})),e.keywords&&this.meta.updateTag({name:"keywords",content:e.keywords}),e.image&&(this.meta.updateTag({property:"og:image",content:e.image}),this.meta.updateTag({name:"twitter:image",content:e.image})),e.url&&So(this.platformId)&&(this.meta.updateTag({property:"og:url",content:e.url}),this.meta.updateTag({rel:"canonical",href:e.url})),this.meta.updateTag({property:"og:type",content:e.type||"website"}),this.meta.updateTag({name:"twitter:card",content:"summary_large_image"})}addStructuredData(e){if(So(this.platformId)){let t=document.querySelector('script[type="application/ld+json"]');t||(t=document.createElement("script"),t.setAttribute("type","application/ld+json"),document.head.appendChild(t)),t.textContent=JSON.stringify(e)}}static \u0275fac=function(t){return new(t||n)(Y(DI),Y(tp),Y(Zn))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var om={production:!1,apiUrl:"https://localhost:7108"};var Xr=class n{constructor(e){this.http=e}apiUrl=`${om.apiUrl}/api/blogs`;blogsSubject=new Cn([]);blogs$=this.blogsSubject.asObservable();getAllBlogs(){return this.http.get(this.apiUrl).pipe(mn(e=>this.blogsSubject.next(e)))}getBlogBySlug(e){return this.http.get(`${this.apiUrl}/slug/${e}`)}getBlogsByCategory(e){return this.http.get(`${this.apiUrl}/category/${e}`)}searchBlogs(e){return this.http.get(`${this.apiUrl}/search?q=${e}`)}createBlog(e){return this.http.post(this.apiUrl,e)}updateBlog(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}deleteBlog(e){return this.http.delete(`${this.apiUrl}/${e}`)}getRecentBlogs(e=3){return this.http.get(`${this.apiUrl}/recent/${e}`)}static \u0275fac=function(t){return new(t||n)(Y(ga))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var oz=n=>["/blogs",n];function sz(n,e){if(n&1&&(g(0,"span",16),y(1),p()),n&2){let t=e.$implicit;S(),ct(" #",t," ")}}function az(n,e){if(n&1&&(g(0,"span",16),y(1),p()),n&2){let t=e.$implicit;S(),ct(" #",t," ")}}var Ts=class n{blog;getReadTime(){return`${this.blog.readTime||5} min read`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-blog-card"]],inputs:{blog:"blog"},decls:26,vars:13,consts:[[1,"blog-card"],[1,"blog-image-wrapper"],["loading","lazy",1,"blog-image",3,"src","alt"],[1,"blog-category"],[1,"blog-content"],[1,"blog-meta"],[1,"author"],[1,"separator"],[1,"read-time"],[1,"blog-title"],[1,"blog-excerpt"],[1,"blog-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"blog-footer"],[1,"read-more-btn",3,"routerLink"],[1,"material-icons"],[1,"tag"]],template:function(t,i){t&1&&(g(0,"article",0)(1,"div",1),ce(2,"img",2),g(3,"div",3),y(4),p()(),g(5,"div",4)(6,"div",5)(7,"span",6),y(8),p(),g(9,"span",7),y(10,"\u2022"),p(),g(11,"span",8),y(12),p()(),g(13,"h3",9),y(14),p(),g(15,"p",10),y(16),p(),g(17,"div",11),ae(18,sz,2,1,"span",12),p(),g(19,"div",13)(20,"div",11),ae(21,az,2,1,"span",12),p(),g(22,"a",14),y(23," Read More "),g(24,"span",15),y(25,"arrow_forward"),p()()()()()),t&2&&(S(2),V("src",i.blog.mainImage,jt)("alt",i.blog.title),S(2),fe(i.blog.category),S(4),fe(i.blog.author),S(4),fe(i.getReadTime()),S(2),fe(i.blog.title),S(2),fe(i.blog.excerpt),S(2),V("ngForOf",i.blog.tags.slice(0,3)),S(3),V("ngForOf",i.blog.tags.slice(0,3)),S(),V("routerLink",NE(11,oz,i.blog.slug)),Nt("aria-label","Read more about "+i.blog.title))},dependencies:[Rt,An],styles:['.blog-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;overflow:hidden;display:flex;flex-direction:column;height:100%}.blog-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.blog-image-wrapper[_ngcontent-%COMP%]{position:relative;height:220px;overflow:hidden}.blog-image-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:60px;background:linear-gradient(to top,rgba(0,0,0,.3),transparent)}.blog-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.blog-card[_ngcontent-%COMP%]:hover   .blog-image[_ngcontent-%COMP%]{transform:scale(1.05)}.blog-category[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:#4584f3f2;color:#fff;padding:6px 14px;border-radius:12px;font-size:.85rem;font-weight:600;z-index:1;backdrop-filter:blur(4px)}.blog-content[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;flex:1}.blog-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#fff;font-size:.9rem;margin-bottom:16px}.blog-meta[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{color:#4584f3;font-weight:600}.blog-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#e8ecf1}.blog-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#00264a;margin-bottom:16px;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.blog-excerpt[_ngcontent-%COMP%]{color:#fff;font-size:1rem;line-height:1.6;margin-bottom:24px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}.blog-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:24px}.tag[_ngcontent-%COMP%]{background:#f7f9fc;color:#4584f3;padding:4px 10px;border-radius:8px;font-size:.85rem;font-weight:500}.blog-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid #e8ecf1}.credentials[_ngcontent-%COMP%]{font-size:.85rem;color:#fff;font-style:italic}.read-more[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:4px;color:#4584f3;font-weight:600;font-size:.95rem;transition:all .2s ease}.read-more[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .2s ease}.read-more[_ngcontent-%COMP%]:hover{color:#00b8a9}.read-more[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translate(4px)}']})};var cz=()=>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],lz=()=>[1,2,3,4,5,6,7,8,9,10];function dz(n,e){n&1&&ce(0,"div",10)}function uz(n,e){n&1&&(g(0,"div",7)(1,"div",8),ae(2,dz,1,0,"div",9),p()()),n&2&&(S(2),V("ngForOf",Kl(1,lz)))}function hz(n,e){if(n&1&&ce(0,"div",11),n&2){let t=e.$implicit;Nn("left",t.left)("animation-delay",t.delay)("animation-duration",t.duration)}}function fz(n,e){if(n&1&&ce(0,"div",12),n&2){let t=e.$implicit;Nn("left",t.left)("top",t.top)("animation-delay",t.delay)}}var am=class n{bubbles=[];particles=[];ngOnInit(){this.generateBubbles(),this.generateParticles()}generateBubbles(){for(let e=0;e<15;e++)this.bubbles.push({left:`${Math.random()*100}%`,delay:`${Math.random()*5}s`,duration:`${10+Math.random()*15}s`})}generateParticles(){for(let e=0;e<30;e++)this.particles.push({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,delay:`${Math.random()*3}s`})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-helix-background"]],decls:7,vars:4,consts:[[1,"helix-wrapper"],["id","adn",1,"content"],["class","pair",4,"ngFor","ngForOf"],[1,"bubbles-container"],["class","bubble",3,"left","animation-delay","animation-duration",4,"ngFor","ngForOf"],[1,"particles"],["class","particle",3,"left","top","animation-delay",4,"ngFor","ngForOf"],[1,"pair"],[1,"cylinder"],["class","side",4,"ngFor","ngForOf"],[1,"side"],[1,"bubble"],[1,"particle"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1),ae(2,uz,3,2,"div",2),p(),g(3,"div",3),ae(4,hz,1,6,"div",4),p(),g(5,"div",5),ae(6,fz,1,6,"div",6),p()()),t&2&&(S(2),V("ngForOf",Kl(3,cz)),S(2),V("ngForOf",i.bubbles),S(2),V("ngForOf",i.particles))},dependencies:[Rt],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;overflow:hidden}.helix-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;perspective:100vmin}.helix-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#4584f30d,#00b8a90a,#4584f30d);pointer-events:none}*[_ngcontent-%COMP%]{transform-style:preserve-3d;box-sizing:border-box}.content[_ngcontent-%COMP%]{width:90vmin;height:35vmin;display:flex;align-items:center;justify-content:space-evenly;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_spin 30s linear 0s infinite;transform-style:preserve-3d;will-change:transform}@keyframes _ngcontent-%COMP%_spin{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.pair[_ngcontent-%COMP%]{width:1.2vmin;height:23vmin;position:relative;transform:rotateX(180deg);animation:_ngcontent-%COMP%_pair-move 30s linear 0s infinite;transform-style:preserve-3d;will-change:transform}.pair[_ngcontent-%COMP%]:nth-child(1){animation-delay:-0s}.pair[_ngcontent-%COMP%]:nth-child(1):before, .pair[_ngcontent-%COMP%]:nth-child(1):after{animation-delay:-0s}.pair[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1.5s}.pair[_ngcontent-%COMP%]:nth-child(2):before, .pair[_ngcontent-%COMP%]:nth-child(2):after{animation-delay:-1.5s}.pair[_ngcontent-%COMP%]:nth-child(3){animation-delay:-3s}.pair[_ngcontent-%COMP%]:nth-child(3):before, .pair[_ngcontent-%COMP%]:nth-child(3):after{animation-delay:-3s}.pair[_ngcontent-%COMP%]:nth-child(4){animation-delay:-4.5s}.pair[_ngcontent-%COMP%]:nth-child(4):before, .pair[_ngcontent-%COMP%]:nth-child(4):after{animation-delay:-4.5s}.pair[_ngcontent-%COMP%]:nth-child(5){animation-delay:-6s}.pair[_ngcontent-%COMP%]:nth-child(5):before, .pair[_ngcontent-%COMP%]:nth-child(5):after{animation-delay:-6s}.pair[_ngcontent-%COMP%]:nth-child(6){animation-delay:-7.5s}.pair[_ngcontent-%COMP%]:nth-child(6):before, .pair[_ngcontent-%COMP%]:nth-child(6):after{animation-delay:-7.5s}.pair[_ngcontent-%COMP%]:nth-child(7){animation-delay:-9s}.pair[_ngcontent-%COMP%]:nth-child(7):before, .pair[_ngcontent-%COMP%]:nth-child(7):after{animation-delay:-9s}.pair[_ngcontent-%COMP%]:nth-child(8){animation-delay:-10.5s}.pair[_ngcontent-%COMP%]:nth-child(8):before, .pair[_ngcontent-%COMP%]:nth-child(8):after{animation-delay:-10.5s}.pair[_ngcontent-%COMP%]:nth-child(9){animation-delay:-12s}.pair[_ngcontent-%COMP%]:nth-child(9):before, .pair[_ngcontent-%COMP%]:nth-child(9):after{animation-delay:-12s}.pair[_ngcontent-%COMP%]:nth-child(10){animation-delay:-13.5s}.pair[_ngcontent-%COMP%]:nth-child(10):before, .pair[_ngcontent-%COMP%]:nth-child(10):after{animation-delay:-13.5s}.pair[_ngcontent-%COMP%]:nth-child(11){animation-delay:-15s}.pair[_ngcontent-%COMP%]:nth-child(11):before, .pair[_ngcontent-%COMP%]:nth-child(11):after{animation-delay:-15s}.pair[_ngcontent-%COMP%]:nth-child(12){animation-delay:-16.5s}.pair[_ngcontent-%COMP%]:nth-child(12):before, .pair[_ngcontent-%COMP%]:nth-child(12):after{animation-delay:-16.5s}.pair[_ngcontent-%COMP%]:nth-child(13){animation-delay:-18s}.pair[_ngcontent-%COMP%]:nth-child(13):before, .pair[_ngcontent-%COMP%]:nth-child(13):after{animation-delay:-18s}.pair[_ngcontent-%COMP%]:nth-child(14){animation-delay:-19.5s}.pair[_ngcontent-%COMP%]:nth-child(14):before, .pair[_ngcontent-%COMP%]:nth-child(14):after{animation-delay:-19.5s}.pair[_ngcontent-%COMP%]:nth-child(15){animation-delay:-21s}.pair[_ngcontent-%COMP%]:nth-child(15):before, .pair[_ngcontent-%COMP%]:nth-child(15):after{animation-delay:-21s}.pair[_ngcontent-%COMP%]:nth-child(16){animation-delay:-22.5s}.pair[_ngcontent-%COMP%]:nth-child(16):before, .pair[_ngcontent-%COMP%]:nth-child(16):after{animation-delay:-22.5s}.pair[_ngcontent-%COMP%]:nth-child(17){animation-delay:-24s}.pair[_ngcontent-%COMP%]:nth-child(17):before, .pair[_ngcontent-%COMP%]:nth-child(17):after{animation-delay:-24s}.pair[_ngcontent-%COMP%]:nth-child(18){animation-delay:-25.5s}.pair[_ngcontent-%COMP%]:nth-child(18):before, .pair[_ngcontent-%COMP%]:nth-child(18):after{animation-delay:-25.5s}.pair[_ngcontent-%COMP%]:nth-child(19){animation-delay:-27s}.pair[_ngcontent-%COMP%]:nth-child(19):before, .pair[_ngcontent-%COMP%]:nth-child(19):after{animation-delay:-27s}.pair[_ngcontent-%COMP%]:nth-child(20){animation-delay:-28.5s}.pair[_ngcontent-%COMP%]:nth-child(20):before, .pair[_ngcontent-%COMP%]:nth-child(20):after{animation-delay:-28.5s}@keyframes _ngcontent-%COMP%_pair-move{0%{transform:rotateX(180deg)}to{transform:rotateX(540deg)}}@keyframes _ngcontent-%COMP%_ball-move{0%{transform:rotateX(0)}to{transform:rotateX(-360deg)}}@keyframes _ngcontent-%COMP%_ball-glow{0%,to{box-shadow:0 0 4vmin 1.5vmin #3db8f566,0 1vmin 2vmin #0000001a inset}50%{box-shadow:0 0 6vmin 2vmin #3df5f580,0 1vmin 2vmin #0000001a inset}}.pair[_ngcontent-%COMP%]:before, .pair[_ngcontent-%COMP%]:after{content:"";position:absolute;width:6vmin;height:6vmin;background:radial-gradient(circle at 35% 35%,#55c1f6bf,#0b95da8c);border-radius:100%;left:-2.5vmin;top:-6vmin;transform:rotateX(0);animation:_ngcontent-%COMP%_ball-move 30s linear 0s infinite,_ngcontent-%COMP%_ball-glow 30s ease-in-out 0s infinite;backdrop-filter:blur(2px);will-change:transform}.pair[_ngcontent-%COMP%]:after{background:radial-gradient(circle at 35% 35%,#55f6f6bf,#0bdada8c);top:initial;bottom:-6vmin}.cylinder[_ngcontent-%COMP%]{--height: 1.2;--width: 1.2;--depth: calc(($h * 1) - 12);height:calc(var(--height) * 1vmin);width:calc(var(--width) * 1vmin);position:absolute;bottom:calc(50% - .6vmin);transform:rotateX(90deg);transform-style:preserve-3d}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;height:100%;width:100%;opacity:.85;backdrop-filter:blur(1px)}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(1){width:calc(var(--depth) * 1vmin);height:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateY(90deg) translateZ(calc(var(--width) * .5vmin));background:linear-gradient(90deg,#1193d473,#13a4ec7a)}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(2){width:calc(var(--depth) * 1vmin);height:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateY(-90deg) translateZ(calc(var(--width) * .5vmin));background:linear-gradient(90deg,#13a4ec7a,#2badee73)}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(3){height:calc(var(--depth) * 1vmin);width:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateX(90deg) translateZ(calc(var(--height) * .5vmin));background:linear-gradient(180deg,#5abff261,#42b6f06b)}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(4){height:calc(var(--depth) * 1vmin);width:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateX(-90deg) translateZ(calc(var(--height) * .5vmin));background:linear-gradient(180deg,#0d73a561,#0f83bd6b)}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(5){height:calc(var(--depth) * 1vmin);width:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateX(-90deg) rotateY(45deg) translateZ(calc(var(--height) * .5vmin));background:#0f83bd6b}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(6){height:calc(var(--depth) * 1vmin);width:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateX(-90deg) rotateY(-45deg) translateZ(calc(var(--height) * .5vmin));background:#0b628e59}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(7){height:calc(var(--depth) * 1vmin);width:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateX(-90deg) rotateY(135deg) translateZ(calc(var(--height) * .5vmin));background:#2badee73}.cylinder[_ngcontent-%COMP%]   .side[_ngcontent-%COMP%]:nth-of-type(8){height:calc(var(--depth) * 1vmin);width:calc(var(--width) * 41.17 / 100 * 1vmin);transform:translate(-50%,-50%) rotateX(-90deg) rotateY(-135deg) translateZ(calc(var(--height) * .5vmin));background:#42b6f06b}.bubbles-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}.bubble[_ngcontent-%COMP%]{position:absolute;bottom:-100px;background:radial-gradient(circle at 30% 30%,#ffffff80,#4584f359);border-radius:50%;opacity:.8;animation:_ngcontent-%COMP%_rise 15s infinite ease-in;backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.4);box-shadow:inset 0 10px 20px #ffffff80,0 5px 15px #4584f34d;will-change:transform,opacity}.bubble[_ngcontent-%COMP%]:nth-child(1){width:80px;height:80px}.bubble[_ngcontent-%COMP%]:nth-child(2){width:60px;height:60px}.bubble[_ngcontent-%COMP%]:nth-child(3){width:100px;height:100px}.bubble[_ngcontent-%COMP%]:nth-child(4){width:45px;height:45px}.bubble[_ngcontent-%COMP%]:nth-child(5){width:70px;height:70px}.bubble[_ngcontent-%COMP%]:nth-child(6){width:55px;height:55px}.bubble[_ngcontent-%COMP%]:nth-child(7){width:90px;height:90px}.bubble[_ngcontent-%COMP%]:nth-child(8){width:65px;height:65px}.bubble[_ngcontent-%COMP%]:nth-child(9){width:50px;height:50px}.bubble[_ngcontent-%COMP%]:nth-child(10){width:75px;height:75px}.bubble[_ngcontent-%COMP%]:nth-child(11){width:85px;height:85px}.bubble[_ngcontent-%COMP%]:nth-child(12){width:55px;height:55px}.bubble[_ngcontent-%COMP%]:nth-child(13){width:70px;height:70px}.bubble[_ngcontent-%COMP%]:nth-child(14){width:60px;height:60px}.bubble[_ngcontent-%COMP%]:nth-child(15){width:95px;height:95px}@keyframes _ngcontent-%COMP%_rise{0%{bottom:-100px;transform:translate(0) scale(1);opacity:0}10%{opacity:.8}50%{transform:translate(100px) scale(1.1)}90%{opacity:.6}to{bottom:110vh;transform:translate(-100px) scale(.8);opacity:0}}.particles[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}.particle[_ngcontent-%COMP%]{position:absolute;width:4px;height:4px;background:radial-gradient(circle,rgba(69,132,243,.9),transparent);border-radius:50%;animation:_ngcontent-%COMP%_twinkle 3s infinite ease-in-out;will-change:opacity,transform}@keyframes _ngcontent-%COMP%_twinkle{0%,to{opacity:0;transform:scale(1)}50%{opacity:1;transform:scale(1.5)}}@media (max-width: 768px){.content[_ngcontent-%COMP%]{width:63vmin;height:24.5vmin}.pair[_ngcontent-%COMP%]{height:14.5vmin}.pair[_ngcontent-%COMP%]:before, .pair[_ngcontent-%COMP%]:after{width:4.5vmin;height:4.5vmin}.bubble[_ngcontent-%COMP%]:nth-child(n){width:40px!important;height:40px!important}}']})};function mz(n,e){n&1&&(g(0,"span",9),y(1,"star"),p())}function gz(n,e){if(n&1&&(g(0,"div",6)(1,"div",7)(2,"div",8)(3,"span",9),y(4,"format_quote"),p()(),g(5,"div",10),ae(6,mz,2,0,"span",11),p(),g(7,"p",12),y(8),p(),g(9,"div",13)(10,"div",14),y(11),p(),g(12,"div",15),y(13),p(),g(14,"div",16),y(15),p()(),g(16,"a",17)(17,"button"),y(18,"View All Testimonials"),p()()()()),n&2){let t=e.$implicit,i=Ce();Nn("background-image",i.getBackgroundStyle(t.image)),S(6),V("ngForOf",i.getStars(t.rating)),S(2),fe(t.text),S(3),fe(t.name),S(2),fe(t.role),S(2),fe(t.company)}}var cm=class n{testimonials=[{id:1,name:"Dr. Rajesh Kumar",role:"HR Director",company:"Indo Dutch Systems",image:"https://images.pexels.com/photos/12787666/pexels-photo-12787666.jpeg?auto=compress&cs=tinysrgb&w=1260",text:"HYUMANIUM transformed our workplace culture completely. Their holistic approach to mental health and employee well-being has resulted in a 40% increase in productivity and employee satisfaction.",rating:5},{id:2,name:"Sarah Johnson",role:"Operations Manager",company:"Credentia UK",text:"The DE&I training programs opened our eyes to creating a truly inclusive workplace. The results have been remarkable - better team collaboration and innovation across all departments.",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=1288&auto=format&fit=crop",rating:5},{id:3,name:"Chetna Bali",role:"Founder & Director",company:"Blossom Pathways",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=1361&auto=format&fit=crop",text:"Dr. Anuradha is a compassionate and insightful psychologist. Her expertise and warm approach make a significant difference in helping people navigate their challenges professionally.",rating:5},{id:4,name:"Captain Amit Verma",role:"Fleet Manager",company:"Ocean One Ship Management",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1287&auto=format&fit=crop",text:"The maritime psychology programs have been game-changing for our crew. Reduced stress incidents by 60% and significantly improved crew retention rates.",rating:5}];ngOnInit(){}next(){let e=document.querySelectorAll(".slider-item");document.querySelector(".slider-track")?.appendChild(e[0])}prev(){let e=document.querySelectorAll(".slider-item");document.querySelector(".slider-track")?.prepend(e[e.length-1])}getStars(e){return Array(e).fill(0)}getBackgroundStyle(e){return`linear-gradient(rgba(69, 132, 243, 0.85), rgba(0, 184, 169, 0.85)), url('${e}')`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-testimonial-slider"]],decls:8,vars:3,consts:[[1,"testimonial-slider-container"],[1,"slider-track"],["class","slider-item",3,"background-image",4,"ngFor","ngForOf"],[1,"slider-buttons"],[1,"prev-btn",3,"click"],[1,"next-btn",3,"click"],[1,"slider-item"],[1,"content"],[1,"quote-icon"],[1,"material-icons"],[1,"rating"],["class","material-icons",4,"ngFor","ngForOf"],[1,"testimonial-text"],[1,"author-info"],[1,"name"],[1,"role"],[1,"company"],["routerLink","/clients",1,"seeMore"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1),ae(2,gz,19,7,"div",2),p(),g(3,"div",3)(4,"button",4),Te("click",function(){return i.prev()}),y(5,"\u25C1"),p(),g(6,"button",5),Te("click",function(){return i.next()}),y(7,"\u25B7"),p()()()),t&2&&(S(2),V("ngForOf",i.testimonials),S(2),Nt("aria-label","Previous testimonial"),S(2),Nt("aria-label","Next testimonial"))},dependencies:[Rt,An],styles:[".testimonial-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:500px;margin:0 auto;background:#ffffff0d;backdrop-filter:blur(10px);box-shadow:0 30px 50px #0000001a;border-radius:32px;overflow:hidden;border:2px solid rgba(255,255,255,.1)}@media (max-width: 1024px){.testimonial-slider-container[_ngcontent-%COMP%]{height:550px;max-width:95%}}@media (max-width: 768px){.testimonial-slider-container[_ngcontent-%COMP%]{height:600px;max-width:100%;border-radius:0;margin:0}}.slider-track[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:32px}@media (max-width: 768px){.slider-track[_ngcontent-%COMP%]{border-radius:0}}.slider-item[_ngcontent-%COMP%]{width:300px;height:350px;position:absolute;top:50%;transform:translateY(-50%);border-radius:24px;box-shadow:0 30px 50px #0003;display:inline-block;transition:all .5s cubic-bezier(.4,0,.2,1)}@media (max-width: 1024px){.slider-item[_ngcontent-%COMP%]{width:280px;height:330px}}@media (max-width: 768px){.slider-item[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0}}.slider-item[_ngcontent-%COMP%]:nth-child(1), .slider-item[_ngcontent-%COMP%]:nth-child(2){top:0;left:0;transform:translate(0);width:100%;height:100%;border-radius:32px}@media (max-width: 768px){.slider-item[_ngcontent-%COMP%]:nth-child(1), .slider-item[_ngcontent-%COMP%]:nth-child(2){border-radius:0}}.slider-item[_ngcontent-%COMP%]:nth-child(3){left:55%}@media (max-width: 1024px){.slider-item[_ngcontent-%COMP%]:nth-child(3){left:60%}}@media (max-width: 768px){.slider-item[_ngcontent-%COMP%]:nth-child(3){left:calc(100% + 20px);opacity:0}}.slider-item[_ngcontent-%COMP%]:nth-child(4){left:calc(55% + 320px)}@media (max-width: 1024px){.slider-item[_ngcontent-%COMP%]:nth-child(4){left:calc(60% + 300px)}}@media (max-width: 768px){.slider-item[_ngcontent-%COMP%]:nth-child(4){left:calc(100% + 340px);opacity:0}}.slider-item[_ngcontent-%COMP%]:nth-child(n+5){left:calc(55% + 640px);opacity:0}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:80px;width:500px;text-align:left;color:#fff;transform:translateY(-50%);display:none;padding:20px}@media (max-width: 1024px){.content[_ngcontent-%COMP%]{left:50px;width:450px}}@media (max-width: 768px){.content[_ngcontent-%COMP%]{left:20px;right:20px;width:auto;top:40px;transform:none;padding:0;max-height:calc(100% - 120px);overflow-y:auto}}.slider-item[_ngcontent-%COMP%]:nth-child(2)   .content[_ngcontent-%COMP%]{display:block}.quote-icon[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center;background:#fff3;backdrop-filter:blur(10px);border-radius:50%;margin-bottom:24px;opacity:0;animation:_ngcontent-%COMP%_slideInUp .8s ease .2s forwards}@media (max-width: 768px){.quote-icon[_ngcontent-%COMP%]{width:50px;height:50px}}.quote-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 768px){.quote-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px}}.rating[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:24px;opacity:0;animation:_ngcontent-%COMP%_slideInUp .8s ease .3s forwards}.rating[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#ffc107;font-size:24px}@media (max-width: 768px){.rating[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}}.testimonial-text[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.8;margin-bottom:32px;opacity:0;animation:_ngcontent-%COMP%_slideInUp .8s ease .4s forwards;text-shadow:0 2px 10px rgba(0,0,0,.3)}@media (max-width: 768px){.testimonial-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;margin-bottom:24px}}.author-info[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_slideInUp .8s ease .5s forwards}.author-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:4px}@media (max-width: 768px){.author-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.25rem}}.author-info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1.05rem;opacity:.9;margin-bottom:2px}@media (max-width: 768px){.author-info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.95rem}}.author-info[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{font-size:.95rem;opacity:.8;font-style:italic}@media (max-width: 768px){.author-info[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{font-size:.85rem}}.seeMore[_ngcontent-%COMP%]{display:inline-block;margin-top:32px;opacity:0;animation:_ngcontent-%COMP%_slideInUp .8s ease .6s forwards}@media (max-width: 768px){.seeMore[_ngcontent-%COMP%]{margin-top:24px}}.seeMore[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px 32px;border:none;cursor:pointer;border-radius:50px;background:#ffffffe6;color:#4584f3;font-weight:600;font-size:1rem;transition:all .4s ease;box-shadow:0 8px 24px #0003}@media (max-width: 768px){.seeMore[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;font-size:.9rem;width:100%}}.seeMore[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;transform:translateY(-3px);box-shadow:0 12px 32px #0000004d}@media (max-width: 768px){.seeMore[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}}.seeMore[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px);filter:blur(10px)}to{opacity:1;transform:translateY(0);filter:blur(0)}}.slider-buttons[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:50%;transform:translate(-50%);display:flex;gap:24px;z-index:100}@media (max-width: 768px){.slider-buttons[_ngcontent-%COMP%]{bottom:20px;gap:10px}}.prev-btn[_ngcontent-%COMP%], .next-btn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:none;cursor:pointer;background:#ffffffe6;backdrop-filter:blur(10px);color:#4584f3;font-size:1.2rem;transition:all .3s ease;box-shadow:0 8px 24px #00000026;display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.prev-btn[_ngcontent-%COMP%], .next-btn[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1rem}}.prev-btn[_ngcontent-%COMP%]:hover, .next-btn[_ngcontent-%COMP%]:hover{background:#fff;transform:scale(1.1);box-shadow:0 12px 32px #00000040}.prev-btn[_ngcontent-%COMP%]:active, .next-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.prev-btn[_ngcontent-%COMP%]{padding-right:4px}.next-btn[_ngcontent-%COMP%]{padding-left:4px}"]})};function _z(n,e){if(n&1&&(g(0,"article"),ce(1,"img",2),g(2,"h2"),y(3),p(),g(4,"div")(5,"p",3),y(6),p()()()),n&2){let t=e.$implicit;S(),V("src",t.image,jt)("alt",t.title),S(2),fe(t.title),S(3),fe(t.description)}}var lm=class n{industries=[{title:"Maritime",description:"Specialized mental health support for seafarers and maritime professionals, reducing stress and improving resilience while at sea.",image:"https://images.pexels.com/photos/635699/pexels-photo-635699.jpeg?auto=compress&cs=tinysrgb&w=1260",link:"/clients"},{title:"Education",description:"Wellness programs for schools and universities, supporting students, teachers, and administrators for healthier campuses.",image:"https://images.pexels.com/photos/7168798/pexels-photo-7168798.jpeg?auto=compress&cs=tinysrgb&w=1260",link:"/clients"},{title:"Technology",description:"Digital wellbeing solutions for tech teams facing high pressure, long hours, and constant change.",image:"https://images.pexels.com/photos/4099179/pexels-photo-4099179.jpeg?auto=compress&cs=tinysrgb&w=1260",link:"/clients"},{title:"Healthcare",description:"Support for clinicians and staff to manage burnout, compassion fatigue, and emotional load.",image:"https://images.pexels.com/photos/5145/animal-easter-chick-chicken.jpg?auto=compress&cs=tinysrgb&w=1260",link:"/clients"},{title:"Manufacturing",description:"On-floor mental health and safety culture programs for industrial and manufacturing teams.",image:"https://images.pexels.com/photos/2072158/pexels-photo-2072158.jpeg?auto=compress&cs=tinysrgb&w=1260",link:"/clients"},{title:"Finance",description:"Stress management and resilience programs for high-stakes financial environments.",image:"https://images.pexels.com/photos/12787666/pexels-photo-12787666.jpeg?auto=compress&cs=tinysrgb&w=1260",link:"/clients"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-industries-showcase"]],decls:2,vars:1,consts:[["mask","",1,"carousel"],[4,"ngFor","ngForOf"],[3,"src","alt"],[2,"color","black"]],template:function(t,i){t&1&&(g(0,"div",0),ae(1,_z,7,4,"article",1),p()),t&2&&(S(),V("ngForOf",i.industries))},dependencies:[Rt],styles:[".carousel[_ngcontent-%COMP%]{--items: 6;--carousel-duration: 30s;--carousel-width: min(80vw, 1200px);--carousel-item-width: 280px;--carousel-item-height: 450px;--carousel-item-gap: 2rem;--clr-cta: $primary-blue;position:relative;width:var(--carousel-width);height:var(--carousel-item-height);overflow:clip;margin:0 auto}.carousel[mask][_ngcontent-%COMP%]{mask-image:linear-gradient(to right,transparent,black 10% 90%,transparent)}.carousel[_ngcontent-%COMP%]:hover > article[_ngcontent-%COMP%]{animation-play-state:paused}@media (max-width: 768px){.carousel[_ngcontent-%COMP%]{--carousel-item-width: 240px;--carousel-item-height: 380px}}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{position:absolute;top:0;left:calc(100% + var(--carousel-item-gap));width:var(--carousel-item-width);height:var(--carousel-item-height);display:grid;grid-template-rows:200px auto 1fr auto;gap:.25rem;border-radius:16px;border:1px solid rgba(15,23,42,.08);background:#ffffffe6;color:#2c3e50;box-shadow:0 18px 40px #0f172a2e;padding-block-end:1rem;will-change:transform;animation-name:_ngcontent-%COMP%_marquee;animation-duration:var(--carousel-duration);animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:calc(var(--carousel-duration) / var(--items) * 1 * var(--i) * -1)}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]:nth-child(1){--i: 0}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]:nth-child(2){--i: 1}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]:nth-child(3){--i: 2}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]:nth-child(4){--i: 3}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]:nth-child(5){--i: 4}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]:nth-child(6){--i: 5}.carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:16px 16px 0 0}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(img){padding:0 1rem}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-row:span 2;display:grid;grid-template-rows:subgrid;font-size:.85rem}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;padding-block:.75rem .25rem;margin:0;color:#00264a}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;text-transform:lowercase;border:1px solid var(--clr-cta);color:#4584f3;border-radius:999px;padding:.35rem .9rem;place-self:start;font-weight:600;font-size:.85rem;transition:.15s ease-in-out;background:#4584f30f}.carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .carousel[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{background-color:#4584f3;color:#fff;outline:none;box-shadow:0 8px 20px #4584f34d;transform:translateY(-1px)}@keyframes _ngcontent-%COMP%_marquee{to{transform:translate(calc(var(--items) * (var(--carousel-item-width) + var(--carousel-item-gap)) * -1))}}"]})};function yz(n,e){if(n&1&&(g(0,"div",60)(1,"span",13),y(2),p(),g(3,"span"),y(4),p()()),n&2){let t=e.$implicit;Nn("color",t.color),S(2),fe(t.icon),S(2),fe(t.text)}}function xz(n,e){if(n&1&&(g(0,"div",60)(1,"span",13),y(2),p(),g(3,"span"),y(4),p()()),n&2){let t=e.$implicit;Nn("color",t.color),S(2),fe(t.icon),S(2),fe(t.text)}}function Mz(n,e){if(n&1&&(g(0,"div",61)(1,"div",62)(2,"span",13),y(3),p()(),g(4,"div",63)(5,"h4"),y(6),p(),g(7,"p"),y(8),p()()()),n&2){let t=e.$implicit;S(3),fe(t.icon),S(3),fe(t.title),S(2),fe(t.description)}}function wz(n,e){if(n&1&&(g(0,"li")(1,"span",13),y(2,"check_circle"),p(),g(3,"span"),y(4),p()()),n&2){let t=e.$implicit;S(4),fe(t)}}function Cz(n,e){if(n&1&&(g(0,"div",64)(1,"div",65)(2,"div",66)(3,"div",67)(4,"span",13),y(5),p()(),g(6,"h3"),y(7),p(),g(8,"p"),y(9),p(),g(10,"div",68)(11,"span",69)(12,"span",13),y(13,"touch_app"),p(),y(14," Tap to explore "),p()()(),g(15,"div",70)(16,"div",71)(17,"span",13),y(18),p(),g(19,"h3"),y(20),p()(),g(21,"ul",72),ae(22,wz,5,1,"li",73),p()()()()),n&2){let t=e.$implicit;S(5),fe(t.icon),S(2),fe(t.title),S(2),fe(t.description),S(9),fe(t.icon),S(2),fe(t.title),S(2),V("ngForOf",t.features)}}function Sz(n,e){if(n&1&&ce(0,"app-blog-card",79),n&2){let t=e.$implicit;V("blog",t)}}function Ez(n,e){if(n&1&&(g(0,"section",74)(1,"div",5)(2,"div",75)(3,"div")(4,"span",33)(5,"span",13),y(6,"article"),p(),y(7," Latest Insights "),p(),g(8,"h2",34),y(9,"Recent Articles"),p()(),g(10,"a",76),y(11," View All Articles "),g(12,"span",13),y(13,"arrow_forward"),p()()(),g(14,"div",77),ae(15,Sz,1,1,"app-blog-card",78),p()()()),n&2){let t=Ce();S(15),V("ngForOf",t.recentBlogs)}}var dm=class n{constructor(e,t){this.seoService=e;this.blogService=t}recentBlogs=[];aosInstance;movingHeadlines=[{icon:"medications",text:"AI-Powered Medication Reminders",color:"#3b82f6"},{icon:"favorite",text:"13K+ Satisfied Users Worldwide",color:"#22c55e"},{icon:"query_stats",text:"26% Telehealth Using System",color:"#06b6d4"},{icon:"security",text:"HIPAA Compliant & Secure",color:"#8b5cf6"},{icon:"psychology",text:"Smart Health Tracking",color:"#ef4444"},{icon:"workspace_premium",text:"Personalized Care Plans",color:"#f59e0b"},{icon:"verified_user",text:"Real-time Adherence Monitoring",color:"#10b981"},{icon:"support_agent",text:"Expert Medical Support 24/7",color:"#ec4899"}];services=[{icon:"psychology",title:"Psychological Counseling",description:"Expert mental health support for individuals and teams",features:["Individual therapy sessions","Group counseling programs","Crisis intervention support","Stress & anxiety management","Work-life balance coaching"],link:"/counseling"},{icon:"business_center",title:"HR Consulting",description:"Strategic HR solutions for organizational excellence",features:["HR policy development","Talent management strategies","Performance consulting","Organizational development","Change management support"],link:"/trainings"},{icon:"school",title:"Training Programs",description:"Comprehensive skill development and leadership training",features:["Leadership development workshops","Communication skills enhancement","Team building activities","Behavioral training programs","Executive coaching sessions"],link:"/trainings"},{icon:"favorite",title:"Wellness Programs",description:"Holistic workplace mental health interventions",features:["Employee assistance programs (EAP)","Psychosocial support services","DE&I initiatives","Wellness workshops & seminars","Mental health awareness campaigns"],link:"/interventions"},{icon:"assessment",title:"Psychometric Testing",description:"Scientific assessments for better decision making",features:["Personality assessments","Career aptitude tests","Leadership potential evaluation","Team compatibility analysis","Stress resilience measurement"],link:"/counseling"},{icon:"groups",title:"Organizational Audit",description:"Comprehensive workplace culture evaluation",features:["Employee satisfaction surveys","Workplace culture assessment","Mental health risk analysis","Productivity optimization","Retention strategy development"],link:"/interventions"}];whyChooseFeatures=[{icon:"verified_user",title:"Certified Professionals",description:"Our team comprises licensed psychologists and certified HR consultants with proven expertise"},{icon:"handshake",title:"Tailored Solutions",description:"Customized programs designed to address your unique organizational challenges and goals"},{icon:"trending_up",title:"Proven Results",description:"Track record of measurable improvements in employee well-being and organizational performance"},{icon:"security",title:"Confidential & Ethical",description:"Strict adherence to professional ethics and complete confidentiality in all engagements"}];ngOnInit(){this.setupSEO(),this.loadRecentBlogs()}ngAfterViewInit(){setTimeout(()=>{this.initAOS()},100)}ngOnDestroy(){this.aosInstance&&this.aosInstance.refresh()}setupSEO(){this.seoService.updateMetaTags({title:"HYUMANIUM - Mental Well-Being & HR Consulting Excellence",description:"Transform your workplace with expert psychological services and innovative HR solutions. Serving 500+ organizations since 2015 with proven results.",keywords:"mental health services, HR consulting, psychological counseling, workplace wellness, employee training, organizational development",image:"assets/images/og-home.jpg",url:"https://hyumanium.com"}),this.seoService.addStructuredData({"@context":"https://schema.org","@type":"Organization",name:"HYUMANIUM",description:"Expert psychological services and HR consulting",url:"https://hyumanium.com",logo:"https://hyumanium.com/assets/images/logo.png",foundingDate:"2015",address:{"@type":"PostalAddress",streetAddress:"OFFICE# 405, LEVEL1, SOUTH EXT-II, TDI CITY",addressLocality:"Mohali",addressRegion:"Punjab",addressCountry:"IN"},contactPoint:{"@type":"ContactPoint",contactType:"Customer Service",email:"HR@hyumanium.com"}})}loadRecentBlogs(){this.blogService.getRecentBlogs(3).subscribe({next:e=>{this.recentBlogs=e},error:e=>{console.error("Error loading recent blogs:",e)}})}initAOS(){typeof window<"u"&&import("./chunk-LOJ7VV2K.js").then(e=>{this.aosInstance=e,e.init({duration:800,easing:"ease-out-cubic",once:!0,offset:50,delay:0,disable:"mobile"})}).catch(e=>{console.error("AOS failed to load:",e)})}static \u0275fac=function(t){return new(t||n)(ee(Pn),ee(Xr))};static \u0275cmp=Fe({type:n,selectors:[["app-home"]],decls:149,vars:5,consts:[[1,"home-page"],[1,"hero-banner"],[1,"hero-background-image"],[1,"hero-overlay"],[1,"hero-glow-layer"],[1,"container"],[1,"hero-content"],[1,"hero-orbits"],[1,"orbit-dot","dot-1"],[1,"orbit-dot","dot-2"],[1,"orbit-dot","dot-3"],[1,"hero-badge-group"],[1,"user-badge"],[1,"material-icons"],[1,"hero-title"],[1,"hero-kicker"],[1,"hero-main-text"],[1,"gradient-text"],[1,"gradient-glow"],[1,"hero-subtitle"],[1,"hero-cta-row"],[1,"hero-cta"],["routerLink","/contact",1,"btn-hero-primary"],["type","button",1,"hero-ghost-cta"],[1,"pulse-dot"],[1,"ghost-text"],[1,"moving-headlines-section"],[1,"headlines-track-wrapper"],[1,"headlines-track"],["class","headline-item",3,"color",4,"ngFor","ngForOf"],[1,"why-choose-section","section-padding"],[1,"why-choose-grid"],[1,"why-choose-content"],[1,"section-badge"],[1,"section-title"],[1,"description"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],["routerLink","/about",1,"btn-learn-more"],[1,"why-choose-visual"],[1,"floating-image-wrapper"],["src","https://images.pexels.com/photos/12787666/pexels-photo-12787666.jpeg?auto=compress&cs=tinysrgb&w=1260","alt","Our Team","loading","lazy"],[1,"floating-badge","badge-1"],[1,"floating-badge","badge-2"],[1,"industries-section","section-padding"],[1,"section-header","text-center"],[1,"section-subtitle"],[1,"industries-wrapper"],[1,"services-section","section-padding"],[1,"services-grid"],["class","service-card-3d",4,"ngFor","ngForOf"],[1,"testimonial-section","section-padding"],[1,"slider-wrapper"],["class","recent-blogs-section section-padding",4,"ngIf"],[1,"cta-section"],[1,"cta-glass-card"],[1,"cta-icon"],[1,"cta-buttons"],["routerLink","/contact",1,"btn-cta-primary"],["href","tel:+911234567890",1,"btn-cta-secondary"],[1,"headline-item"],[1,"feature-item"],[1,"feature-icon-box"],[1,"feature-text"],[1,"service-card-3d"],[1,"card-inner"],[1,"card-front"],[1,"service-icon-wrapper"],[1,"card-footer"],[1,"hover-hint"],[1,"card-back"],[1,"back-header"],[1,"features-list"],[4,"ngFor","ngForOf"],[1,"recent-blogs-section","section-padding"],[1,"section-header-flex"],["routerLink","/blogs",1,"btn-view-all"],[1,"blogs-grid"],[3,"blog",4,"ngFor","ngForOf"],[3,"blog"]],template:function(t,i){t&1&&(g(0,"div",0),ce(1,"app-helix-background"),g(2,"section",1),ce(3,"div",2)(4,"div",3)(5,"div",4),g(6,"div",5)(7,"div",6)(8,"div",7),ce(9,"span",8)(10,"span",9)(11,"span",10),p(),g(12,"div",11)(13,"div",12)(14,"span",13),y(15,"people"),p(),g(16,"span"),y(17,"13K Permanent & Satisfied Users"),p()()(),g(18,"h1",14)(19,"span",15),y(20,"Next\u2011Gen Telehealth OS"),p(),g(21,"span",16),y(22," Your AI\u2011Powered "),g(23,"span",17),y(24,"Prescription Companion"),ce(25,"span",18),p()()(),g(26,"p",19),y(27," MedSync AI ensures you take the right dose, at the right time, in the right way\u2014personalized to your health needs "),p(),g(28,"div",20)(29,"div",21)(30,"a",22)(31,"span"),y(32,"Get Started Today"),p(),g(33,"span",13),y(34,"arrow_forward"),p()()(),g(35,"button",23),ce(36,"span",24),g(37,"span",25),y(38,"See how it works"),p()(),g(39,"div",21)(40,"a",22)(41,"span"),y(42,"Outstanding Work"),p(),g(43,"span",13),y(44,"arrow_forward"),p()()()()()()(),g(45,"section",26)(46,"div",27)(47,"div",28),ae(48,yz,5,4,"div",29)(49,xz,5,4,"div",29),p()()(),g(50,"section",30)(51,"div",5)(52,"div",31)(53,"div",32)(54,"span",33)(55,"span",13),y(56,"verified"),p(),y(57," Why Choose HYUMANIUM "),p(),g(58,"h2",34),y(59,"Excellence in Mental Wellness"),p(),g(60,"p",35),y(61," With over a decade of experience, HYUMANIUM has become a trusted partner for organizations seeking comprehensive mental health and HR solutions. Our holistic approach combines scientific expertise with compassionate care. "),p(),g(62,"div",36),ae(63,Mz,9,3,"div",37),p(),g(64,"a",38)(65,"span"),y(66,"Our Story"),p(),g(67,"span",13),y(68,"arrow_forward"),p()()(),g(69,"div",39)(70,"div",40),ce(71,"img",41),g(72,"div",42)(73,"span",13),y(74,"psychology"),p(),g(75,"div")(76,"strong"),y(77,"Certified"),p(),g(78,"p"),y(79,"Psychologists"),p()()(),g(80,"div",43)(81,"span",13),y(82,"groups"),p(),g(83,"div")(84,"strong"),y(85,"10,000+"),p(),g(86,"p"),y(87,"Lives Impacted"),p()()()()()()()(),g(88,"section",44)(89,"div",5)(90,"div",45)(91,"span",33)(92,"span",13),y(93,"domain"),p(),y(94," Industries We Transform "),p(),g(95,"h2",34),y(96,"Trusted Across Sectors"),p(),g(97,"p",46),y(98," Delivering specialized mental health and HR solutions across diverse industries "),p()(),g(99,"div",47),ce(100,"app-industries-showcase"),p()()(),g(101,"section",48)(102,"div",5)(103,"div",45)(104,"span",33)(105,"span",13),y(106,"medical_services"),p(),y(107," What We Offer "),p(),g(108,"h2",34),y(109,"Comprehensive Solutions"),p(),g(110,"p",46),y(111," Tailored mental health and HR services designed to empower your organization "),p()(),g(112,"div",49),ae(113,Cz,23,6,"div",50),p()()(),g(114,"section",51)(115,"div",5)(116,"div",45)(117,"span",33)(118,"span",13),y(119,"rate_review"),p(),y(120," Testimonials "),p(),g(121,"h2",34),y(122,"What Our Clients Say"),p(),g(123,"p",46),y(124," Real experiences from organizations and professionals who trust HYUMANIUM "),p()(),g(125,"div",52),ce(126,"app-testimonial-slider"),p()()(),ae(127,Ez,16,1,"section",53),g(128,"section",54)(129,"div",5)(130,"div",55)(131,"div",56)(132,"span",13),y(133,"psychology"),p()(),g(134,"h2"),y(135,"Ready to Transform Your Organization?"),p(),g(136,"p"),y(137,"Let's discuss how we can support your team's mental health and drive organizational excellence"),p(),g(138,"div",57)(139,"a",58)(140,"span"),y(141,"Schedule Consultation"),p(),g(142,"span",13),y(143,"calendar_today"),p()(),g(144,"a",59)(145,"span",13),y(146,"phone"),p(),g(147,"span"),y(148,"Call Us Now"),p()()()()()()()),t&2&&(S(48),V("ngForOf",i.movingHeadlines),S(),V("ngForOf",i.movingHeadlines),S(14),V("ngForOf",i.whyChooseFeatures),S(50),V("ngForOf",i.services),S(14),V("ngIf",i.recentBlogs.length>0))},dependencies:[Rt,Kn,An,Ts,am,cm,lm],styles:['app-helix-background{position:fixed!important;top:0;left:0;width:100%;height:100%;z-index:0!important;pointer-events:none}  app-helix-background canvas{position:fixed!important;top:0;left:0;width:100%;height:100%}*[_ngcontent-%COMP%]{backface-visibility:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.home-page[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;transform:translateZ(0);will-change:scroll-position;min-height:100vh;display:flex;flex-direction:column}.home-page[_ngcontent-%COMP%]   app-helix-background[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}.hero-banner[_ngcontent-%COMP%]{min-height:100vh;height:100vh;position:relative;display:flex;align-items:center;justify-content:center;padding:100px 0 20px;overflow:hidden}@media (max-width: 768px){.hero-banner[_ngcontent-%COMP%]{min-height:100vh;padding:90px 0 20px}}.hero-background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:url("./media/banner-OUI2WKYQ.png") center/cover;z-index:1;transform:scale(1.02);will-change:transform}.hero-background-image[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#87ceeb52,#add8e642 45%,#b0e0e657)}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:2;background:radial-gradient(circle at 50% 50%,rgba(59,130,246,.15) 0%,transparent 70%);pointer-events:none}.hero-glow-layer[_ngcontent-%COMP%]{position:absolute;inset:-20%;background:radial-gradient(circle at 20% 10%,rgba(59,130,246,.25) 0%,transparent 55%),radial-gradient(circle at 80% 70%,rgba(6,182,212,.2) 0%,transparent 60%);opacity:.6;mix-blend-mode:soft-light;z-index:3;pointer-events:none}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:720px;color:#fff}@media (max-width: 768px){.hero-content[_ngcontent-%COMP%]{max-width:100%;padding:0 24px}}.hero-orbits[_ngcontent-%COMP%]{position:absolute;inset:-40px;pointer-events:none;z-index:-1}.orbit-dot[_ngcontent-%COMP%]{position:absolute;width:18px;height:18px;border-radius:50%;background:radial-gradient(circle,rgba(255,255,255,.9),transparent 65%);box-shadow:0 0 18px #ffffffe6;opacity:.7}.dot-1[_ngcontent-%COMP%]{top:15%;left:5%;animation:_ngcontent-%COMP%_floatDot1 10s ease-in-out infinite}.dot-2[_ngcontent-%COMP%]{top:70%;right:10%;animation:_ngcontent-%COMP%_floatDot2 12s ease-in-out infinite}.dot-3[_ngcontent-%COMP%]{bottom:10%;left:50%;animation:_ngcontent-%COMP%_floatDot3 14s ease-in-out infinite}@keyframes _ngcontent-%COMP%_floatDot1{0%,to{transform:translateZ(0)}50%{transform:translate3d(20px,10px,0)}}@keyframes _ngcontent-%COMP%_floatDot2{0%,to{transform:translateZ(0)}50%{transform:translate3d(-25px,-10px,0)}}@keyframes _ngcontent-%COMP%_floatDot3{0%,to{transform:translateZ(0)}50%{transform:translate3d(0,-20px,0)}}.hero-badge-group[_ngcontent-%COMP%]{margin-bottom:24px}.user-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:#3b82f633;border:1.5px solid rgba(148,163,184,.6);border-radius:999px;color:#fff;font-weight:600;font-size:.9rem;box-shadow:0 0 20px #3b82f666,0 10px 30px #0000004d;backdrop-filter:blur(10px)}.user-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#4caf50;text-shadow:0 0 10px rgba(34,197,94,.7)}.hero-title[_ngcontent-%COMP%]{font-size:clamp(2.2rem,5.5vw,4rem);font-weight:600;line-height:1.15;margin-bottom:24px;color:#fff;letter-spacing:-.04em}@media (max-width: 768px){.hero-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 1024px){.hero-title[_ngcontent-%COMP%]{font-size:2.8rem}}.hero-kicker[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;font-size:.85rem;text-transform:uppercase;letter-spacing:.18em;color:#e2e8f0f2;padding:5px 12px;border-radius:999px;background:#6495ed;border:1px solid rgba(148,163,253,.5);margin-bottom:8px}.hero-main-text[_ngcontent-%COMP%]{display:block;margin-top:6px}.gradient-text[_ngcontent-%COMP%]{position:relative;display:inline-block;font-weight:800;background:linear-gradient(115deg,#fff,#bfdbfe,#60a5fa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 0 20px rgba(59,130,246,.8));white-space:nowrap}@media (max-width: 768px){.gradient-text[_ngcontent-%COMP%]{white-space:normal;display:inline}}.gradient-text[_ngcontent-%COMP%]   .gradient-glow[_ngcontent-%COMP%]{position:absolute;inset:30% -6%;background:radial-gradient(circle,rgba(59,130,246,.6),transparent 70%);opacity:.8;mix-blend-mode:screen;pointer-events:none}.hero-subtitle[_ngcontent-%COMP%]{font-size:clamp(.95rem,2vw,1.15rem);color:#f1f5f9f2;max-width:650px;margin-bottom:32px;line-height:1.6;font-weight:400;text-shadow:0 2px 8px rgba(0,0,0,.5)}@media (max-width: 768px){.hero-subtitle[_ngcontent-%COMP%]{font-size:.95rem}}.hero-cta-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px;margin-bottom:0;flex-wrap:wrap}.hero-cta[_ngcontent-%COMP%]{flex-shrink:0}.btn-hero-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:16px;padding:16px 36px;background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:50px;font-weight:700;font-size:1rem;text-decoration:none;box-shadow:0 0 25px #3b82f699,0 18px 40px #00000080;transition:all .35s cubic-bezier(.4,0,.2,1);will-change:transform,box-shadow}.btn-hero-primary[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 0 35px #3b82f6cc,0 24px 60px #0009}.btn-hero-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(.99)}@media (max-width: 768px){.btn-hero-primary[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:14px 32px}}.hero-ghost-cta[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 18px;border-radius:999px;border:1.5px solid rgba(148,163,184,.6);background:#0f172a80;color:#e2e8f0f2;font-size:.9rem;font-weight:500;cursor:pointer;box-shadow:0 12px 30px #0006;backdrop-filter:blur(10px);transition:all .3s ease}.hero-ghost-cta[_ngcontent-%COMP%]   .pulse-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#4ade80;box-shadow:0 0 10px #4ade80e6;animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}.hero-ghost-cta[_ngcontent-%COMP%]   .ghost-text[_ngcontent-%COMP%]{letter-spacing:.04em}.hero-ghost-cta[_ngcontent-%COMP%]:hover{border-color:#e2e8f0e6;background:#0f172ab3;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}.moving-headlines-section[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:1000;background:#ffffff14;backdrop-filter:blur(20px) saturate(180%);border-top:1px solid rgba(255,255,255,.3);box-shadow:0 -10px 40px #3b82f626,0 -1px #fff3 inset;padding:18px 0;overflow:hidden}.moving-headlines-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.5) 50%,transparent 100%);animation:_ngcontent-%COMP%_shimmer 3s linear infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.headlines-track-wrapper[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:100%}.headlines-track-wrapper[_ngcontent-%COMP%]:before, .headlines-track-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;width:150px;height:100%;z-index:2;pointer-events:none}.headlines-track-wrapper[_ngcontent-%COMP%]:before{left:0;background:linear-gradient(to right,rgba(255,255,255,.1),transparent)}.headlines-track-wrapper[_ngcontent-%COMP%]:after{right:0;background:linear-gradient(to left,rgba(255,255,255,.1),transparent)}.headlines-track[_ngcontent-%COMP%]{display:flex;gap:40px;animation:_ngcontent-%COMP%_scroll-headlines 40s linear infinite;will-change:transform}.headlines-track[_ngcontent-%COMP%]:hover{animation-play-state:paused}@keyframes _ngcontent-%COMP%_scroll-headlines{0%{transform:translate(0)}to{transform:translate(-50%)}}.headline-item[_ngcontent-%COMP%]{flex-shrink:0;display:inline-flex;align-items:center;gap:12px;padding:12px 28px;background:#ffffff26;border:1.5px solid rgba(255,255,255,.3);border-radius:50px;color:#fff;font-weight:600;font-size:.95rem;white-space:nowrap;box-shadow:0 8px 32px #00000026,0 1px #fff3 inset;backdrop-filter:blur(10px);transition:all .3s ease;position:relative;overflow:hidden}.headline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.headline-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #00000040,0 1px #ffffff4d inset;border-color:#ffffff80}.headline-item[_ngcontent-%COMP%]:hover:before{left:100%}.headline-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;filter:drop-shadow(0 0 8px currentColor)}.services-section[_ngcontent-%COMP%]{position:relative;z-index:10;background:#fffffff2;padding-bottom:100px}.section-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 28px;background:#4584f31a;border:2px solid rgba(69,132,243,.25);border-radius:50px;color:#4584f3;font-weight:600;font-size:.9rem;text-transform:uppercase;letter-spacing:1.2px;margin-bottom:24px;backdrop-filter:blur(5px)}.section-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.section-title[_ngcontent-%COMP%]{font-size:clamp(2rem,5vw,3.5rem);color:#00264a;margin-bottom:24px;font-weight:900;letter-spacing:-.5px}.section-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#2c3e50;max-width:700px;margin:0 auto;line-height:1.7}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:48px;margin-top:64px}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.service-card-3d[_ngcontent-%COMP%]{perspective:1500px;height:500px}@media (max-width: 768px){.service-card-3d[_ngcontent-%COMP%]{height:450px}}.service-card-3d[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .6s cubic-bezier(.4,0,.2,1);transform-style:preserve-3d;will-change:transform}.service-card-3d[_ngcontent-%COMP%]:hover   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:28px;padding:48px;display:flex;flex-direction:column;box-shadow:0 20px 60px #00000026}.card-front[_ngcontent-%COMP%]{background:#fffffff2;backdrop-filter:blur(5px);border:2px solid rgba(255,255,255,.5);justify-content:center;align-items:center;text-align:center}.card-back[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3f7,#00b8a9f7);backdrop-filter:blur(5px);transform:rotateY(180deg);color:#fff;justify-content:space-between}.service-icon-wrapper[_ngcontent-%COMP%]{width:110px;height:110px;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:28px;margin-bottom:32px;box-shadow:0 15px 45px #4584f366;transform:rotate(-8deg);transition:transform .4s cubic-bezier(.4,0,.2,1);will-change:transform}.service-card-3d[_ngcontent-%COMP%]:hover   .service-icon-wrapper[_ngcontent-%COMP%]{transform:rotate(8deg) scale(1.05)}.service-icon-wrapper[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:56px;color:#fff}.card-front[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;color:#00264a;margin-bottom:16px;font-weight:700}.card-front[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2c3e50;line-height:1.7;font-size:1.05rem;margin-bottom:24px}.card-footer[_ngcontent-%COMP%]{margin-top:auto}.hover-hint[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;font-size:.9rem;color:#4584f3;font-weight:600;opacity:.8}.hover-hint[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.back-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.back-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.back-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;margin:0}.features-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex:1}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:16px;padding:8px;transition:background .2s ease;border-radius:12px}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#ffffff1a;padding-left:16px}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px;flex-shrink:0;margin-top:2px}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.6;font-size:.95rem}.why-choose-section[_ngcontent-%COMP%]{position:relative;z-index:10;background:linear-gradient(180deg,#f7f9fcf2,#fffffff2);padding-bottom:100px}.why-choose-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:64px;align-items:center}@media (max-width: 1024px){.why-choose-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:48px}}.description[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.8;color:#2c3e50;margin:32px 0 48px}.feature-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px;margin-bottom:48px}.feature-item[_ngcontent-%COMP%]{display:flex;gap:24px;align-items:flex-start;padding:24px;background:#ffffffe6;backdrop-filter:blur(5px);border-radius:20px;border:2px solid rgba(255,255,255,.5);transition:transform .3s ease;will-change:transform}.feature-item[_ngcontent-%COMP%]:hover{transform:translate(10px);box-shadow:0 12px 40px #4584f326;border-color:#4584f34d}.feature-icon-box[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:16px;box-shadow:0 8px 24px #4584f34d;flex-shrink:0}.feature-icon-box[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px;color:#fff}.feature-text[_ngcontent-%COMP%]{flex:1}.feature-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#00264a;margin:0 0 4px;font-weight:700}.feature-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2c3e50;margin:0;line-height:1.6}.btn-learn-more[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:16px 36px;background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:50px;font-weight:600;font-size:1rem;text-decoration:none;box-shadow:0 12px 40px #4584f359;transition:transform .3s ease;will-change:transform}.btn-learn-more[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 20px 60px #4584f373}.why-choose-visual[_ngcontent-%COMP%]{position:relative}.floating-image-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:32px;overflow:hidden;box-shadow:0 30px 80px #0003}.floating-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.floating-image-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#4584f326,#00b8a91a)}.floating-badge[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;gap:16px;padding:24px 32px;background:#fffffff2;backdrop-filter:blur(5px);border-radius:20px;box-shadow:0 12px 40px #00000026;border:2px solid rgba(255,255,255,.6)}.floating-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:36px;color:#4584f3}.floating-badge[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1.3rem;color:#00264a;font-weight:800}.floating-badge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#2c3e50}.floating-badge.badge-1[_ngcontent-%COMP%]{top:30px;right:-20px}.floating-badge.badge-2[_ngcontent-%COMP%]{bottom:40px;left:-30px}.industries-section[_ngcontent-%COMP%]{position:relative;z-index:10;background:#fffffff2;padding:64px 0 120px}@media (max-width: 768px){.industries-section[_ngcontent-%COMP%]{padding:48px 0 120px}}.industries-wrapper[_ngcontent-%COMP%]{margin-top:64px}.testimonial-section[_ngcontent-%COMP%]{position:relative;z-index:10;background:linear-gradient(180deg,#fffffff2,#f7f9fcf2);padding-bottom:120px}.slider-wrapper[_ngcontent-%COMP%]{margin-top:64px}.recent-blogs-section[_ngcontent-%COMP%]{position:relative;z-index:10;background:#f7f9fcf2;padding-bottom:120px}.section-header-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:64px}@media (max-width: 768px){.section-header-flex[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:24px}}.btn-view-all[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:14px 32px;background:#fffffff2;backdrop-filter:blur(5px);border:2px solid rgba(69,132,243,.25);border-radius:50px;color:#4584f3;font-weight:600;text-decoration:none;transition:all .3s ease;box-shadow:0 8px 24px #00000014;will-change:transform}.btn-view-all[_ngcontent-%COMP%]:hover{background:#4584f326;border-color:#4584f3;transform:translate(5px);box-shadow:0 12px 32px #0000001f}.blogs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:48px}.cta-section[_ngcontent-%COMP%]{position:relative;z-index:10;padding:64px 0 120px}.cta-glass-card[_ngcontent-%COMP%]{background:#fffffff2;backdrop-filter:blur(5px);border:2px solid rgba(255,255,255,.5);border-radius:40px;padding:64px;text-align:center;box-shadow:0 30px 80px #0000001f;position:relative;overflow:hidden}@media (max-width: 768px){.cta-glass-card[_ngcontent-%COMP%]{padding:48px}}.cta-icon[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:30px;margin:0 auto 32px;box-shadow:0 15px 45px #4584f366}.cta-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:56px;color:#fff}.cta-glass-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(2rem,5vw,3rem);color:#00264a;margin-bottom:24px;font-weight:900}.cta-glass-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#2c3e50;max-width:700px;margin:0 auto 64px;line-height:1.7}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:24px;justify-content:center;flex-wrap:wrap}.btn-cta-primary[_ngcontent-%COMP%], .btn-cta-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:16px;padding:20px 48px;border-radius:50px;font-weight:600;font-size:1.1rem;text-decoration:none;transition:transform .3s cubic-bezier(.4,0,.2,1);position:relative;z-index:1;will-change:transform}@media (max-width: 768px){.btn-cta-primary[_ngcontent-%COMP%], .btn-cta-secondary[_ngcontent-%COMP%]{width:100%;justify-content:center}}.btn-cta-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;box-shadow:0 15px 50px #4584f366}.btn-cta-primary[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 25px 70px #4584f380}.btn-cta-secondary[_ngcontent-%COMP%]{background:#fffffff2;color:#4584f3;border:2px solid rgba(69,132,243,.3);box-shadow:0 12px 40px #0000001a}.btn-cta-secondary[_ngcontent-%COMP%]:hover{background:#fff;transform:translateY(-5px);box-shadow:0 20px 60px #00000026}@media (max-width: 768px){.section-title[_ngcontent-%COMP%]{font-size:2rem}.section-subtitle[_ngcontent-%COMP%]{font-size:1rem}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']})};var og="181";var WA=0,_M=1,$A=2;var bM=1,qA=2,eo=3,Uo=0,fi=1,to=2,no=0,Ba=1,yM=2,xM=3,MM=4,YA=5,Fs=100,XA=101,ZA=102,KA=103,QA=104,JA=200,eP=201,tP=202,nP=203,km=204,Nm=205,iP=206,rP=207,oP=208,sP=209,aP=210,cP=211,lP=212,dP=213,uP=214,sg=0,ag=1,cg=2,Ua=3,lg=4,dg=5,ug=6,hg=7,fg=0,hP=1,fP=2,Ho=0,pP=1,mP=2,gP=3,vP=4,_P=5,bP=6,yP=7;var cM=300,Ha=301,ja=302,pg=303,mg=304,Iu=306,Fm=1e3,Kr=1001,Lm=1002,Si=1003,xP=1004;var Tu=1005;var Vi=1006,gg=1007;var Hs=1008;var Or=1009,wM=1010,CM=1011,bl=1012,vg=1013,js=1014,io=1015,Ga=1016,_g=1017,bg=1018,yl=1020,SM=35902,EM=35899,IM=1021,TM=1022,cr=1023,cl=1026,xl=1027,DM=1028,yg=1029,xg=1030,Mg=1031;var wg=1033,Du=33776,Au=33777,Pu=33778,Ou=33779,Cg=35840,Sg=35841,Eg=35842,Ig=35843,Tg=36196,Dg=37492,Ag=37496,Pg=37808,Og=37809,Rg=37810,kg=37811,Ng=37812,Fg=37813,Lg=37814,Bg=37815,Ug=37816,Vg=37817,zg=37818,Hg=37819,jg=37820,Gg=37821,Wg=36492,$g=36494,qg=36495,Yg=36283,Xg=36284,Zg=36285,Kg=36286;var nu=2300,Bm=2301,Rm=2302,lM=2400,dM=2401,uM=2402;var MP=3200,wP=3201;var AM=0,CP=1,jo="",Ui="srgb",Va="srgb-linear",iu="linear",Zt="srgb";var La=7680;var hM=519,SP=512,EP=513,IP=514,PM=515,TP=516,DP=517,AP=518,PP=519,fM=35044;var OM="300 es",Pr=2e3,ru=2001;function RM(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function ou(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function OP(){let n=ou("canvas");return n.style.display="block",n}var xA={},ll=null;function kM(...n){let e="THREE."+n.shift();ll?ll("log",e,...n):console.log(e,...n)}function rt(...n){let e="THREE."+n.shift();ll?ll("warn",e,...n):console.warn(e,...n)}function Dt(...n){let e="THREE."+n.shift();ll?ll("error",e,...n):console.error(e,...n)}function dl(...n){let e=n.join(" ");e in xA||(xA[e]=!0,rt(...n))}function RP(n,e,t){return new Promise(function(i,r){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:i()}}setTimeout(o,t)})}var Vo=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){let i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){let i=this._listeners;if(i===void 0)return;let r=i[e];if(r!==void 0){let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){let t=this._listeners;if(t===void 0)return;let i=t[e.type];if(i!==void 0){e.target=this;let r=i.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,e);e.target=null}}},Jn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];var Fx=Math.PI/180,Um=180/Math.PI;function Ru(){let n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Jn[n&255]+Jn[n>>8&255]+Jn[n>>16&255]+Jn[n>>24&255]+"-"+Jn[e&255]+Jn[e>>8&255]+"-"+Jn[e>>16&15|64]+Jn[e>>24&255]+"-"+Jn[t&63|128]+Jn[t>>8&255]+"-"+Jn[t>>16&255]+Jn[t>>24&255]+Jn[i&255]+Jn[i>>8&255]+Jn[i>>16&255]+Jn[i>>24&255]).toLowerCase()}function Ft(n,e,t){return Math.max(e,Math.min(t,n))}function Iz(n,e){return(n%e+e)%e}function Lx(n,e,t){return(1-t)*n+t*e}function Xd(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function wi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var zt=class n{constructor(e=0,t=0){n.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let i=Math.cos(t),r=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*i-s*r+e.x,this.y=o*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},zo=class{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,o,s,a){let c=i[r+0],l=i[r+1],d=i[r+2],u=i[r+3],h=o[s+0],f=o[s+1],v=o[s+2],b=o[s+3];if(a<=0){e[t+0]=c,e[t+1]=l,e[t+2]=d,e[t+3]=u;return}if(a>=1){e[t+0]=h,e[t+1]=f,e[t+2]=v,e[t+3]=b;return}if(u!==b||c!==h||l!==f||d!==v){let _=c*h+l*f+d*v+u*b;_<0&&(h=-h,f=-f,v=-v,b=-b,_=-_);let m=1-a;if(_<.9995){let I=Math.acos(_),C=Math.sin(I);m=Math.sin(m*I)/C,a=Math.sin(a*I)/C,c=c*m+h*a,l=l*m+f*a,d=d*m+v*a,u=u*m+b*a}else{c=c*m+h*a,l=l*m+f*a,d=d*m+v*a,u=u*m+b*a;let I=1/Math.sqrt(c*c+l*l+d*d+u*u);c*=I,l*=I,d*=I,u*=I}}e[t]=c,e[t+1]=l,e[t+2]=d,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,r,o,s){let a=i[r],c=i[r+1],l=i[r+2],d=i[r+3],u=o[s],h=o[s+1],f=o[s+2],v=o[s+3];return e[t]=a*v+d*u+c*f-l*h,e[t+1]=c*v+d*h+l*u-a*f,e[t+2]=l*v+d*f+a*h-c*u,e[t+3]=d*v-a*u-c*h-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){let i=e._x,r=e._y,o=e._z,s=e._order,a=Math.cos,c=Math.sin,l=a(i/2),d=a(r/2),u=a(o/2),h=c(i/2),f=c(r/2),v=c(o/2);switch(s){case"XYZ":this._x=h*d*u+l*f*v,this._y=l*f*u-h*d*v,this._z=l*d*v+h*f*u,this._w=l*d*u-h*f*v;break;case"YXZ":this._x=h*d*u+l*f*v,this._y=l*f*u-h*d*v,this._z=l*d*v-h*f*u,this._w=l*d*u+h*f*v;break;case"ZXY":this._x=h*d*u-l*f*v,this._y=l*f*u+h*d*v,this._z=l*d*v+h*f*u,this._w=l*d*u-h*f*v;break;case"ZYX":this._x=h*d*u-l*f*v,this._y=l*f*u+h*d*v,this._z=l*d*v-h*f*u,this._w=l*d*u+h*f*v;break;case"YZX":this._x=h*d*u+l*f*v,this._y=l*f*u+h*d*v,this._z=l*d*v-h*f*u,this._w=l*d*u-h*f*v;break;case"XZY":this._x=h*d*u-l*f*v,this._y=l*f*u-h*d*v,this._z=l*d*v+h*f*u,this._w=l*d*u+h*f*v;break;default:rt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,i=t[0],r=t[4],o=t[8],s=t[1],a=t[5],c=t[9],l=t[2],d=t[6],u=t[10],h=i+a+u;if(h>0){let f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(d-c)*f,this._y=(o-l)*f,this._z=(s-r)*f}else if(i>a&&i>u){let f=2*Math.sqrt(1+i-a-u);this._w=(d-c)/f,this._x=.25*f,this._y=(r+s)/f,this._z=(o+l)/f}else if(a>u){let f=2*Math.sqrt(1+a-i-u);this._w=(o-l)/f,this._x=(r+s)/f,this._y=.25*f,this._z=(c+d)/f}else{let f=2*Math.sqrt(1+u-i-a);this._w=(s-r)/f,this._x=(o+l)/f,this._y=(c+d)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ft(this.dot(e),-1,1)))}rotateTowards(e,t){let i=this.angleTo(e);if(i===0)return this;let r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let i=e._x,r=e._y,o=e._z,s=e._w,a=t._x,c=t._y,l=t._z,d=t._w;return this._x=i*d+s*a+r*l-o*c,this._y=r*d+s*c+o*a-i*l,this._z=o*d+s*l+i*c-r*a,this._w=s*d-i*a-r*c-o*l,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,r=e._y,o=e._z,s=e._w,a=this.dot(e);a<0&&(i=-i,r=-r,o=-o,s=-s,a=-a);let c=1-t;if(a<.9995){let l=Math.acos(a),d=Math.sin(l);c=Math.sin(c*l)/d,t=Math.sin(t*l)/d,this._x=this._x*c+i*t,this._y=this._y*c+r*t,this._z=this._z*c+o*t,this._w=this._w*c+s*t,this._onChangeCallback()}else this._x=this._x*c+i*t,this._y=this._y*c+r*t,this._z=this._z*c+o*t,this._w=this._w*c+s*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){let e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},H=class n{constructor(e=0,t=0,i=0){n.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(MA.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(MA.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*i+o[6]*r,this.y=o[1]*t+o[4]*i+o[7]*r,this.z=o[2]*t+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,i=this.y,r=this.z,o=e.elements,s=1/(o[3]*t+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*i+o[8]*r+o[12])*s,this.y=(o[1]*t+o[5]*i+o[9]*r+o[13])*s,this.z=(o[2]*t+o[6]*i+o[10]*r+o[14])*s,this}applyQuaternion(e){let t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z,c=e.w,l=2*(s*r-a*i),d=2*(a*t-o*r),u=2*(o*i-s*t);return this.x=t+c*l+s*u-a*d,this.y=i+c*d+a*l-o*u,this.z=r+c*u+o*d-s*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r,this.y=o[1]*t+o[5]*i+o[9]*r,this.z=o[2]*t+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let i=e.x,r=e.y,o=e.z,s=t.x,a=t.y,c=t.z;return this.x=r*c-o*a,this.y=o*s-i*c,this.z=i*a-r*s,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Bx.copy(this).projectOnVector(e),this.sub(Bx)}reflect(e){return this.sub(Bx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){let r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},Bx=new H,MA=new zo,ut=class n{constructor(e,t,i,r,o,s,a,c,l){n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,o,s,a,c,l)}set(e,t,i,r,o,s,a,c,l){let d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=o,d[5]=c,d[6]=i,d[7]=s,d[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let i=e.elements,r=t.elements,o=this.elements,s=i[0],a=i[3],c=i[6],l=i[1],d=i[4],u=i[7],h=i[2],f=i[5],v=i[8],b=r[0],_=r[3],m=r[6],I=r[1],C=r[4],A=r[7],P=r[2],T=r[5],O=r[8];return o[0]=s*b+a*I+c*P,o[3]=s*_+a*C+c*T,o[6]=s*m+a*A+c*O,o[1]=l*b+d*I+u*P,o[4]=l*_+d*C+u*T,o[7]=l*m+d*A+u*O,o[2]=h*b+f*I+v*P,o[5]=h*_+f*C+v*T,o[8]=h*m+f*A+v*O,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8];return t*s*d-t*a*l-i*o*d+i*a*c+r*o*l-r*s*c}invert(){let e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],u=d*s-a*l,h=a*c-d*o,f=l*o-s*c,v=t*u+i*h+r*f;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);let b=1/v;return e[0]=u*b,e[1]=(r*l-d*i)*b,e[2]=(a*i-r*s)*b,e[3]=h*b,e[4]=(d*t-r*c)*b,e[5]=(r*o-a*t)*b,e[6]=f*b,e[7]=(i*c-l*t)*b,e[8]=(s*t-i*o)*b,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,o,s,a){let c=Math.cos(o),l=Math.sin(o);return this.set(i*c,i*l,-i*(c*s+l*a)+s+e,-r*l,r*c,-r*(-l*s+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ux.makeScale(e,t)),this}rotate(e){return this.premultiply(Ux.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ux.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){let i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}},Ux=new ut,wA=new ut().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),CA=new ut().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Tz(){let n={enabled:!0,workingColorSpace:Va,spaces:{},convert:function(r,o,s){return this.enabled===!1||o===s||!o||!s||(this.spaces[o].transfer===Zt&&(r.r=Bo(r.r),r.g=Bo(r.g),r.b=Bo(r.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Zt&&(r.r=al(r.r),r.g=al(r.g),r.b=al(r.b))),r},workingToColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},colorSpaceToWorking:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===jo?iu:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,s){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,o){return dl("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,o)},toWorkingColorSpace:function(r,o){return dl("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,o)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Va]:{primaries:e,whitePoint:i,transfer:iu,toXYZ:wA,fromXYZ:CA,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ui},outputColorSpaceConfig:{drawingBufferColorSpace:Ui}},[Ui]:{primaries:e,whitePoint:i,transfer:Zt,toXYZ:wA,fromXYZ:CA,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ui}}}),n}var Vt=Tz();function Bo(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function al(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}var Xc,Vm=class{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Xc===void 0&&(Xc=ou("canvas")),Xc.width=e.width,Xc.height=e.height;let r=Xc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Xc}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=ou("canvas");t.width=e.width,t.height=e.height;let i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);let r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=Bo(o[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){let t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Bo(t[i]/255)*255):t[i]=Bo(t[i]);return{data:t,width:e.width,height:e.height}}else return rt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},Dz=0,ul=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Dz++}),this.uuid=Ru(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){let t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)r[s].isDataTexture?o.push(Vx(r[s].image)):o.push(Vx(r[s]))}else o=Vx(r);i.url=o}return t||(e.images[this.uuid]=i),i}};function Vx(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Vm.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(rt("Texture: Unable to serialize Texture."),{})}var Az=0,zx=new H,Go=(()=>{class n extends Vo{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=Kr,o=Kr,s=Vi,a=Hs,c=cr,l=Or,d=n.DEFAULT_ANISOTROPY,u=jo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Az++}),this.uuid=Ru(),this.name="",this.source=new ul(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=l,this.offset=new zt(0,0),this.repeat=new zt(1,1),this.center=new zt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ut,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(zx).x}get height(){return this.source.getSize(zx).y}get depth(){return this.source.getSize(zx).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,i){this.updateRanges.push({start:t,count:i})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(let i in t){let r=t[i];if(r===void 0){rt(`Texture.setValues(): parameter '${i}' has value of undefined.`);continue}let o=this[i];if(o===void 0){rt(`Texture.setValues(): property '${i}' does not exist.`);continue}o&&r&&o.isVector2&&r.isVector2||o&&r&&o.isVector3&&r.isVector3||o&&r&&o.isMatrix3&&r.isMatrix3?o.copy(r):this[i]=r}}toJSON(t){let i=t===void 0||typeof t=="string";if(!i&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];let r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==cM)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Fm:t.x=t.x-Math.floor(t.x);break;case Kr:t.x=t.x<0?0:1;break;case Lm:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Fm:t.y=t.y-Math.floor(t.y);break;case Kr:t.y=t.y<0?0:1;break;case Lm:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=cM,n.DEFAULT_ANISOTROPY=1,n})(),Xt=class n{constructor(e=0,t=0,i=0,r=1){n.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,i=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*o,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*o,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*o,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,o,c=e.elements,l=c[0],d=c[4],u=c[8],h=c[1],f=c[5],v=c[9],b=c[2],_=c[6],m=c[10];if(Math.abs(d-h)<.01&&Math.abs(u-b)<.01&&Math.abs(v-_)<.01){if(Math.abs(d+h)<.1&&Math.abs(u+b)<.1&&Math.abs(v+_)<.1&&Math.abs(l+f+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let C=(l+1)/2,A=(f+1)/2,P=(m+1)/2,T=(d+h)/4,O=(u+b)/4,j=(v+_)/4;return C>A&&C>P?C<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(C),r=T/i,o=O/i):A>P?A<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(A),i=T/r,o=j/r):P<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(P),i=O/o,r=j/o),this.set(i,r,o,t),this}let I=Math.sqrt((_-v)*(_-v)+(u-b)*(u-b)+(h-d)*(h-d));return Math.abs(I)<.001&&(I=1),this.x=(_-v)/I,this.y=(u-b)/I,this.z=(h-d)/I,this.w=Math.acos((l+f+m-1)/2),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this.w=Ft(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this.w=Ft(this.w,e,t),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},zm=class extends Vo{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Vi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Xt(0,0,e,t),this.scissorTest=!1,this.viewport=new Xt(0,0,e,t);let r={width:e,height:t,depth:i.depth},o=new Go(r);this.textures=[];let s=i.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){let t={minFilter:Vi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;let r=Object.assign({},e.textures[t].image);this.textures[t].source=new ul(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Qr=class extends zm{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}},su=class extends Go{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Si,this.minFilter=Si,this.wrapR=Kr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}};var Hm=class extends Go{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Si,this.minFilter=Si,this.wrapR=Kr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var Ls=class{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Tr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Tr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let i=Tr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let i=e.geometry;if(i!==void 0){let o=i.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Tr):Tr.fromBufferAttribute(o,s),Tr.applyMatrix4(e.matrixWorld),this.expandByPoint(Tr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),um.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),um.copy(i.boundingBox)),um.applyMatrix4(e.matrixWorld),this.union(um)}let r=e.children;for(let o=0,s=r.length;o<s;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Tr),Tr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Zd),hm.subVectors(this.max,Zd),Zc.subVectors(e.a,Zd),Kc.subVectors(e.b,Zd),Qc.subVectors(e.c,Zd),Ds.subVectors(Kc,Zc),As.subVectors(Qc,Kc),Ra.subVectors(Zc,Qc);let t=[0,-Ds.z,Ds.y,0,-As.z,As.y,0,-Ra.z,Ra.y,Ds.z,0,-Ds.x,As.z,0,-As.x,Ra.z,0,-Ra.x,-Ds.y,Ds.x,0,-As.y,As.x,0,-Ra.y,Ra.x,0];return!Hx(t,Zc,Kc,Qc,hm)||(t=[1,0,0,0,1,0,0,0,1],!Hx(t,Zc,Kc,Qc,hm))?!1:(fm.crossVectors(Ds,As),t=[fm.x,fm.y,fm.z],Hx(t,Zc,Kc,Qc,hm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Tr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Oo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Oo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Oo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Oo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Oo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Oo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Oo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Oo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Oo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}},Oo=[new H,new H,new H,new H,new H,new H,new H,new H],Tr=new H,um=new Ls,Zc=new H,Kc=new H,Qc=new H,Ds=new H,As=new H,Ra=new H,Zd=new H,hm=new H,fm=new H,ka=new H;function Hx(n,e,t,i,r){for(let o=0,s=n.length-3;o<=s;o+=3){ka.fromArray(n,o);let a=r.x*Math.abs(ka.x)+r.y*Math.abs(ka.y)+r.z*Math.abs(ka.z),c=e.dot(ka),l=t.dot(ka),d=i.dot(ka);if(Math.max(-Math.max(c,l,d),Math.min(c,l,d))>a)return!1}return!0}var Pz=new Ls,Kd=new H,jx=new H,Bs=class{constructor(e=new H,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let i=this.center;t!==void 0?i.copy(t):Pz.setFromPoints(e).getCenter(i);let r=0;for(let o=0,s=e.length;o<s;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Kd.subVectors(e,this.center);let t=Kd.lengthSq();if(t>this.radius*this.radius){let i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Kd,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(jx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Kd.copy(e.center).add(jx)),this.expandByPoint(Kd.copy(e.center).sub(jx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}},Ro=new H,Gx=new H,pm=new H,Ps=new H,Wx=new H,mm=new H,$x=new H,hl=class{constructor(e=new H,t=new H(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ro)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Ro.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ro.copy(this.origin).addScaledVector(this.direction,t),Ro.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Gx.copy(e).add(t).multiplyScalar(.5),pm.copy(t).sub(e).normalize(),Ps.copy(this.origin).sub(Gx);let o=e.distanceTo(t)*.5,s=-this.direction.dot(pm),a=Ps.dot(this.direction),c=-Ps.dot(pm),l=Ps.lengthSq(),d=Math.abs(1-s*s),u,h,f,v;if(d>0)if(u=s*c-a,h=s*a-c,v=o*d,u>=0)if(h>=-v)if(h<=v){let b=1/d;u*=b,h*=b,f=u*(u+s*h+2*a)+h*(s*u+h+2*c)+l}else h=o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*c)+l;else h=-o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*c)+l;else h<=-v?(u=Math.max(0,-(-s*o+a)),h=u>0?-o:Math.min(Math.max(-o,-c),o),f=-u*u+h*(h+2*c)+l):h<=v?(u=0,h=Math.min(Math.max(-o,-c),o),f=h*(h+2*c)+l):(u=Math.max(0,-(s*o+a)),h=u>0?o:Math.min(Math.max(-o,-c),o),f=-u*u+h*(h+2*c)+l);else h=s>0?-o:o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Gx).addScaledVector(pm,h),f}intersectSphere(e,t){Ro.subVectors(e.center,this.origin);let i=Ro.dot(this.direction),r=Ro.dot(Ro)-i*i,o=e.radius*e.radius;if(r>o)return null;let s=Math.sqrt(o-r),a=i-s,c=i+s;return c<0?null:a<0?this.at(c,t):this.at(a,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){let i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,o,s,a,c,l=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(i=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(i=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),d>=0?(o=(e.min.y-h.y)*d,s=(e.max.y-h.y)*d):(o=(e.max.y-h.y)*d,s=(e.min.y-h.y)*d),i>s||o>r||((o>i||isNaN(i))&&(i=o),(s<r||isNaN(r))&&(r=s),u>=0?(a=(e.min.z-h.z)*u,c=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,c=(e.min.z-h.z)*u),i>c||a>r)||((a>i||i!==i)&&(i=a),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ro)!==null}intersectTriangle(e,t,i,r,o){Wx.subVectors(t,e),mm.subVectors(i,e),$x.crossVectors(Wx,mm);let s=this.direction.dot($x),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Ps.subVectors(this.origin,e);let c=a*this.direction.dot(mm.crossVectors(Ps,mm));if(c<0)return null;let l=a*this.direction.dot(Wx.cross(Ps));if(l<0||c+l>s)return null;let d=-a*Ps.dot($x);return d<0?null:this.at(d/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},un=class n{constructor(e,t,i,r,o,s,a,c,l,d,u,h,f,v,b,_){n.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,o,s,a,c,l,d,u,h,f,v,b,_)}set(e,t,i,r,o,s,a,c,l,d,u,h,f,v,b,_){let m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=r,m[1]=o,m[5]=s,m[9]=a,m[13]=c,m[2]=l,m[6]=d,m[10]=u,m[14]=h,m[3]=f,m[7]=v,m[11]=b,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new n().fromArray(this.elements)}copy(e){let t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){let t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,i=e.elements,r=1/Jc.setFromMatrixColumn(e,0).length(),o=1/Jc.setFromMatrixColumn(e,1).length(),s=1/Jc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,i=e.x,r=e.y,o=e.z,s=Math.cos(i),a=Math.sin(i),c=Math.cos(r),l=Math.sin(r),d=Math.cos(o),u=Math.sin(o);if(e.order==="XYZ"){let h=s*d,f=s*u,v=a*d,b=a*u;t[0]=c*d,t[4]=-c*u,t[8]=l,t[1]=f+v*l,t[5]=h-b*l,t[9]=-a*c,t[2]=b-h*l,t[6]=v+f*l,t[10]=s*c}else if(e.order==="YXZ"){let h=c*d,f=c*u,v=l*d,b=l*u;t[0]=h+b*a,t[4]=v*a-f,t[8]=s*l,t[1]=s*u,t[5]=s*d,t[9]=-a,t[2]=f*a-v,t[6]=b+h*a,t[10]=s*c}else if(e.order==="ZXY"){let h=c*d,f=c*u,v=l*d,b=l*u;t[0]=h-b*a,t[4]=-s*u,t[8]=v+f*a,t[1]=f+v*a,t[5]=s*d,t[9]=b-h*a,t[2]=-s*l,t[6]=a,t[10]=s*c}else if(e.order==="ZYX"){let h=s*d,f=s*u,v=a*d,b=a*u;t[0]=c*d,t[4]=v*l-f,t[8]=h*l+b,t[1]=c*u,t[5]=b*l+h,t[9]=f*l-v,t[2]=-l,t[6]=a*c,t[10]=s*c}else if(e.order==="YZX"){let h=s*c,f=s*l,v=a*c,b=a*l;t[0]=c*d,t[4]=b-h*u,t[8]=v*u+f,t[1]=u,t[5]=s*d,t[9]=-a*d,t[2]=-l*d,t[6]=f*u+v,t[10]=h-b*u}else if(e.order==="XZY"){let h=s*c,f=s*l,v=a*c,b=a*l;t[0]=c*d,t[4]=-u,t[8]=l*d,t[1]=h*u+b,t[5]=s*d,t[9]=f*u-v,t[2]=v*u-f,t[6]=a*d,t[10]=b*u+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Oz,e,Rz)}lookAt(e,t,i){let r=this.elements;return Li.subVectors(e,t),Li.lengthSq()===0&&(Li.z=1),Li.normalize(),Os.crossVectors(i,Li),Os.lengthSq()===0&&(Math.abs(i.z)===1?Li.x+=1e-4:Li.z+=1e-4,Li.normalize(),Os.crossVectors(i,Li)),Os.normalize(),gm.crossVectors(Li,Os),r[0]=Os.x,r[4]=gm.x,r[8]=Li.x,r[1]=Os.y,r[5]=gm.y,r[9]=Li.y,r[2]=Os.z,r[6]=gm.z,r[10]=Li.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let i=e.elements,r=t.elements,o=this.elements,s=i[0],a=i[4],c=i[8],l=i[12],d=i[1],u=i[5],h=i[9],f=i[13],v=i[2],b=i[6],_=i[10],m=i[14],I=i[3],C=i[7],A=i[11],P=i[15],T=r[0],O=r[4],j=r[8],E=r[12],w=r[1],N=r[5],W=r[9],Z=r[13],re=r[2],Q=r[6],U=r[10],G=r[14],L=r[3],J=r[7],pe=r[11],Ae=r[15];return o[0]=s*T+a*w+c*re+l*L,o[4]=s*O+a*N+c*Q+l*J,o[8]=s*j+a*W+c*U+l*pe,o[12]=s*E+a*Z+c*G+l*Ae,o[1]=d*T+u*w+h*re+f*L,o[5]=d*O+u*N+h*Q+f*J,o[9]=d*j+u*W+h*U+f*pe,o[13]=d*E+u*Z+h*G+f*Ae,o[2]=v*T+b*w+_*re+m*L,o[6]=v*O+b*N+_*Q+m*J,o[10]=v*j+b*W+_*U+m*pe,o[14]=v*E+b*Z+_*G+m*Ae,o[3]=I*T+C*w+A*re+P*L,o[7]=I*O+C*N+A*Q+P*J,o[11]=I*j+C*W+A*U+P*pe,o[15]=I*E+C*Z+A*G+P*Ae,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],i=e[4],r=e[8],o=e[12],s=e[1],a=e[5],c=e[9],l=e[13],d=e[2],u=e[6],h=e[10],f=e[14],v=e[3],b=e[7],_=e[11],m=e[15];return v*(+o*c*u-r*l*u-o*a*h+i*l*h+r*a*f-i*c*f)+b*(+t*c*f-t*l*h+o*s*h-r*s*f+r*l*d-o*c*d)+_*(+t*l*u-t*a*f-o*s*u+i*s*f+o*a*d-i*l*d)+m*(-r*a*d-t*c*u+t*a*h+r*s*u-i*s*h+i*c*d)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){let e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],u=e[9],h=e[10],f=e[11],v=e[12],b=e[13],_=e[14],m=e[15],I=u*_*l-b*h*l+b*c*f-a*_*f-u*c*m+a*h*m,C=v*h*l-d*_*l-v*c*f+s*_*f+d*c*m-s*h*m,A=d*b*l-v*u*l+v*a*f-s*b*f-d*a*m+s*u*m,P=v*u*c-d*b*c-v*a*h+s*b*h+d*a*_-s*u*_,T=t*I+i*C+r*A+o*P;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let O=1/T;return e[0]=I*O,e[1]=(b*h*o-u*_*o-b*r*f+i*_*f+u*r*m-i*h*m)*O,e[2]=(a*_*o-b*c*o+b*r*l-i*_*l-a*r*m+i*c*m)*O,e[3]=(u*c*o-a*h*o-u*r*l+i*h*l+a*r*f-i*c*f)*O,e[4]=C*O,e[5]=(d*_*o-v*h*o+v*r*f-t*_*f-d*r*m+t*h*m)*O,e[6]=(v*c*o-s*_*o-v*r*l+t*_*l+s*r*m-t*c*m)*O,e[7]=(s*h*o-d*c*o+d*r*l-t*h*l-s*r*f+t*c*f)*O,e[8]=A*O,e[9]=(v*u*o-d*b*o-v*i*f+t*b*f+d*i*m-t*u*m)*O,e[10]=(s*b*o-v*a*o+v*i*l-t*b*l-s*i*m+t*a*m)*O,e[11]=(d*a*o-s*u*o-d*i*l+t*u*l+s*i*f-t*a*f)*O,e[12]=P*O,e[13]=(d*b*r-v*u*r+v*i*h-t*b*h-d*i*_+t*u*_)*O,e[14]=(v*a*r-s*b*r-v*i*c+t*b*c+s*i*_-t*a*_)*O,e[15]=(s*u*r-d*a*r+d*i*c-t*u*c-s*i*h+t*a*h)*O,this}scale(e){let t=this.elements,i=e.x,r=e.y,o=e.z;return t[0]*=i,t[4]*=r,t[8]*=o,t[1]*=i,t[5]*=r,t[9]*=o,t[2]*=i,t[6]*=r,t[10]*=o,t[3]*=i,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let i=Math.cos(t),r=Math.sin(t),o=1-i,s=e.x,a=e.y,c=e.z,l=o*s,d=o*a;return this.set(l*s+i,l*a-r*c,l*c+r*a,0,l*a+r*c,d*a+i,d*c-r*s,0,l*c-r*a,d*c+r*s,o*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,o,s){return this.set(1,i,o,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){let r=this.elements,o=t._x,s=t._y,a=t._z,c=t._w,l=o+o,d=s+s,u=a+a,h=o*l,f=o*d,v=o*u,b=s*d,_=s*u,m=a*u,I=c*l,C=c*d,A=c*u,P=i.x,T=i.y,O=i.z;return r[0]=(1-(b+m))*P,r[1]=(f+A)*P,r[2]=(v-C)*P,r[3]=0,r[4]=(f-A)*T,r[5]=(1-(h+m))*T,r[6]=(_+I)*T,r[7]=0,r[8]=(v+C)*O,r[9]=(_-I)*O,r[10]=(1-(h+b))*O,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){let r=this.elements,o=Jc.set(r[0],r[1],r[2]).length(),s=Jc.set(r[4],r[5],r[6]).length(),a=Jc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Dr.copy(this);let l=1/o,d=1/s,u=1/a;return Dr.elements[0]*=l,Dr.elements[1]*=l,Dr.elements[2]*=l,Dr.elements[4]*=d,Dr.elements[5]*=d,Dr.elements[6]*=d,Dr.elements[8]*=u,Dr.elements[9]*=u,Dr.elements[10]*=u,t.setFromRotationMatrix(Dr),i.x=o,i.y=s,i.z=a,this}makePerspective(e,t,i,r,o,s,a=Pr,c=!1){let l=this.elements,d=2*o/(t-e),u=2*o/(i-r),h=(t+e)/(t-e),f=(i+r)/(i-r),v,b;if(c)v=o/(s-o),b=s*o/(s-o);else if(a===Pr)v=-(s+o)/(s-o),b=-2*s*o/(s-o);else if(a===ru)v=-s/(s-o),b=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=d,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=b,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,o,s,a=Pr,c=!1){let l=this.elements,d=2/(t-e),u=2/(i-r),h=-(t+e)/(t-e),f=-(i+r)/(i-r),v,b;if(c)v=1/(s-o),b=s/(s-o);else if(a===Pr)v=-2/(s-o),b=-(s+o)/(s-o);else if(a===ru)v=-1/(s-o),b=-o/(s-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=d,l[4]=0,l[8]=0,l[12]=h,l[1]=0,l[5]=u,l[9]=0,l[13]=f,l[2]=0,l[6]=0,l[10]=v,l[14]=b,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){let t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){let i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}},Jc=new H,Dr=new un,Oz=new H(0,0,0),Rz=new H(1,1,1),Os=new H,gm=new H,Li=new H,SA=new un,EA=new zo,Us=(()=>{class n{constructor(t=0,i=0,r=0,o=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=o}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,o=this._order){return this._x=t,this._y=i,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){let o=t.elements,s=o[0],a=o[4],c=o[8],l=o[1],d=o[5],u=o[9],h=o[2],f=o[6],v=o[10];switch(i){case"XYZ":this._y=Math.asin(Ft(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ft(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(c,v),this._z=Math.atan2(l,d)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ft(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ft(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Ft(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(c,v));break;case"XZY":this._z=Math.asin(-Ft(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,d),this._y=Math.atan2(c,s)):(this._x=Math.atan2(-u,v),this._y=0);break;default:rt("Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return SA.makeRotationFromQuaternion(t),this.setFromRotationMatrix(SA,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return EA.setFromEuler(this),this.setFromQuaternion(EA,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})(),au=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},kz=0,IA=new H,el=new zo,ko=new un,vm=new H,Qd=new H,Nz=new H,Fz=new zo,TA=new H(1,0,0),DA=new H(0,1,0),AA=new H(0,0,1),PA={type:"added"},Lz={type:"removed"},tl={type:"childadded",child:null},qx={type:"childremoved",child:null},sr=(()=>{class n extends Vo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kz++}),this.uuid=Ru(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();let t=new H,i=new Us,r=new zo,o=new H(1,1,1);function s(){r.setFromEuler(i,!1)}function a(){i.setFromQuaternion(r,void 0,!1)}i._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new un},normalMatrix:{value:new ut}}),this.matrix=new un,this.matrixWorld=new un,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new au,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return el.setFromAxisAngle(t,i),this.quaternion.multiply(el),this}rotateOnWorldAxis(t,i){return el.setFromAxisAngle(t,i),this.quaternion.premultiply(el),this}rotateX(t){return this.rotateOnAxis(TA,t)}rotateY(t){return this.rotateOnAxis(DA,t)}rotateZ(t){return this.rotateOnAxis(AA,t)}translateOnAxis(t,i){return IA.copy(t).applyQuaternion(this.quaternion),this.position.add(IA.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(TA,t)}translateY(t){return this.translateOnAxis(DA,t)}translateZ(t){return this.translateOnAxis(AA,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ko.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?vm.copy(t):vm.set(t,i,r);let o=this.parent;this.updateWorldMatrix(!0,!1),Qd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ko.lookAt(Qd,vm,this.up):ko.lookAt(vm,Qd,this.up),this.quaternion.setFromRotationMatrix(ko),o&&(ko.extractRotation(o.matrixWorld),el.setFromRotationMatrix(ko),this.quaternion.premultiply(el.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(Dt("Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(PA),tl.child=t,this.dispatchEvent(tl),tl.child=null):Dt("Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let i=this.children.indexOf(t);return i!==-1&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(Lz),qx.child=t,this.dispatchEvent(qx),qx.child=null),this}removeFromParent(){let t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),ko.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),ko.multiply(t.parent.matrixWorld)),t.applyMatrix4(ko),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(PA),tl.child=t,this.dispatchEvent(tl),tl.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,o=this.children.length;r<o;r++){let a=this.children[r].getObjectByProperty(t,i);if(a!==void 0)return a}}getObjectsByProperty(t,i,r=[]){this[t]===i&&r.push(this);let o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].getObjectsByProperty(t,i,r);return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qd,t,Nz),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qd,Fz,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);let i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);let i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);let i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverseVisible(t)}traverseAncestors(t){let i=this.parent;i!==null&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);let i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateMatrixWorld(t)}updateWorldMatrix(t,i){let r=this.parent;if(t===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),i===!0){let o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(t){let i=t===void 0||typeof t=="string",r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});let o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.geometryInfo=this._geometryInfo.map(c=>ht(se({},c),{boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),o.instanceInfo=this._instanceInfo.map(c=>se({},c)),o.availableInstanceIds=this._availableInstanceIds.slice(),o.availableGeometryIds=this._availableGeometryIds.slice(),o.nextIndexStart=this._nextIndexStart,o.nextVertexStart=this._nextVertexStart,o.geometryCount=this._geometryCount,o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.matricesTexture=this._matricesTexture.toJSON(t),o.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(o.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(o.boundingBox=this.boundingBox.toJSON()));function s(c,l){return c[l.uuid]===void 0&&(c[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(t.geometries,this.geometry);let c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){let l=c.shapes;if(Array.isArray(l))for(let d=0,u=l.length;d<u;d++){let h=l[d];s(t.shapes,h)}else s(t.shapes,l)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let c=[];for(let l=0,d=this.material.length;l<d;l++)c.push(s(t.materials,this.material[l]));o.material=c}else o.material=s(t.materials,this.material);if(this.children.length>0){o.children=[];for(let c=0;c<this.children.length;c++)o.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){o.animations=[];for(let c=0;c<this.animations.length;c++){let l=this.animations[c];o.animations.push(s(t.animations,l))}}if(i){let c=a(t.geometries),l=a(t.materials),d=a(t.textures),u=a(t.images),h=a(t.shapes),f=a(t.skeletons),v=a(t.animations),b=a(t.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),d.length>0&&(r.textures=d),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),v.length>0&&(r.animations=v),b.length>0&&(r.nodes=b)}return r.object=o,r;function a(c){let l=[];for(let d in c){let u=c[d];delete u.metadata,l.push(u)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),i===!0)for(let r=0;r<t.children.length;r++){let o=t.children[r];this.add(o.clone())}return this}}return n.DEFAULT_UP=new H(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})(),Ar=new H,No=new H,Yx=new H,Fo=new H,nl=new H,il=new H,OA=new H,Xx=new H,Zx=new H,Kx=new H,Qx=new Xt,Jx=new Xt,eM=new Xt,Ns=class n{constructor(e=new H,t=new H,i=new H){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ar.subVectors(e,t),r.cross(Ar);let o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,i,r,o){Ar.subVectors(r,t),No.subVectors(i,t),Yx.subVectors(e,t);let s=Ar.dot(Ar),a=Ar.dot(No),c=Ar.dot(Yx),l=No.dot(No),d=No.dot(Yx),u=s*l-a*a;if(u===0)return o.set(0,0,0),null;let h=1/u,f=(l*c-a*d)*h,v=(s*d-a*c)*h;return o.set(1-f-v,v,f)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Fo)===null?!1:Fo.x>=0&&Fo.y>=0&&Fo.x+Fo.y<=1}static getInterpolation(e,t,i,r,o,s,a,c){return this.getBarycoord(e,t,i,r,Fo)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(o,Fo.x),c.addScaledVector(s,Fo.y),c.addScaledVector(a,Fo.z),c)}static getInterpolatedAttribute(e,t,i,r,o,s){return Qx.setScalar(0),Jx.setScalar(0),eM.setScalar(0),Qx.fromBufferAttribute(e,t),Jx.fromBufferAttribute(e,i),eM.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(Qx,o.x),s.addScaledVector(Jx,o.y),s.addScaledVector(eM,o.z),s}static isFrontFacing(e,t,i,r){return Ar.subVectors(i,t),No.subVectors(e,t),Ar.cross(No).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ar.subVectors(this.c,this.b),No.subVectors(this.a,this.b),Ar.cross(No).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return n.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return n.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,o){return n.getInterpolation(e,this.a,this.b,this.c,t,i,r,o)}containsPoint(e){return n.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return n.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let i=this.a,r=this.b,o=this.c,s,a;nl.subVectors(r,i),il.subVectors(o,i),Xx.subVectors(e,i);let c=nl.dot(Xx),l=il.dot(Xx);if(c<=0&&l<=0)return t.copy(i);Zx.subVectors(e,r);let d=nl.dot(Zx),u=il.dot(Zx);if(d>=0&&u<=d)return t.copy(r);let h=c*u-d*l;if(h<=0&&c>=0&&d<=0)return s=c/(c-d),t.copy(i).addScaledVector(nl,s);Kx.subVectors(e,o);let f=nl.dot(Kx),v=il.dot(Kx);if(v>=0&&f<=v)return t.copy(o);let b=f*l-c*v;if(b<=0&&l>=0&&v<=0)return a=l/(l-v),t.copy(i).addScaledVector(il,a);let _=d*v-f*u;if(_<=0&&u-d>=0&&f-v>=0)return OA.subVectors(o,r),a=(u-d)/(u-d+(f-v)),t.copy(r).addScaledVector(OA,a);let m=1/(_+b+h);return s=b*m,a=h*m,t.copy(i).addScaledVector(nl,s).addScaledVector(il,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},kP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rs={h:0,s:0,l:0},_m={h:0,s:0,l:0};function tM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}var Et=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){let r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ui){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vt.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=Vt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Vt.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=Vt.workingColorSpace){if(e=Iz(e,1),t=Ft(t,0,1),i=Ft(i,0,1),t===0)this.r=this.g=this.b=i;else{let o=i<=.5?i*(1+t):i+t-i*t,s=2*i-o;this.r=tM(s,o,e+1/3),this.g=tM(s,o,e),this.b=tM(s,o,e-1/3)}return Vt.colorSpaceToWorking(this,r),this}setStyle(e,t=Ui){function i(o){o!==void 0&&parseFloat(o)<1&&rt("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o,s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:rt("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let o=r[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(o,16),t);rt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ui){let i=kP[e.toLowerCase()];return i!==void 0?this.setHex(i,t):rt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bo(e.r),this.g=Bo(e.g),this.b=Bo(e.b),this}copyLinearToSRGB(e){return this.r=al(e.r),this.g=al(e.g),this.b=al(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ui){return Vt.workingToColorSpace(ei.copy(this),e),Math.round(Ft(ei.r*255,0,255))*65536+Math.round(Ft(ei.g*255,0,255))*256+Math.round(Ft(ei.b*255,0,255))}getHexString(e=Ui){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Vt.workingColorSpace){Vt.workingToColorSpace(ei.copy(this),t);let i=ei.r,r=ei.g,o=ei.b,s=Math.max(i,r,o),a=Math.min(i,r,o),c,l,d=(a+s)/2;if(a===s)c=0,l=0;else{let u=s-a;switch(l=d<=.5?u/(s+a):u/(2-s-a),s){case i:c=(r-o)/u+(r<o?6:0);break;case r:c=(o-i)/u+2;break;case o:c=(i-r)/u+4;break}c/=6}return e.h=c,e.s=l,e.l=d,e}getRGB(e,t=Vt.workingColorSpace){return Vt.workingToColorSpace(ei.copy(this),t),e.r=ei.r,e.g=ei.g,e.b=ei.b,e}getStyle(e=Ui){Vt.workingToColorSpace(ei.copy(this),e);let t=ei.r,i=ei.g,r=ei.b;return e!==Ui?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Rs),this.setHSL(Rs.h+e,Rs.s+t,Rs.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Rs),e.getHSL(_m);let i=Lx(Rs.h,_m.h,t),r=Lx(Rs.s,_m.s,t),o=Lx(Rs.l,_m.l,t);return this.setHSL(i,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,i=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*i+o[6]*r,this.g=o[1]*t+o[4]*i+o[7]*r,this.b=o[2]*t+o[5]*i+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},ei=new Et;Et.NAMES=kP;var Bz=0,Jr=class extends Vo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Bz++}),this.uuid=Ru(),this.name="",this.type="Material",this.blending=Ba,this.side=Uo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=km,this.blendDst=Nm,this.blendEquation=Fs,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=Ua,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=hM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=La,this.stencilZFail=La,this.stencilZPass=La,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let i=e[t];if(i===void 0){rt(`Material: parameter '${t}' has value of undefined.`);continue}let r=this[t];if(r===void 0){rt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ba&&(i.blending=this.blending),this.side!==Uo&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==km&&(i.blendSrc=this.blendSrc),this.blendDst!==Nm&&(i.blendDst=this.blendDst),this.blendEquation!==Fs&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Ua&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==hM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==La&&(i.stencilFail=this.stencilFail),this.stencilZFail!==La&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==La&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(o){let s=[];for(let a in o){let c=o[a];delete c.metadata,s.push(c)}return s}if(t){let o=r(e.textures),s=r(e.images);o.length>0&&(i.textures=o),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,i=null;if(t!==null){let r=t.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=t[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},cu=class extends Jr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=fg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};var On=new H,bm=new zt,Uz=0,ui=class{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Uz++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=fM,this.updateRanges=[],this.gpuType=io,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)bm.fromBufferAttribute(this,t),bm.applyMatrix3(e),this.setXY(t,bm.x,bm.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyMatrix3(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyMatrix4(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyNormalMatrix(e),this.setXYZ(t,On.x,On.y,On.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.transformDirection(e),this.setXYZ(t,On.x,On.y,On.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Xd(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=wi(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xd(t,this.array)),t}setX(e,t){return this.normalized&&(t=wi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xd(t,this.array)),t}setY(e,t){return this.normalized&&(t=wi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xd(t,this.array)),t}setZ(e,t){return this.normalized&&(t=wi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xd(t,this.array)),t}setW(e,t){return this.normalized&&(t=wi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=wi(t,this.array),i=wi(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=wi(t,this.array),i=wi(i,this.array),r=wi(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e*=this.itemSize,this.normalized&&(t=wi(t,this.array),i=wi(i,this.array),r=wi(r,this.array),o=wi(o,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==fM&&(e.usage=this.usage),e}};var lu=class extends ui{constructor(e,t,i){super(new Uint16Array(e),t,i)}};var du=class extends ui{constructor(e,t,i){super(new Uint32Array(e),t,i)}};var Ci=class extends ui{constructor(e,t,i){super(new Float32Array(e),t,i)}},Vz=0,or=new un,nM=new sr,rl=new H,Bi=new Ls,Jd=new Ls,jn=new H,hi=class n extends Vo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vz++}),this.uuid=Ru(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(RM(e)?du:lu)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let i=this.attributes.normal;if(i!==void 0){let o=new ut().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return or.makeRotationFromQuaternion(e),this.applyMatrix4(or),this}rotateX(e){return or.makeRotationX(e),this.applyMatrix4(or),this}rotateY(e){return or.makeRotationY(e),this.applyMatrix4(or),this}rotateZ(e){return or.makeRotationZ(e),this.applyMatrix4(or),this}translate(e,t,i){return or.makeTranslation(e,t,i),this.applyMatrix4(or),this}scale(e,t,i){return or.makeScale(e,t,i),this.applyMatrix4(or),this}lookAt(e){return nM.lookAt(e),nM.updateMatrix(),this.applyMatrix4(nM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rl).negate(),this.translate(rl.x,rl.y,rl.z),this}setFromPoints(e){let t=this.getAttribute("position");if(t===void 0){let i=[];for(let r=0,o=e.length;r<o;r++){let s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Ci(i,3))}else{let i=Math.min(e.length,t.count);for(let r=0;r<i;r++){let o=e[r];t.setXYZ(r,o.x,o.y,o.z||0)}e.length>t.count&&rt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ls);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Dt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){let o=t[i];Bi.setFromBufferAttribute(o),this.morphTargetsRelative?(jn.addVectors(this.boundingBox.min,Bi.min),this.boundingBox.expandByPoint(jn),jn.addVectors(this.boundingBox.max,Bi.max),this.boundingBox.expandByPoint(jn)):(this.boundingBox.expandByPoint(Bi.min),this.boundingBox.expandByPoint(Bi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Dt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bs);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Dt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new H,1/0);return}if(e){let i=this.boundingSphere.center;if(Bi.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){let a=t[o];Jd.setFromBufferAttribute(a),this.morphTargetsRelative?(jn.addVectors(Bi.min,Jd.min),Bi.expandByPoint(jn),jn.addVectors(Bi.max,Jd.max),Bi.expandByPoint(jn)):(Bi.expandByPoint(Jd.min),Bi.expandByPoint(Jd.max))}Bi.getCenter(i);let r=0;for(let o=0,s=e.count;o<s;o++)jn.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(jn));if(t)for(let o=0,s=t.length;o<s;o++){let a=t[o],c=this.morphTargetsRelative;for(let l=0,d=a.count;l<d;l++)jn.fromBufferAttribute(a,l),c&&(rl.fromBufferAttribute(e,l),jn.add(rl)),r=Math.max(r,i.distanceToSquared(jn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Dt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Dt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let i=t.position,r=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ui(new Float32Array(4*i.count),4));let s=this.getAttribute("tangent"),a=[],c=[];for(let j=0;j<i.count;j++)a[j]=new H,c[j]=new H;let l=new H,d=new H,u=new H,h=new zt,f=new zt,v=new zt,b=new H,_=new H;function m(j,E,w){l.fromBufferAttribute(i,j),d.fromBufferAttribute(i,E),u.fromBufferAttribute(i,w),h.fromBufferAttribute(o,j),f.fromBufferAttribute(o,E),v.fromBufferAttribute(o,w),d.sub(l),u.sub(l),f.sub(h),v.sub(h);let N=1/(f.x*v.y-v.x*f.y);isFinite(N)&&(b.copy(d).multiplyScalar(v.y).addScaledVector(u,-f.y).multiplyScalar(N),_.copy(u).multiplyScalar(f.x).addScaledVector(d,-v.x).multiplyScalar(N),a[j].add(b),a[E].add(b),a[w].add(b),c[j].add(_),c[E].add(_),c[w].add(_))}let I=this.groups;I.length===0&&(I=[{start:0,count:e.count}]);for(let j=0,E=I.length;j<E;++j){let w=I[j],N=w.start,W=w.count;for(let Z=N,re=N+W;Z<re;Z+=3)m(e.getX(Z+0),e.getX(Z+1),e.getX(Z+2))}let C=new H,A=new H,P=new H,T=new H;function O(j){P.fromBufferAttribute(r,j),T.copy(P);let E=a[j];C.copy(E),C.sub(P.multiplyScalar(P.dot(E))).normalize(),A.crossVectors(T,E);let N=A.dot(c[j])<0?-1:1;s.setXYZW(j,C.x,C.y,C.z,N)}for(let j=0,E=I.length;j<E;++j){let w=I[j],N=w.start,W=w.count;for(let Z=N,re=N+W;Z<re;Z+=3)O(e.getX(Z+0)),O(e.getX(Z+1)),O(e.getX(Z+2))}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ui(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);let r=new H,o=new H,s=new H,a=new H,c=new H,l=new H,d=new H,u=new H;if(e)for(let h=0,f=e.count;h<f;h+=3){let v=e.getX(h+0),b=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(t,v),o.fromBufferAttribute(t,b),s.fromBufferAttribute(t,_),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),a.fromBufferAttribute(i,v),c.fromBufferAttribute(i,b),l.fromBufferAttribute(i,_),a.add(d),c.add(d),l.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(b,c.x,c.y,c.z),i.setXYZ(_,l.x,l.y,l.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),o.fromBufferAttribute(t,h+1),s.fromBufferAttribute(t,h+2),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),i.setXYZ(h+0,d.x,d.y,d.z),i.setXYZ(h+1,d.x,d.y,d.z),i.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)jn.fromBufferAttribute(e,t),jn.normalize(),e.setXYZ(t,jn.x,jn.y,jn.z)}toNonIndexed(){function e(a,c){let l=a.array,d=a.itemSize,u=a.normalized,h=new l.constructor(c.length*d),f=0,v=0;for(let b=0,_=c.length;b<_;b++){a.isInterleavedBufferAttribute?f=c[b]*a.data.stride+a.offset:f=c[b]*d;for(let m=0;m<d;m++)h[v++]=l[f++]}return new ui(h,d,u)}if(this.index===null)return rt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new n,i=this.index.array,r=this.attributes;for(let a in r){let c=r[a],l=e(c,i);t.setAttribute(a,l)}let o=this.morphAttributes;for(let a in o){let c=[],l=o[a];for(let d=0,u=l.length;d<u;d++){let h=l[d],f=e(h,i);c.push(f)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let a=0,c=s.length;a<c;a++){let l=s[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let l in c)c[l]!==void 0&&(e[l]=c[l]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let i=this.attributes;for(let c in i){let l=i[c];e.data.attributes[c]=l.toJSON(e.data)}let r={},o=!1;for(let c in this.morphAttributes){let l=this.morphAttributes[c],d=[];for(let u=0,h=l.length;u<h;u++){let f=l[u];d.push(f.toJSON(e.data))}d.length>0&&(r[c]=d,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let i=e.index;i!==null&&this.setIndex(i.clone());let r=e.attributes;for(let l in r){let d=r[l];this.setAttribute(l,d.clone(t))}let o=e.morphAttributes;for(let l in o){let d=[],u=o[l];for(let h=0,f=u.length;h<f;h++)d.push(u[h].clone(t));this.morphAttributes[l]=d}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let l=0,d=s.length;l<d;l++){let u=s[l];this.addGroup(u.start,u.count,u.materialIndex)}let a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());let c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}},RA=new un,Na=new hl,ym=new Bs,kA=new H,xm=new H,Mm=new H,wm=new H,iM=new H,Cm=new H,NA=new H,Sm=new H,zi=class extends sr{constructor(e=new hi,t=new cu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){let r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,t){let i=this.geometry,r=i.attributes.position,o=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(r,e);let a=this.morphTargetInfluences;if(o&&a){Cm.set(0,0,0);for(let c=0,l=o.length;c<l;c++){let d=a[c],u=o[c];d!==0&&(iM.fromBufferAttribute(u,e),s?Cm.addScaledVector(iM,d):Cm.addScaledVector(iM.sub(t),d))}t.add(Cm)}return t}raycast(e,t){let i=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),ym.copy(i.boundingSphere),ym.applyMatrix4(o),Na.copy(e.ray).recast(e.near),!(ym.containsPoint(Na.origin)===!1&&(Na.intersectSphere(ym,kA)===null||Na.origin.distanceToSquared(kA)>(e.far-e.near)**2))&&(RA.copy(o).invert(),Na.copy(e.ray).applyMatrix4(RA),!(i.boundingBox!==null&&Na.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Na)))}_computeIntersections(e,t,i){let r,o=this.geometry,s=this.material,a=o.index,c=o.attributes.position,l=o.attributes.uv,d=o.attributes.uv1,u=o.attributes.normal,h=o.groups,f=o.drawRange;if(a!==null)if(Array.isArray(s))for(let v=0,b=h.length;v<b;v++){let _=h[v],m=s[_.materialIndex],I=Math.max(_.start,f.start),C=Math.min(a.count,Math.min(_.start+_.count,f.start+f.count));for(let A=I,P=C;A<P;A+=3){let T=a.getX(A),O=a.getX(A+1),j=a.getX(A+2);r=Em(this,m,e,i,l,d,u,T,O,j),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{let v=Math.max(0,f.start),b=Math.min(a.count,f.start+f.count);for(let _=v,m=b;_<m;_+=3){let I=a.getX(_),C=a.getX(_+1),A=a.getX(_+2);r=Em(this,s,e,i,l,d,u,I,C,A),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let v=0,b=h.length;v<b;v++){let _=h[v],m=s[_.materialIndex],I=Math.max(_.start,f.start),C=Math.min(c.count,Math.min(_.start+_.count,f.start+f.count));for(let A=I,P=C;A<P;A+=3){let T=A,O=A+1,j=A+2;r=Em(this,m,e,i,l,d,u,T,O,j),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{let v=Math.max(0,f.start),b=Math.min(c.count,f.start+f.count);for(let _=v,m=b;_<m;_+=3){let I=_,C=_+1,A=_+2;r=Em(this,s,e,i,l,d,u,I,C,A),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}};function zz(n,e,t,i,r,o,s,a){let c;if(e.side===fi?c=i.intersectTriangle(s,o,r,!0,a):c=i.intersectTriangle(r,o,s,e.side===Uo,a),c===null)return null;Sm.copy(a),Sm.applyMatrix4(n.matrixWorld);let l=t.ray.origin.distanceTo(Sm);return l<t.near||l>t.far?null:{distance:l,point:Sm.clone(),object:n}}function Em(n,e,t,i,r,o,s,a,c,l){n.getVertexPosition(a,xm),n.getVertexPosition(c,Mm),n.getVertexPosition(l,wm);let d=zz(n,e,t,i,xm,Mm,wm,NA);if(d){let u=new H;Ns.getBarycoord(NA,xm,Mm,wm,u),r&&(d.uv=Ns.getInterpolatedAttribute(r,a,c,l,u,new zt)),o&&(d.uv1=Ns.getInterpolatedAttribute(o,a,c,l,u,new zt)),s&&(d.normal=Ns.getInterpolatedAttribute(s,a,c,l,u,new H),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));let h={a,b:c,c:l,normal:new H,materialIndex:0};Ns.getNormal(xm,Mm,wm,h.normal),d.face=h,d.barycoord=u}return d}var fl=class n extends hi{constructor(e=1,t=1,i=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};let a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);let c=[],l=[],d=[],u=[],h=0,f=0;v("z","y","x",-1,-1,i,t,e,s,o,0),v("z","y","x",1,-1,i,t,-e,s,o,1),v("x","z","y",1,1,e,i,t,r,s,2),v("x","z","y",1,-1,e,i,-t,r,s,3),v("x","y","z",1,-1,e,t,i,r,o,4),v("x","y","z",-1,-1,e,t,-i,r,o,5),this.setIndex(c),this.setAttribute("position",new Ci(l,3)),this.setAttribute("normal",new Ci(d,3)),this.setAttribute("uv",new Ci(u,2));function v(b,_,m,I,C,A,P,T,O,j,E){let w=A/O,N=P/j,W=A/2,Z=P/2,re=T/2,Q=O+1,U=j+1,G=0,L=0,J=new H;for(let pe=0;pe<U;pe++){let Ae=pe*N-Z;for(let Je=0;Je<Q;Je++){let It=Je*w-W;J[b]=It*I,J[_]=Ae*C,J[m]=re,l.push(J.x,J.y,J.z),J[b]=0,J[_]=0,J[m]=T>0?1:-1,d.push(J.x,J.y,J.z),u.push(Je/O),u.push(1-pe/j),G+=1}}for(let pe=0;pe<j;pe++)for(let Ae=0;Ae<O;Ae++){let Je=h+Ae+Q*pe,It=h+Ae+Q*(pe+1),Xe=h+(Ae+1)+Q*(pe+1),Yt=h+(Ae+1)+Q*pe;c.push(Je,It,Yt),c.push(It,Xe,Yt),L+=6}a.addGroup(f,L,E),f+=L,h+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Wa(n){let e={};for(let t in n){e[t]={};for(let i in n[t]){let r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(rt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ti(n){let e={};for(let t=0;t<n.length;t++){let i=Wa(n[t]);for(let r in i)e[r]=i[r]}return e}function Hz(n){let e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function NM(n){let e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Vt.workingColorSpace}var NP={clone:Wa,merge:ti},jz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Gz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,ar=class extends Jr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jz,this.fragmentShader=Gz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Wa(e.uniforms),this.uniformsGroups=Hz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let r in this.uniforms){let s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let i={};for(let r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}},uu=class extends sr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new un,this.projectionMatrix=new un,this.projectionMatrixInverse=new un,this.coordinateSystem=Pr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},ks=new H,FA=new zt,LA=new zt,Yn=class extends uu{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=Um*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Fx*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Um*2*Math.atan(Math.tan(Fx*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ks.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ks.x,ks.y).multiplyScalar(-e/ks.z),ks.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ks.x,ks.y).multiplyScalar(-e/ks.z)}getViewSize(e,t){return this.getViewBounds(e,FA,LA),t.subVectors(LA,FA)}setViewOffset(e,t,i,r,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(Fx*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,o=-.5*r,s=this.view;if(this.view!==null&&this.view.enabled){let c=s.fullWidth,l=s.fullHeight;o+=s.offsetX*r/c,t-=s.offsetY*i/l,r*=s.width/c,i*=s.height/l}let a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},ol=-90,sl=1,jm=class extends sr{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;let r=new Yn(ol,sl,e,t);r.layers=this.layers,this.add(r);let o=new Yn(ol,sl,e,t);o.layers=this.layers,this.add(o);let s=new Yn(ol,sl,e,t);s.layers=this.layers,this.add(s);let a=new Yn(ol,sl,e,t);a.layers=this.layers,this.add(a);let c=new Yn(ol,sl,e,t);c.layers=this.layers,this.add(c);let l=new Yn(ol,sl,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[i,r,o,s,a,c]=t;for(let l of t)this.remove(l);if(e===Pr)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===ru)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let l of t)this.add(l),l.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();let{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[o,s,a,c,l,d]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;let b=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,o),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,c),e.setRenderTarget(i,4,r),e.render(t,l),i.texture.generateMipmaps=b,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(u,h,f),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}},hu=class extends Go{constructor(e=[],t=Ha,i,r,o,s,a,c,l,d){super(e,t,i,r,o,s,a,c,l,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},Gm=class extends Qr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new hu(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new fl(5,5,5),o=new ar({name:"CubemapFromEquirect",uniforms:Wa(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:fi,blending:no});o.uniforms.tEquirect.value=t;let s=new zi(r,o),a=t.minFilter;return t.minFilter===Hs&&(t.minFilter=Vi),new jm(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){let o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(o)}},Lo=class extends sr{constructor(){super(),this.isGroup=!0,this.type="Group"}},Wz={type:"move"},pl=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Lo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Lo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Lo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,o=null,s=null,a=this._targetRay,c=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(l&&e.hand){s=!0;for(let b of e.hand.values()){let _=t.getJointPose(b,i),m=this._getHandJoint(l,b);_!==null&&(m.matrix.fromArray(_.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=_.radius),m.visible=_!==null}let d=l.joints["index-finger-tip"],u=l.joints["thumb-tip"],h=d.position.distanceTo(u.position),f=.02,v=.005;l.inputState.pinching&&h>f+v?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=f-v&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,i),o!==null&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Wz)))}return a!==null&&(a.visible=r!==null),c!==null&&(c.visible=o!==null),l!==null&&(l.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let i=new Lo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}};var fu=class n{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Et(e),this.near=t,this.far=i}clone(){return new n(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}},pu=class extends sr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Us,this.environmentIntensity=1,this.environmentRotation=new Us,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}};var Wm=class extends Go{constructor(e=null,t=1,i=1,r,o,s,a,c,l=Si,d=Si,u,h){super(null,s,a,c,l,d,r,o,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var rM=new H,$z=new H,qz=new ut,Zr=class{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){let r=rM.subVectors(i,t).cross($z.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let i=e.delta(rM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(i,o)}intersectsLine(e){let t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let i=t||qz.getNormalMatrix(e),r=this.coplanarPoint(rM).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},Fa=new Bs,Yz=new zt(.5,.5),Im=new H,ml=class{constructor(e=new Zr,t=new Zr,i=new Zr,r=new Zr,o=new Zr,s=new Zr){this.planes=[e,t,i,r,o,s]}set(e,t,i,r,o,s){let a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(e){let t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Pr,i=!1){let r=this.planes,o=e.elements,s=o[0],a=o[1],c=o[2],l=o[3],d=o[4],u=o[5],h=o[6],f=o[7],v=o[8],b=o[9],_=o[10],m=o[11],I=o[12],C=o[13],A=o[14],P=o[15];if(r[0].setComponents(l-s,f-d,m-v,P-I).normalize(),r[1].setComponents(l+s,f+d,m+v,P+I).normalize(),r[2].setComponents(l+a,f+u,m+b,P+C).normalize(),r[3].setComponents(l-a,f-u,m-b,P-C).normalize(),i)r[4].setComponents(c,h,_,A).normalize(),r[5].setComponents(l-c,f-h,m-_,P-A).normalize();else if(r[4].setComponents(l-c,f-h,m-_,P-A).normalize(),t===Pr)r[5].setComponents(l+c,f+h,m+_,P+A).normalize();else if(t===ru)r[5].setComponents(c,h,_,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Fa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Fa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Fa)}intersectsSprite(e){Fa.center.set(0,0,0);let t=Yz.distanceTo(e.center);return Fa.radius=.7071067811865476+t,Fa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fa)}intersectsSphere(e){let t=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){let t=this.planes;for(let i=0;i<6;i++){let r=t[i];if(Im.x=r.normal.x>0?e.max.x:e.min.x,Im.y=r.normal.y>0?e.max.y:e.min.y,Im.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Im)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};var gl=class extends Jr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},$m=new H,qm=new H,BA=new un,eu=new hl,Tm=new Bs,oM=new H,UA=new H,mu=class extends sr{constructor(e=new hi,t=new gl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,i=[0];for(let r=1,o=t.count;r<o;r++)$m.fromBufferAttribute(t,r-1),qm.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=$m.distanceTo(qm);e.setAttribute("lineDistance",new Ci(i,1))}else rt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Tm.copy(i.boundingSphere),Tm.applyMatrix4(r),Tm.radius+=o,e.ray.intersectsSphere(Tm)===!1)return;BA.copy(r).invert(),eu.copy(e.ray).applyMatrix4(BA);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=this.isLineSegments?2:1,d=i.index,h=i.attributes.position;if(d!==null){let f=Math.max(0,s.start),v=Math.min(d.count,s.start+s.count);for(let b=f,_=v-1;b<_;b+=l){let m=d.getX(b),I=d.getX(b+1),C=Dm(this,e,eu,c,m,I,b);C&&t.push(C)}if(this.isLineLoop){let b=d.getX(v-1),_=d.getX(f),m=Dm(this,e,eu,c,b,_,v-1);m&&t.push(m)}}else{let f=Math.max(0,s.start),v=Math.min(h.count,s.start+s.count);for(let b=f,_=v-1;b<_;b+=l){let m=Dm(this,e,eu,c,b,b+1,b);m&&t.push(m)}if(this.isLineLoop){let b=Dm(this,e,eu,c,v-1,f,v-1);b&&t.push(b)}}}updateMorphTargets(){let t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){let r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}};function Dm(n,e,t,i,r,o,s){let a=n.geometry.attributes.position;if($m.fromBufferAttribute(a,r),qm.fromBufferAttribute(a,o),t.distanceSqToSegment($m,qm,oM,UA)>i)return;oM.applyMatrix4(n.matrixWorld);let l=e.ray.origin.distanceTo(oM);if(!(l<e.near||l>e.far))return{distance:l,point:UA.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}var vl=class extends Jr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},VA=new un,pM=new hl,Am=new Bs,Pm=new H,gu=class extends sr{constructor(e=new hi,t=new vl){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){let i=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Am.copy(i.boundingSphere),Am.applyMatrix4(r),Am.radius+=o,e.ray.intersectsSphere(Am)===!1)return;VA.copy(r).invert(),pM.copy(e.ray).applyMatrix4(VA);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=i.index,u=i.attributes.position;if(l!==null){let h=Math.max(0,s.start),f=Math.min(l.count,s.start+s.count);for(let v=h,b=f;v<b;v++){let _=l.getX(v);Pm.fromBufferAttribute(u,_),zA(Pm,_,c,r,e,t,this)}}else{let h=Math.max(0,s.start),f=Math.min(u.count,s.start+s.count);for(let v=h,b=f;v<b;v++)Pm.fromBufferAttribute(u,v),zA(Pm,v,c,r,e,t,this)}}updateMorphTargets(){let t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){let r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}};function zA(n,e,t,i,r,o,s){let a=pM.distanceSqToPoint(n);if(a<t){let c=new H;pM.closestPointToPoint(n,c),c.applyMatrix4(i);let l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}var vu=class extends Go{constructor(e,t,i=js,r,o,s,a=Si,c=Si,l,d=cl,u=1){if(d!==cl&&d!==xl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");let h={width:e,height:t,depth:u};super(h,r,o,s,a,c,d,i,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ul(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}},_u=class extends Go{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}};var bu=class n extends hi{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};let o=e/2,s=t/2,a=Math.floor(i),c=Math.floor(r),l=a+1,d=c+1,u=e/a,h=t/c,f=[],v=[],b=[],_=[];for(let m=0;m<d;m++){let I=m*h-s;for(let C=0;C<l;C++){let A=C*u-o;v.push(A,-I,0),b.push(0,0,1),_.push(C/a),_.push(1-m/c)}}for(let m=0;m<c;m++)for(let I=0;I<a;I++){let C=I+l*m,A=I+l*(m+1),P=I+1+l*(m+1),T=I+1+l*m;f.push(C,A,T),f.push(A,P,T)}this.setIndex(f),this.setAttribute("position",new Ci(v,3)),this.setAttribute("normal",new Ci(b,3)),this.setAttribute("uv",new Ci(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}};var yu=class n extends hi{constructor(e=1,t=32,i=16,r=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));let c=Math.min(s+a,Math.PI),l=0,d=[],u=new H,h=new H,f=[],v=[],b=[],_=[];for(let m=0;m<=i;m++){let I=[],C=m/i,A=0;m===0&&s===0?A=.5/t:m===i&&c===Math.PI&&(A=-.5/t);for(let P=0;P<=t;P++){let T=P/t;u.x=-e*Math.cos(r+T*o)*Math.sin(s+C*a),u.y=e*Math.cos(s+C*a),u.z=e*Math.sin(r+T*o)*Math.sin(s+C*a),v.push(u.x,u.y,u.z),h.copy(u).normalize(),b.push(h.x,h.y,h.z),_.push(T+A,1-C),I.push(l++)}d.push(I)}for(let m=0;m<i;m++)for(let I=0;I<t;I++){let C=d[m][I+1],A=d[m][I],P=d[m+1][I],T=d[m+1][I+1];(m!==0||s>0)&&f.push(C,A,T),(m!==i-1||c<Math.PI)&&f.push(A,P,T)}this.setIndex(f),this.setAttribute("position",new Ci(v,3)),this.setAttribute("normal",new Ci(b,3)),this.setAttribute("uv",new Ci(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}};var xu=class extends Jr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Et(16777215),this.specular=new Et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=AM,this.normalScale=new zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=fg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};var Ym=class extends Jr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=MP,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},Xm=class extends Jr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};function Om(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Xz(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}var za=class{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,i=this._cachedIndex,r=t[i],o=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<o)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(o=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=o)){let a=t[1];e<a&&(i=2,o=a);for(let c=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=o,o=t[--i-1],e>=o)break t}s=i,i=0;break n}break e}for(;i<s;){let a=i+s>>>1;e<t[a]?s=a:i=a+1}if(r=t[i],o=t[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r;for(let s=0;s!==r;++s)t[s]=i[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},Zm=class extends za{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lM,endingEnd:lM}}intervalChanged_(e,t,i){let r=this.parameterPositions,o=e-2,s=e+1,a=r[o],c=r[s];if(a===void 0)switch(this.getSettings_().endingStart){case dM:o=e,a=2*t-i;break;case uM:o=r.length-2,a=t+r[o]-r[o+1];break;default:o=e,a=i}if(c===void 0)switch(this.getSettings_().endingEnd){case dM:s=e,c=2*i-t;break;case uM:s=1,c=i+r[1]-r[0];break;default:s=e-1,c=t}let l=(i-t)*.5,d=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(c-i),this._offsetPrev=o*d,this._offsetNext=s*d}interpolate_(e,t,i,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,d=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,v=(i-t)/(r-t),b=v*v,_=b*v,m=-h*_+2*h*b-h*v,I=(1+h)*_+(-1.5-2*h)*b+(-.5+h)*v+1,C=(-1-f)*_+(1.5+f)*b+.5*v,A=f*_-f*b;for(let P=0;P!==a;++P)o[P]=m*s[d+P]+I*s[l+P]+C*s[c+P]+A*s[u+P];return o}},Km=class extends za{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,d=(i-t)/(r-t),u=1-d;for(let h=0;h!==a;++h)o[h]=s[l+h]*u+s[c+h]*d;return o}},Qm=class extends za{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}},Hi=class{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Om(t,this.TimeBufferType),this.values=Om(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Om(e.times,Array),values:Om(e.values,Array)};let r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Qm(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Km(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Zm(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case nu:t=this.InterpolantFactoryMethodDiscrete;break;case Bm:t=this.InterpolantFactoryMethodLinear;break;case Rm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return rt("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nu;case this.InterpolantFactoryMethodLinear:return Bm;case this.InterpolantFactoryMethodSmooth:return Rm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){let i=this.times,r=i.length,o=0,s=r-1;for(;o!==r&&i[o]<e;)++o;for(;s!==-1&&i[s]>t;)--s;if(++s,o!==0||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);let a=this.getValueSize();this.times=i.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(Dt("KeyframeTrack: Invalid value size in track.",this),e=!1);let i=this.times,r=this.values,o=i.length;o===0&&(Dt("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){let c=i[a];if(typeof c=="number"&&isNaN(c)){Dt("KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(s!==null&&s>c){Dt("KeyframeTrack: Out of order keys.",this,a,c,s),e=!1;break}s=c}if(r!==void 0&&Xz(r))for(let a=0,c=r.length;a!==c;++a){let l=r[a];if(isNaN(l)){Dt("KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){let e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Rm,o=e.length-1,s=1;for(let a=1;a<o;++a){let c=!1,l=e[a],d=e[a+1];if(l!==d&&(a!==1||l!==e[0]))if(r)c=!0;else{let u=a*i,h=u-i,f=u+i;for(let v=0;v!==i;++v){let b=t[u+v];if(b!==t[h+v]||b!==t[f+v]){c=!0;break}}}if(c){if(a!==s){e[s]=e[a];let u=a*i,h=s*i;for(let f=0;f!==i;++f)t[h+f]=t[u+f]}++s}}if(o>0){e[s]=e[o];for(let a=o*i,c=s*i,l=0;l!==i;++l)t[c+l]=t[a+l];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){let e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}};Hi.prototype.ValueTypeName="";Hi.prototype.TimeBufferType=Float32Array;Hi.prototype.ValueBufferType=Float32Array;Hi.prototype.DefaultInterpolation=Bm;var Vs=class extends Hi{constructor(e,t,i){super(e,t,i)}};Vs.prototype.ValueTypeName="bool";Vs.prototype.ValueBufferType=Array;Vs.prototype.DefaultInterpolation=nu;Vs.prototype.InterpolantFactoryMethodLinear=void 0;Vs.prototype.InterpolantFactoryMethodSmooth=void 0;var Jm=class extends Hi{constructor(e,t,i,r){super(e,t,i,r)}};Jm.prototype.ValueTypeName="color";var eg=class extends Hi{constructor(e,t,i,r){super(e,t,i,r)}};eg.prototype.ValueTypeName="number";var tg=class extends za{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=(i-t)/(r-t),l=e*a;for(let d=l+a;l!==d;l+=4)zo.slerpFlat(o,0,s,l-a,s,l,c);return o}},Mu=class extends Hi{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new tg(this.times,this.values,this.getValueSize(),e)}};Mu.prototype.ValueTypeName="quaternion";Mu.prototype.InterpolantFactoryMethodSmooth=void 0;var zs=class extends Hi{constructor(e,t,i){super(e,t,i)}};zs.prototype.ValueTypeName="string";zs.prototype.ValueBufferType=Array;zs.prototype.DefaultInterpolation=nu;zs.prototype.InterpolantFactoryMethodLinear=void 0;zs.prototype.InterpolantFactoryMethodSmooth=void 0;var ng=class extends Hi{constructor(e,t,i,r){super(e,t,i,r)}};ng.prototype.ValueTypeName="vector";var _l=class extends sr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}};var sM=new un,HA=new H,jA=new H,ig=class{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new zt(512,512),this.mapType=Or,this.map=null,this.mapPass=null,this.matrix=new un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ml,this._frameExtents=new zt(1,1),this._viewportCount=1,this._viewports=[new Xt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,i=this.matrix;HA.setFromMatrixPosition(e.matrixWorld),t.position.copy(HA),jA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(jA),t.updateMatrixWorld(),sM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sM,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(sM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}};var GA=new un,tu=new H,aM=new H,mM=class extends ig{constructor(){super(new Yn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new zt(4,2),this._viewportCount=6,this._viewports=[new Xt(2,1,1,1),new Xt(0,1,1,1),new Xt(3,1,1,1),new Xt(1,1,1,1),new Xt(3,0,1,1),new Xt(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,t=0){let i=this.camera,r=this.matrix,o=e.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),tu.setFromMatrixPosition(e.matrixWorld),i.position.copy(tu),aM.copy(i.position),aM.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(aM),i.updateMatrixWorld(),r.makeTranslation(-tu.x,-tu.y,-tu.z),GA.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GA,i.coordinateSystem,i.reversedDepth)}},wu=class extends _l{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new mM}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},Cu=class extends uu{constructor(e=-1,t=1,i=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,o=i-e,s=i+e,a=r+t,c=r-t;if(this.view!==null&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=l*this.view.offsetX,s=o+l*this.view.width,a-=d*this.view.offsetY,c=a-d*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},gM=class extends ig{constructor(){super(new Cu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},Su=class extends _l{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sr.DEFAULT_UP),this.updateMatrix(),this.target=new sr,this.shadow=new gM}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},Eu=class extends _l{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}};var rg=class extends Yn{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}};var FM="\\[\\]\\.:\\/",Zz=new RegExp("["+FM+"]","g"),LM="[^"+FM+"]",Kz="[^"+FM.replace("\\.","")+"]",Qz=/((?:WC+[\/:])*)/.source.replace("WC",LM),Jz=/(WCOD+)?/.source.replace("WCOD",Kz),e8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",LM),t8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",LM),n8=new RegExp("^"+Qz+Jz+e8+t8+"$"),i8=["material","materials","bones","map"],vM=class{constructor(e,t,i){let r=i||wn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){let i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},wn=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Zz,"")}static parseTrackName(t){let i=n8.exec(t);if(i===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);let r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){let s=r.nodeName.substring(o+1);i8.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(i===void 0||i===""||i==="."||i===-1||i===t.name||i===t.uuid)return t;if(t.skeleton){let r=t.skeleton.getBoneByName(i);if(r!==void 0)return r}if(t.children){let r=function(s){for(let a=0;a<s.length;a++){let c=s[a];if(c.name===i||c.uuid===i)return c;let l=r(c.children);if(l)return l}return null},o=r(t.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)t[i++]=r[o]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=t[i++]}_setValue_array_setNeedsUpdate(t,i){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node,i=this.parsedPath,r=i.objectName,o=i.propertyName,s=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){rt("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=i.objectIndex;switch(r){case"materials":if(!t.material){Dt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){Dt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){Dt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let u=0;u<t.length;u++)if(t[u].name===d){d=u;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){Dt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){Dt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[r]===void 0){Dt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[r]}if(d!==void 0){if(t[d]===void 0){Dt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[d]}}let a=t[o];if(a===void 0){let d=i.nodeName;Dt("PropertyBinding: Trying to update property for track: "+d+"."+o+" but it wasn't found.",t);return}let c=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?c=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(o==="morphTargetInfluences"){if(!t.geometry){Dt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){Dt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=vM,n})();wn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wn.prototype.GetterByBindingType=[wn.prototype._getValue_direct,wn.prototype._getValue_array,wn.prototype._getValue_arrayElement,wn.prototype._getValue_toArray];wn.prototype.SetterByBindingTypeAndVersioning=[[wn.prototype._setValue_direct,wn.prototype._setValue_direct_setNeedsUpdate,wn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_array,wn.prototype._setValue_array_setNeedsUpdate,wn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_arrayElement,wn.prototype._setValue_arrayElement_setNeedsUpdate,wn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_fromArray,wn.prototype._setValue_fromArray_setNeedsUpdate,wn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var mne=new Float32Array(1);function BM(n,e,t,i){let r=r8(i);switch(t){case IM:return n*e;case DM:return n*e/r.components*r.byteLength;case yg:return n*e/r.components*r.byteLength;case xg:return n*e*2/r.components*r.byteLength;case Mg:return n*e*2/r.components*r.byteLength;case TM:return n*e*3/r.components*r.byteLength;case cr:return n*e*4/r.components*r.byteLength;case wg:return n*e*4/r.components*r.byteLength;case Du:case Au:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Pu:case Ou:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Sg:case Ig:return Math.max(n,16)*Math.max(e,8)/4;case Cg:case Eg:return Math.max(n,8)*Math.max(e,8)/2;case Tg:case Dg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Ag:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Pg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Og:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Rg:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case kg:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Ng:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Fg:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Lg:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Bg:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Ug:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Vg:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case zg:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Hg:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case jg:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Gg:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Wg:case $g:case qg:return Math.ceil(n/4)*Math.ceil(e/4)*16;case Yg:case Xg:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Zg:case Kg:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function r8(n){switch(n){case Or:case wM:return{byteLength:1,components:1};case bl:case CM:case Ga:return{byteLength:2,components:1};case _g:case bg:return{byteLength:2,components:4};case js:case vg:case io:return{byteLength:4,components:1};case SM:case EM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:og}}));typeof window<"u"&&(window.__THREE__?rt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=og);function rO(){let n=null,e=!1,t=null,i=null;function r(o,s){t(o,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function o8(n){let e=new WeakMap;function t(a,c){let l=a.array,d=a.usage,u=l.byteLength,h=n.createBuffer();n.bindBuffer(c,h),n.bufferData(c,l,d),a.onUploadCallback();let f;if(l instanceof Float32Array)f=n.FLOAT;else if(typeof Float16Array<"u"&&l instanceof Float16Array)f=n.HALF_FLOAT;else if(l instanceof Uint16Array)a.isFloat16BufferAttribute?f=n.HALF_FLOAT:f=n.UNSIGNED_SHORT;else if(l instanceof Int16Array)f=n.SHORT;else if(l instanceof Uint32Array)f=n.UNSIGNED_INT;else if(l instanceof Int32Array)f=n.INT;else if(l instanceof Int8Array)f=n.BYTE;else if(l instanceof Uint8Array)f=n.UNSIGNED_BYTE;else if(l instanceof Uint8ClampedArray)f=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+l);return{buffer:h,type:f,bytesPerElement:l.BYTES_PER_ELEMENT,version:a.version,size:u}}function i(a,c,l){let d=c.array,u=c.updateRanges;if(n.bindBuffer(l,a),u.length===0)n.bufferSubData(l,0,d);else{u.sort((f,v)=>f.start-v.start);let h=0;for(let f=1;f<u.length;f++){let v=u[h],b=u[f];b.start<=v.start+v.count+1?v.count=Math.max(v.count,b.start+b.count-v.start):(++h,u[h]=b)}u.length=h+1;for(let f=0,v=u.length;f<v;f++){let b=u[f];n.bufferSubData(l,b.start*d.BYTES_PER_ELEMENT,d,b.start,b.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);let c=e.get(a);c&&(n.deleteBuffer(c.buffer),e.delete(a))}function s(a,c){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){let d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}let l=e.get(a);if(l===void 0)e.set(a,t(a,c));else if(l.version<a.version){if(l.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(l.buffer,a,c),l.version=a.version}}return{get:r,remove:o,update:s}}var s8=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,a8=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,c8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,l8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,d8=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,u8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,h8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,f8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,p8=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,m8=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,g8=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,v8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_8=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,b8=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,y8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,x8=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,M8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,w8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,C8=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,S8=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,E8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,I8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,T8=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,D8=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,A8=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,P8=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,O8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,R8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,k8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,N8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,F8="gl_FragColor = linearToOutputTexel( gl_FragColor );",L8=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,B8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,U8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,V8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,z8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,H8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,j8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,G8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,W8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,q8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Y8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,X8=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Z8=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,K8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Q8=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,J8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,e6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,t6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,n6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,i6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,r6=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,o6=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,s6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,a6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,c6=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,l6=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,d6=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,u6=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,h6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,f6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,p6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,m6=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,g6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,v6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_6=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,b6=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,y6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,x6=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,M6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,w6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,C6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,S6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,E6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,I6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,T6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,D6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,A6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,P6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,O6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,R6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,k6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,N6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,F6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,L6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,B6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,U6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,V6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,z6=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,H6=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,j6=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,G6=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,W6=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$6=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,q6=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Y6=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,X6=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Z6=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,K6=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Q6=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,J6=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,eH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,tH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,nH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,iH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,rH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,oH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,sH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,hH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,fH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,pH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,mH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,gH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_H=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,EH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,IH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,AH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,NH=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,LH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bt={alphahash_fragment:s8,alphahash_pars_fragment:a8,alphamap_fragment:c8,alphamap_pars_fragment:l8,alphatest_fragment:d8,alphatest_pars_fragment:u8,aomap_fragment:h8,aomap_pars_fragment:f8,batching_pars_vertex:p8,batching_vertex:m8,begin_vertex:g8,beginnormal_vertex:v8,bsdfs:_8,iridescence_fragment:b8,bumpmap_pars_fragment:y8,clipping_planes_fragment:x8,clipping_planes_pars_fragment:M8,clipping_planes_pars_vertex:w8,clipping_planes_vertex:C8,color_fragment:S8,color_pars_fragment:E8,color_pars_vertex:I8,color_vertex:T8,common:D8,cube_uv_reflection_fragment:A8,defaultnormal_vertex:P8,displacementmap_pars_vertex:O8,displacementmap_vertex:R8,emissivemap_fragment:k8,emissivemap_pars_fragment:N8,colorspace_fragment:F8,colorspace_pars_fragment:L8,envmap_fragment:B8,envmap_common_pars_fragment:U8,envmap_pars_fragment:V8,envmap_pars_vertex:z8,envmap_physical_pars_fragment:Q8,envmap_vertex:H8,fog_vertex:j8,fog_pars_vertex:G8,fog_fragment:W8,fog_pars_fragment:$8,gradientmap_pars_fragment:q8,lightmap_pars_fragment:Y8,lights_lambert_fragment:X8,lights_lambert_pars_fragment:Z8,lights_pars_begin:K8,lights_toon_fragment:J8,lights_toon_pars_fragment:e6,lights_phong_fragment:t6,lights_phong_pars_fragment:n6,lights_physical_fragment:i6,lights_physical_pars_fragment:r6,lights_fragment_begin:o6,lights_fragment_maps:s6,lights_fragment_end:a6,logdepthbuf_fragment:c6,logdepthbuf_pars_fragment:l6,logdepthbuf_pars_vertex:d6,logdepthbuf_vertex:u6,map_fragment:h6,map_pars_fragment:f6,map_particle_fragment:p6,map_particle_pars_fragment:m6,metalnessmap_fragment:g6,metalnessmap_pars_fragment:v6,morphinstance_vertex:_6,morphcolor_vertex:b6,morphnormal_vertex:y6,morphtarget_pars_vertex:x6,morphtarget_vertex:M6,normal_fragment_begin:w6,normal_fragment_maps:C6,normal_pars_fragment:S6,normal_pars_vertex:E6,normal_vertex:I6,normalmap_pars_fragment:T6,clearcoat_normal_fragment_begin:D6,clearcoat_normal_fragment_maps:A6,clearcoat_pars_fragment:P6,iridescence_pars_fragment:O6,opaque_fragment:R6,packing:k6,premultiplied_alpha_fragment:N6,project_vertex:F6,dithering_fragment:L6,dithering_pars_fragment:B6,roughnessmap_fragment:U6,roughnessmap_pars_fragment:V6,shadowmap_pars_fragment:z6,shadowmap_pars_vertex:H6,shadowmap_vertex:j6,shadowmask_pars_fragment:G6,skinbase_vertex:W6,skinning_pars_vertex:$6,skinning_vertex:q6,skinnormal_vertex:Y6,specularmap_fragment:X6,specularmap_pars_fragment:Z6,tonemapping_fragment:K6,tonemapping_pars_fragment:Q6,transmission_fragment:J6,transmission_pars_fragment:eH,uv_pars_fragment:tH,uv_pars_vertex:nH,uv_vertex:iH,worldpos_vertex:rH,background_vert:oH,background_frag:sH,backgroundCube_vert:aH,backgroundCube_frag:cH,cube_vert:lH,cube_frag:dH,depth_vert:uH,depth_frag:hH,distanceRGBA_vert:fH,distanceRGBA_frag:pH,equirect_vert:mH,equirect_frag:gH,linedashed_vert:vH,linedashed_frag:_H,meshbasic_vert:bH,meshbasic_frag:yH,meshlambert_vert:xH,meshlambert_frag:MH,meshmatcap_vert:wH,meshmatcap_frag:CH,meshnormal_vert:SH,meshnormal_frag:EH,meshphong_vert:IH,meshphong_frag:TH,meshphysical_vert:DH,meshphysical_frag:AH,meshtoon_vert:PH,meshtoon_frag:OH,points_vert:RH,points_frag:kH,shadow_vert:NH,shadow_frag:FH,sprite_vert:LH,sprite_frag:BH},xe={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ut},alphaMap:{value:null},alphaMapTransform:{value:new ut},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ut}},envmap:{envMap:{value:null},envMapRotation:{value:new ut},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ut}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ut}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ut},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ut},normalScale:{value:new zt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ut},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ut}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ut}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ut}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ut},alphaTest:{value:0},uvTransform:{value:new ut}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new zt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ut},alphaMap:{value:null},alphaMapTransform:{value:new ut},alphaTest:{value:0}}},ro={basic:{uniforms:ti([xe.common,xe.specularmap,xe.envmap,xe.aomap,xe.lightmap,xe.fog]),vertexShader:bt.meshbasic_vert,fragmentShader:bt.meshbasic_frag},lambert:{uniforms:ti([xe.common,xe.specularmap,xe.envmap,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.fog,xe.lights,{emissive:{value:new Et(0)}}]),vertexShader:bt.meshlambert_vert,fragmentShader:bt.meshlambert_frag},phong:{uniforms:ti([xe.common,xe.specularmap,xe.envmap,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.fog,xe.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:bt.meshphong_vert,fragmentShader:bt.meshphong_frag},standard:{uniforms:ti([xe.common,xe.envmap,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.roughnessmap,xe.metalnessmap,xe.fog,xe.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag},toon:{uniforms:ti([xe.common,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.gradientmap,xe.fog,xe.lights,{emissive:{value:new Et(0)}}]),vertexShader:bt.meshtoon_vert,fragmentShader:bt.meshtoon_frag},matcap:{uniforms:ti([xe.common,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.fog,{matcap:{value:null}}]),vertexShader:bt.meshmatcap_vert,fragmentShader:bt.meshmatcap_frag},points:{uniforms:ti([xe.points,xe.fog]),vertexShader:bt.points_vert,fragmentShader:bt.points_frag},dashed:{uniforms:ti([xe.common,xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bt.linedashed_vert,fragmentShader:bt.linedashed_frag},depth:{uniforms:ti([xe.common,xe.displacementmap]),vertexShader:bt.depth_vert,fragmentShader:bt.depth_frag},normal:{uniforms:ti([xe.common,xe.bumpmap,xe.normalmap,xe.displacementmap,{opacity:{value:1}}]),vertexShader:bt.meshnormal_vert,fragmentShader:bt.meshnormal_frag},sprite:{uniforms:ti([xe.sprite,xe.fog]),vertexShader:bt.sprite_vert,fragmentShader:bt.sprite_frag},background:{uniforms:{uvTransform:{value:new ut},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bt.background_vert,fragmentShader:bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ut}},vertexShader:bt.backgroundCube_vert,fragmentShader:bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bt.cube_vert,fragmentShader:bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bt.equirect_vert,fragmentShader:bt.equirect_frag},distanceRGBA:{uniforms:ti([xe.common,xe.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bt.distanceRGBA_vert,fragmentShader:bt.distanceRGBA_frag},shadow:{uniforms:ti([xe.lights,xe.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:bt.shadow_vert,fragmentShader:bt.shadow_frag}};ro.physical={uniforms:ti([ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ut},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ut},clearcoatNormalScale:{value:new zt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ut},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ut},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ut},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ut},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ut},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ut},transmissionSamplerSize:{value:new zt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ut},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ut},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ut},anisotropyVector:{value:new zt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ut}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag};var Qg={r:0,b:0,g:0},$a=new Us,UH=new un;function VH(n,e,t,i,r,o,s){let a=new Et(0),c=o===!0?0:1,l,d,u=null,h=0,f=null;function v(C){let A=C.isScene===!0?C.background:null;return A&&A.isTexture&&(A=(C.backgroundBlurriness>0?t:e).get(A)),A}function b(C){let A=!1,P=v(C);P===null?m(a,c):P&&P.isColor&&(m(P,1),A=!0);let T=n.xr.getEnvironmentBlendMode();T==="additive"?i.buffers.color.setClear(0,0,0,1,s):T==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||A)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function _(C,A){let P=v(A);P&&(P.isCubeTexture||P.mapping===Iu)?(d===void 0&&(d=new zi(new fl(1,1,1),new ar({name:"BackgroundCubeMaterial",uniforms:Wa(ro.backgroundCube.uniforms),vertexShader:ro.backgroundCube.vertexShader,fragmentShader:ro.backgroundCube.fragmentShader,side:fi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,O,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),$a.copy(A.backgroundRotation),$a.x*=-1,$a.y*=-1,$a.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&($a.y*=-1,$a.z*=-1),d.material.uniforms.envMap.value=P,d.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(UH.makeRotationFromEuler($a)),d.material.toneMapped=Vt.getTransfer(P.colorSpace)!==Zt,(u!==P||h!==P.version||f!==n.toneMapping)&&(d.material.needsUpdate=!0,u=P,h=P.version,f=n.toneMapping),d.layers.enableAll(),C.unshift(d,d.geometry,d.material,0,0,null)):P&&P.isTexture&&(l===void 0&&(l=new zi(new bu(2,2),new ar({name:"BackgroundMaterial",uniforms:Wa(ro.background.uniforms),vertexShader:ro.background.vertexShader,fragmentShader:ro.background.fragmentShader,side:Uo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=P,l.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,l.material.toneMapped=Vt.getTransfer(P.colorSpace)!==Zt,P.matrixAutoUpdate===!0&&P.updateMatrix(),l.material.uniforms.uvTransform.value.copy(P.matrix),(u!==P||h!==P.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=P,h=P.version,f=n.toneMapping),l.layers.enableAll(),C.unshift(l,l.geometry,l.material,0,0,null))}function m(C,A){C.getRGB(Qg,NM(n)),i.buffers.color.setClear(Qg.r,Qg.g,Qg.b,A,s)}function I(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return a},setClearColor:function(C,A=1){a.set(C),c=A,m(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(C){c=C,m(a,c)},render:b,addToRenderList:_,dispose:I}}function zH(n,e){let t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=h(null),o=r,s=!1;function a(w,N,W,Z,re){let Q=!1,U=u(Z,W,N);o!==U&&(o=U,l(o.object)),Q=f(w,Z,W,re),Q&&v(w,Z,W,re),re!==null&&e.update(re,n.ELEMENT_ARRAY_BUFFER),(Q||s)&&(s=!1,A(w,N,W,Z),re!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(re).buffer))}function c(){return n.createVertexArray()}function l(w){return n.bindVertexArray(w)}function d(w){return n.deleteVertexArray(w)}function u(w,N,W){let Z=W.wireframe===!0,re=i[w.id];re===void 0&&(re={},i[w.id]=re);let Q=re[N.id];Q===void 0&&(Q={},re[N.id]=Q);let U=Q[Z];return U===void 0&&(U=h(c()),Q[Z]=U),U}function h(w){let N=[],W=[],Z=[];for(let re=0;re<t;re++)N[re]=0,W[re]=0,Z[re]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:W,attributeDivisors:Z,object:w,attributes:{},index:null}}function f(w,N,W,Z){let re=o.attributes,Q=N.attributes,U=0,G=W.getAttributes();for(let L in G)if(G[L].location>=0){let pe=re[L],Ae=Q[L];if(Ae===void 0&&(L==="instanceMatrix"&&w.instanceMatrix&&(Ae=w.instanceMatrix),L==="instanceColor"&&w.instanceColor&&(Ae=w.instanceColor)),pe===void 0||pe.attribute!==Ae||Ae&&pe.data!==Ae.data)return!0;U++}return o.attributesNum!==U||o.index!==Z}function v(w,N,W,Z){let re={},Q=N.attributes,U=0,G=W.getAttributes();for(let L in G)if(G[L].location>=0){let pe=Q[L];pe===void 0&&(L==="instanceMatrix"&&w.instanceMatrix&&(pe=w.instanceMatrix),L==="instanceColor"&&w.instanceColor&&(pe=w.instanceColor));let Ae={};Ae.attribute=pe,pe&&pe.data&&(Ae.data=pe.data),re[L]=Ae,U++}o.attributes=re,o.attributesNum=U,o.index=Z}function b(){let w=o.newAttributes;for(let N=0,W=w.length;N<W;N++)w[N]=0}function _(w){m(w,0)}function m(w,N){let W=o.newAttributes,Z=o.enabledAttributes,re=o.attributeDivisors;W[w]=1,Z[w]===0&&(n.enableVertexAttribArray(w),Z[w]=1),re[w]!==N&&(n.vertexAttribDivisor(w,N),re[w]=N)}function I(){let w=o.newAttributes,N=o.enabledAttributes;for(let W=0,Z=N.length;W<Z;W++)N[W]!==w[W]&&(n.disableVertexAttribArray(W),N[W]=0)}function C(w,N,W,Z,re,Q,U){U===!0?n.vertexAttribIPointer(w,N,W,re,Q):n.vertexAttribPointer(w,N,W,Z,re,Q)}function A(w,N,W,Z){b();let re=Z.attributes,Q=W.getAttributes(),U=N.defaultAttributeValues;for(let G in Q){let L=Q[G];if(L.location>=0){let J=re[G];if(J===void 0&&(G==="instanceMatrix"&&w.instanceMatrix&&(J=w.instanceMatrix),G==="instanceColor"&&w.instanceColor&&(J=w.instanceColor)),J!==void 0){let pe=J.normalized,Ae=J.itemSize,Je=e.get(J);if(Je===void 0)continue;let It=Je.buffer,Xe=Je.type,Yt=Je.bytesPerElement,te=Xe===n.INT||Xe===n.UNSIGNED_INT||J.gpuType===vg;if(J.isInterleavedBufferAttribute){let K=J.data,Se=K.stride,Ue=J.offset;if(K.isInstancedInterleavedBuffer){for(let ke=0;ke<L.locationSize;ke++)m(L.location+ke,K.meshPerAttribute);w.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let ke=0;ke<L.locationSize;ke++)_(L.location+ke);n.bindBuffer(n.ARRAY_BUFFER,It);for(let ke=0;ke<L.locationSize;ke++)C(L.location+ke,Ae/L.locationSize,Xe,pe,Se*Yt,(Ue+Ae/L.locationSize*ke)*Yt,te)}else{if(J.isInstancedBufferAttribute){for(let K=0;K<L.locationSize;K++)m(L.location+K,J.meshPerAttribute);w.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let K=0;K<L.locationSize;K++)_(L.location+K);n.bindBuffer(n.ARRAY_BUFFER,It);for(let K=0;K<L.locationSize;K++)C(L.location+K,Ae/L.locationSize,Xe,pe,Ae*Yt,Ae/L.locationSize*K*Yt,te)}}else if(U!==void 0){let pe=U[G];if(pe!==void 0)switch(pe.length){case 2:n.vertexAttrib2fv(L.location,pe);break;case 3:n.vertexAttrib3fv(L.location,pe);break;case 4:n.vertexAttrib4fv(L.location,pe);break;default:n.vertexAttrib1fv(L.location,pe)}}}}I()}function P(){j();for(let w in i){let N=i[w];for(let W in N){let Z=N[W];for(let re in Z)d(Z[re].object),delete Z[re];delete N[W]}delete i[w]}}function T(w){if(i[w.id]===void 0)return;let N=i[w.id];for(let W in N){let Z=N[W];for(let re in Z)d(Z[re].object),delete Z[re];delete N[W]}delete i[w.id]}function O(w){for(let N in i){let W=i[N];if(W[w.id]===void 0)continue;let Z=W[w.id];for(let re in Z)d(Z[re].object),delete Z[re];delete W[w.id]}}function j(){E(),s=!0,o!==r&&(o=r,l(o.object))}function E(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:j,resetDefaultState:E,dispose:P,releaseStatesOfGeometry:T,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:_,disableUnusedAttributes:I}}function HH(n,e,t){let i;function r(l){i=l}function o(l,d){n.drawArrays(i,l,d),t.update(d,i,1)}function s(l,d,u){u!==0&&(n.drawArraysInstanced(i,l,d,u),t.update(d,i,u))}function a(l,d,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,l,0,d,0,u);let f=0;for(let v=0;v<u;v++)f+=d[v];t.update(f,i,1)}function c(l,d,u,h){if(u===0)return;let f=e.get("WEBGL_multi_draw");if(f===null)for(let v=0;v<l.length;v++)s(l[v],d[v],h[v]);else{f.multiDrawArraysInstancedWEBGL(i,l,0,d,0,h,0,u);let v=0;for(let b=0;b<u;b++)v+=d[b]*h[b];t.update(v,i,1)}}this.setMode=r,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=c}function jH(n,e,t,i){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){let O=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(O){return!(O!==cr&&i.convert(O)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(O){let j=O===Ga&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(O!==Or&&i.convert(O)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&O!==io&&!j)}function c(O){if(O==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let l=t.precision!==void 0?t.precision:"highp",d=c(l);d!==l&&(rt("WebGLRenderer:",l,"not supported, using",d,"instead."),l=d);let u=t.logarithmicDepthBuffer===!0,h=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_TEXTURE_SIZE),_=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),I=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),P=v>0,T=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:a,precision:l,logarithmicDepthBuffer:u,reversedDepthBuffer:h,maxTextures:f,maxVertexTextures:v,maxTextureSize:b,maxCubemapSize:_,maxAttributes:m,maxVertexUniforms:I,maxVaryings:C,maxFragmentUniforms:A,vertexTextures:P,maxSamples:T}}function GH(n){let e=this,t=null,i=0,r=!1,o=!1,s=new Zr,a=new ut,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){let f=u.length!==0||h||i!==0||r;return r=h,i=u.length,f},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(u,h){t=d(u,h,0)},this.setState=function(u,h,f){let v=u.clippingPlanes,b=u.clipIntersection,_=u.clipShadows,m=n.get(u);if(!r||v===null||v.length===0||o&&!_)o?d(null):l();else{let I=o?0:i,C=I*4,A=m.clippingState||null;c.value=A,A=d(v,h,C,f);for(let P=0;P!==C;++P)A[P]=t[P];m.clippingState=A,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=I}};function l(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(u,h,f,v){let b=u!==null?u.length:0,_=null;if(b!==0){if(_=c.value,v!==!0||_===null){let m=f+b*4,I=h.matrixWorldInverse;a.getNormalMatrix(I),(_===null||_.length<m)&&(_=new Float32Array(m));for(let C=0,A=f;C!==b;++C,A+=4)s.copy(u[C]).applyMatrix4(I,a),s.normal.toArray(_,A),_[A+3]=s.constant}c.value=_,c.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,_}}function WH(n){let e=new WeakMap;function t(s,a){return a===pg?s.mapping=Ha:a===mg&&(s.mapping=ja),s}function i(s){if(s&&s.isTexture){let a=s.mapping;if(a===pg||a===mg)if(e.has(s)){let c=e.get(s).texture;return t(c,s.mapping)}else{let c=s.image;if(c&&c.height>0){let l=new Gm(c.height);return l.fromEquirectangularTexture(n,s),e.set(s,l),s.addEventListener("dispose",r),t(l.texture,s.mapping)}else return null}}return s}function r(s){let a=s.target;a.removeEventListener("dispose",r);let c=e.get(a);c!==void 0&&(e.delete(a),c.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}var Gs=4,FP=[.125,.215,.35,.446,.526,.582],Ya=20,$H=256,ku=new Cu,LP=new Et,UM=null,VM=0,zM=0,HM=!1,qH=new H,e0=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,r=100,o={}){let{size:s=256,position:a=qH}=o;UM=this._renderer.getRenderTarget(),VM=this._renderer.getActiveCubeFace(),zM=this._renderer.getActiveMipmapLevel(),HM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);let c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,r,c,a),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=VP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=UP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(UM,VM,zM),this._renderer.xr.enabled=HM,e.scissorTest=!1,Ml(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ha||e.mapping===ja?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),UM=this._renderer.getRenderTarget(),VM=this._renderer.getActiveCubeFace(),zM=this._renderer.getActiveMipmapLevel(),HM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Vi,minFilter:Vi,generateMipmaps:!1,type:Ga,format:cr,colorSpace:Va,depthBuffer:!1},r=BP(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=BP(e,t,i);let{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=YH(o)),this._blurMaterial=ZH(o,e,t),this._ggxMaterial=XH(o,e,t)}return r}_compileMaterial(e){let t=new zi(new hi,e);this._renderer.compile(t,ku)}_sceneToCubeUV(e,t,i,r,o){let c=new Yn(90,1,t,i),l=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(LP),u.toneMapping=Ho,u.autoClear=!1,u.state.buffers.depth.getReversed()&&(u.setRenderTarget(r),u.clearDepth(),u.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new zi(new fl,new cu({name:"PMREM.Background",side:fi,depthWrite:!1,depthTest:!1})));let b=this._backgroundBox,_=b.material,m=!1,I=e.background;I?I.isColor&&(_.color.copy(I),e.background=null,m=!0):(_.color.copy(LP),m=!0);for(let C=0;C<6;C++){let A=C%3;A===0?(c.up.set(0,l[C],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x+d[C],o.y,o.z)):A===1?(c.up.set(0,0,l[C]),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y+d[C],o.z)):(c.up.set(0,l[C],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y,o.z+d[C]));let P=this._cubeSize;Ml(r,A*P,C>2?P:0,P,P),u.setRenderTarget(r),m&&u.render(b,c),u.render(e,c)}u.toneMapping=f,u.autoClear=h,e.background=I}_textureToCubeUV(e,t){let i=this._renderer,r=e.mapping===Ha||e.mapping===ja;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=VP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=UP());let o=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=o;let a=o.uniforms;a.envMap.value=e;let c=this._cubeSize;Ml(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(s,ku)}_applyPMREM(e){let t=this._renderer,i=t.autoClear;t.autoClear=!1;let r=this._lodMeshes.length;for(let o=1;o<r;o++)this._applyGGXFilter(e,o-1,o);t.autoClear=i}_applyGGXFilter(e,t,i){let r=this._renderer,o=this._pingPongRenderTarget,s=this._ggxMaterial,a=this._lodMeshes[i];a.material=s;let c=s.uniforms,l=i/(this._lodMeshes.length-1),d=t/(this._lodMeshes.length-1),u=Math.sqrt(l*l-d*d),h=.05+l*.95,f=u*h,{_lodMax:v}=this,b=this._sizeLods[i],_=3*b*(i>v-Gs?i-v+Gs:0),m=4*(this._cubeSize-b);c.envMap.value=e.texture,c.roughness.value=f,c.mipInt.value=v-t,Ml(o,_,m,3*b,2*b),r.setRenderTarget(o),r.render(a,ku),c.envMap.value=o.texture,c.roughness.value=0,c.mipInt.value=v-i,Ml(e,_,m,3*b,2*b),r.setRenderTarget(e),r.render(a,ku)}_blur(e,t,i,r,o){let s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",o),this._halfBlur(s,e,i,i,r,"longitudinal",o)}_halfBlur(e,t,i,r,o,s,a){let c=this._renderer,l=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Dt("blur direction must be either latitudinal or longitudinal!");let d=3,u=this._lodMeshes[r];u.material=l;let h=l.uniforms,f=this._sizeLods[i]-1,v=isFinite(o)?Math.PI/(2*f):2*Math.PI/(2*Ya-1),b=o/v,_=isFinite(o)?1+Math.floor(d*b):Ya;_>Ya&&rt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Ya}`);let m=[],I=0;for(let O=0;O<Ya;++O){let j=O/b,E=Math.exp(-j*j/2);m.push(E),O===0?I+=E:O<_&&(I+=2*E)}for(let O=0;O<m.length;O++)m[O]=m[O]/I;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=m,h.latitudinal.value=s==="latitudinal",a&&(h.poleAxis.value=a);let{_lodMax:C}=this;h.dTheta.value=v,h.mipInt.value=C-i;let A=this._sizeLods[r],P=3*A*(r>C-Gs?r-C+Gs:0),T=4*(this._cubeSize-A);Ml(t,P,T,3*A,2*A),c.setRenderTarget(t),c.render(u,ku)}};function YH(n){let e=[],t=[],i=[],r=n,o=n-Gs+1+FP.length;for(let s=0;s<o;s++){let a=Math.pow(2,r);e.push(a);let c=1/a;s>n-Gs?c=FP[s-n+Gs-1]:s===0&&(c=0),t.push(c);let l=1/(a-2),d=-l,u=1+l,h=[d,d,u,d,u,u,d,d,u,u,d,u],f=6,v=6,b=3,_=2,m=1,I=new Float32Array(b*v*f),C=new Float32Array(_*v*f),A=new Float32Array(m*v*f);for(let T=0;T<f;T++){let O=T%3*2/3-1,j=T>2?0:-1,E=[O,j,0,O+2/3,j,0,O+2/3,j+1,0,O,j,0,O+2/3,j+1,0,O,j+1,0];I.set(E,b*v*T),C.set(h,_*v*T);let w=[T,T,T,T,T,T];A.set(w,m*v*T)}let P=new hi;P.setAttribute("position",new ui(I,b)),P.setAttribute("uv",new ui(C,_)),P.setAttribute("faceIndex",new ui(A,m)),i.push(new zi(P,null)),r>Gs&&r--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function BP(n,e,t){let i=new Qr(n,e,t);return i.texture.mapping=Iu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ml(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function XH(n,e,t){return new ar({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:$H,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:n0(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:no,depthTest:!1,depthWrite:!1})}function ZH(n,e,t){let i=new Float32Array(Ya),r=new H(0,1,0);return new ar({name:"SphericalGaussianBlur",defines:{n:Ya,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:n0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:no,depthTest:!1,depthWrite:!1})}function UP(){return new ar({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:n0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:no,depthTest:!1,depthWrite:!1})}function VP(){return new ar({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:n0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:no,depthTest:!1,depthWrite:!1})}function n0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KH(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){let c=a.mapping,l=c===pg||c===mg,d=c===Ha||c===ja;if(l||d){let u=e.get(a),h=u!==void 0?u.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return t===null&&(t=new e0(n)),u=l?t.fromEquirectangular(a,u):t.fromCubemap(a,u),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),u.texture;if(u!==void 0)return u.texture;{let f=a.image;return l&&f&&f.height>0||d&&f&&r(f)?(t===null&&(t=new e0(n)),u=l?t.fromEquirectangular(a):t.fromCubemap(a),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),a.addEventListener("dispose",o),u.texture):null}}}return a}function r(a){let c=0,l=6;for(let d=0;d<l;d++)a[d]!==void 0&&c++;return c===l}function o(a){let c=a.target;c.removeEventListener("dispose",o);let l=e.get(c);l!==void 0&&(e.delete(c),l.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function QH(n){let e={};function t(i){if(e[i]!==void 0)return e[i];let r=n.getExtension(i);return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){let r=t(i);return r===null&&dl("WebGLRenderer: "+i+" extension not supported."),r}}}function JH(n,e,t,i){let r={},o=new WeakMap;function s(u){let h=u.target;h.index!==null&&e.remove(h.index);for(let v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",s),delete r[h.id];let f=o.get(h);f&&(e.remove(f),o.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(u,h){return r[h.id]===!0||(h.addEventListener("dispose",s),r[h.id]=!0,t.memory.geometries++),h}function c(u){let h=u.attributes;for(let f in h)e.update(h[f],n.ARRAY_BUFFER)}function l(u){let h=[],f=u.index,v=u.attributes.position,b=0;if(f!==null){let I=f.array;b=f.version;for(let C=0,A=I.length;C<A;C+=3){let P=I[C+0],T=I[C+1],O=I[C+2];h.push(P,T,T,O,O,P)}}else if(v!==void 0){let I=v.array;b=v.version;for(let C=0,A=I.length/3-1;C<A;C+=3){let P=C+0,T=C+1,O=C+2;h.push(P,T,T,O,O,P)}}else return;let _=new(RM(h)?du:lu)(h,1);_.version=b;let m=o.get(u);m&&e.remove(m),o.set(u,_)}function d(u){let h=o.get(u);if(h){let f=u.index;f!==null&&h.version<f.version&&l(u)}else l(u);return o.get(u)}return{get:a,update:c,getWireframeAttribute:d}}function ej(n,e,t){let i;function r(h){i=h}let o,s;function a(h){o=h.type,s=h.bytesPerElement}function c(h,f){n.drawElements(i,f,o,h*s),t.update(f,i,1)}function l(h,f,v){v!==0&&(n.drawElementsInstanced(i,f,o,h*s,v),t.update(f,i,v))}function d(h,f,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,f,0,o,h,0,v);let _=0;for(let m=0;m<v;m++)_+=f[m];t.update(_,i,1)}function u(h,f,v,b){if(v===0)return;let _=e.get("WEBGL_multi_draw");if(_===null)for(let m=0;m<h.length;m++)l(h[m]/s,f[m],b[m]);else{_.multiDrawElementsInstancedWEBGL(i,f,0,o,h,0,b,0,v);let m=0;for(let I=0;I<v;I++)m+=f[I]*b[I];t.update(m,i,1)}}this.setMode=r,this.setIndex=a,this.render=c,this.renderInstances=l,this.renderMultiDraw=d,this.renderMultiDrawInstances=u}function tj(n){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,s,a){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=a*(o/3);break;case n.LINES:t.lines+=a*(o/2);break;case n.LINE_STRIP:t.lines+=a*(o-1);break;case n.LINE_LOOP:t.lines+=a*o;break;case n.POINTS:t.points+=a*o;break;default:Dt("WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function nj(n,e,t){let i=new WeakMap,r=new Xt;function o(s,a,c){let l=s.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=d!==void 0?d.length:0,h=i.get(a);if(h===void 0||h.count!==u){let w=function(){j.dispose(),i.delete(a),a.removeEventListener("dispose",w)};var f=w;h!==void 0&&h.texture.dispose();let v=a.morphAttributes.position!==void 0,b=a.morphAttributes.normal!==void 0,_=a.morphAttributes.color!==void 0,m=a.morphAttributes.position||[],I=a.morphAttributes.normal||[],C=a.morphAttributes.color||[],A=0;v===!0&&(A=1),b===!0&&(A=2),_===!0&&(A=3);let P=a.attributes.position.count*A,T=1;P>e.maxTextureSize&&(T=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);let O=new Float32Array(P*T*4*u),j=new su(O,P,T,u);j.type=io,j.needsUpdate=!0;let E=A*4;for(let N=0;N<u;N++){let W=m[N],Z=I[N],re=C[N],Q=P*T*4*N;for(let U=0;U<W.count;U++){let G=U*E;v===!0&&(r.fromBufferAttribute(W,U),O[Q+G+0]=r.x,O[Q+G+1]=r.y,O[Q+G+2]=r.z,O[Q+G+3]=0),b===!0&&(r.fromBufferAttribute(Z,U),O[Q+G+4]=r.x,O[Q+G+5]=r.y,O[Q+G+6]=r.z,O[Q+G+7]=0),_===!0&&(r.fromBufferAttribute(re,U),O[Q+G+8]=r.x,O[Q+G+9]=r.y,O[Q+G+10]=r.z,O[Q+G+11]=re.itemSize===4?r.w:1)}}h={count:u,texture:j,size:new zt(P,T)},i.set(a,h),a.addEventListener("dispose",w)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let v=0;for(let _=0;_<l.length;_++)v+=l[_];let b=a.morphTargetsRelative?1:1-v;c.getUniforms().setValue(n,"morphTargetBaseInfluence",b),c.getUniforms().setValue(n,"morphTargetInfluences",l)}c.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:o}}function ij(n,e,t,i){let r=new WeakMap;function o(c){let l=i.render.frame,d=c.geometry,u=e.get(c,d);if(r.get(u)!==l&&(e.update(u),r.set(u,l)),c.isInstancedMesh&&(c.hasEventListener("dispose",a)===!1&&c.addEventListener("dispose",a),r.get(c)!==l&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){let h=c.skeleton;r.get(h)!==l&&(h.update(),r.set(h,l))}return u}function s(){r=new WeakMap}function a(c){let l=c.target;l.removeEventListener("dispose",a),t.remove(l.instanceMatrix),l.instanceColor!==null&&t.remove(l.instanceColor)}return{update:o,dispose:s}}var oO=new Go,zP=new vu(1,1),sO=new su,aO=new Hm,cO=new hu,HP=[],jP=[],GP=new Float32Array(16),WP=new Float32Array(9),$P=new Float32Array(4);function Cl(n,e,t){let i=n[0];if(i<=0||i>0)return n;let r=e*t,o=HP[r];if(o===void 0&&(o=new Float32Array(r),HP[r]=o),e!==0){i.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Bn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Un(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function i0(n,e){let t=jP[e];t===void 0&&(t=new Int32Array(e),jP[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function rj(n,e){let t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function oj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2fv(this.addr,e),Un(t,e)}}function sj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Bn(t,e))return;n.uniform3fv(this.addr,e),Un(t,e)}}function aj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4fv(this.addr,e),Un(t,e)}}function cj(n,e){let t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Un(t,e)}else{if(Bn(t,i))return;$P.set(i),n.uniformMatrix2fv(this.addr,!1,$P),Un(t,i)}}function lj(n,e){let t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Un(t,e)}else{if(Bn(t,i))return;WP.set(i),n.uniformMatrix3fv(this.addr,!1,WP),Un(t,i)}}function dj(n,e){let t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Un(t,e)}else{if(Bn(t,i))return;GP.set(i),n.uniformMatrix4fv(this.addr,!1,GP),Un(t,i)}}function uj(n,e){let t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function hj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2iv(this.addr,e),Un(t,e)}}function fj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3iv(this.addr,e),Un(t,e)}}function pj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4iv(this.addr,e),Un(t,e)}}function mj(n,e){let t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function gj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2uiv(this.addr,e),Un(t,e)}}function vj(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3uiv(this.addr,e),Un(t,e)}}function _j(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4uiv(this.addr,e),Un(t,e)}}function bj(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let o;this.type===n.SAMPLER_2D_SHADOW?(zP.compareFunction=PM,o=zP):o=oO,t.setTexture2D(e||o,r)}function yj(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||aO,r)}function xj(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||cO,r)}function Mj(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||sO,r)}function wj(n){switch(n){case 5126:return rj;case 35664:return oj;case 35665:return sj;case 35666:return aj;case 35674:return cj;case 35675:return lj;case 35676:return dj;case 5124:case 35670:return uj;case 35667:case 35671:return hj;case 35668:case 35672:return fj;case 35669:case 35673:return pj;case 5125:return mj;case 36294:return gj;case 36295:return vj;case 36296:return _j;case 35678:case 36198:case 36298:case 36306:case 35682:return bj;case 35679:case 36299:case 36307:return yj;case 35680:case 36300:case 36308:case 36293:return xj;case 36289:case 36303:case 36311:case 36292:return Mj}}function Cj(n,e){n.uniform1fv(this.addr,e)}function Sj(n,e){let t=Cl(e,this.size,2);n.uniform2fv(this.addr,t)}function Ej(n,e){let t=Cl(e,this.size,3);n.uniform3fv(this.addr,t)}function Ij(n,e){let t=Cl(e,this.size,4);n.uniform4fv(this.addr,t)}function Tj(n,e){let t=Cl(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Dj(n,e){let t=Cl(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Aj(n,e){let t=Cl(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Pj(n,e){n.uniform1iv(this.addr,e)}function Oj(n,e){n.uniform2iv(this.addr,e)}function Rj(n,e){n.uniform3iv(this.addr,e)}function kj(n,e){n.uniform4iv(this.addr,e)}function Nj(n,e){n.uniform1uiv(this.addr,e)}function Fj(n,e){n.uniform2uiv(this.addr,e)}function Lj(n,e){n.uniform3uiv(this.addr,e)}function Bj(n,e){n.uniform4uiv(this.addr,e)}function Uj(n,e,t){let i=this.cache,r=e.length,o=i0(t,r);Bn(i,o)||(n.uniform1iv(this.addr,o),Un(i,o));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||oO,o[s])}function Vj(n,e,t){let i=this.cache,r=e.length,o=i0(t,r);Bn(i,o)||(n.uniform1iv(this.addr,o),Un(i,o));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||aO,o[s])}function zj(n,e,t){let i=this.cache,r=e.length,o=i0(t,r);Bn(i,o)||(n.uniform1iv(this.addr,o),Un(i,o));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||cO,o[s])}function Hj(n,e,t){let i=this.cache,r=e.length,o=i0(t,r);Bn(i,o)||(n.uniform1iv(this.addr,o),Un(i,o));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||sO,o[s])}function jj(n){switch(n){case 5126:return Cj;case 35664:return Sj;case 35665:return Ej;case 35666:return Ij;case 35674:return Tj;case 35675:return Dj;case 35676:return Aj;case 5124:case 35670:return Pj;case 35667:case 35671:return Oj;case 35668:case 35672:return Rj;case 35669:case 35673:return kj;case 5125:return Nj;case 36294:return Fj;case 36295:return Lj;case 36296:return Bj;case 35678:case 36198:case 36298:case 36306:case 35682:return Uj;case 35679:case 36299:case 36307:return Vj;case 35680:case 36300:case 36308:case 36293:return zj;case 36289:case 36303:case 36311:case 36292:return Hj}}var GM=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=wj(t.type)}},WM=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=jj(t.type)}},$M=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){let r=this.seq;for(let o=0,s=r.length;o!==s;++o){let a=r[o];a.setValue(e,t[a.id],i)}}},jM=/(\w+)(\])?(\[|\.)?/g;function qP(n,e){n.seq.push(e),n.map[e.id]=e}function Gj(n,e,t){let i=n.name,r=i.length;for(jM.lastIndex=0;;){let o=jM.exec(i),s=jM.lastIndex,a=o[1],c=o[2]==="]",l=o[3];if(c&&(a=a|0),l===void 0||l==="["&&s+2===r){qP(t,l===void 0?new GM(a,n,e):new WM(a,n,e));break}else{let u=t.map[a];u===void 0&&(u=new $M(a),qP(t,u)),t=u}}}var wl=class{constructor(e,t){this.seq=[],this.map={};let i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){let o=e.getActiveUniform(t,r),s=e.getUniformLocation(t,o.name);Gj(o,s,this)}}setValue(e,t,i,r){let o=this.map[t];o!==void 0&&o.setValue(e,i,r)}setOptional(e,t,i){let r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let o=0,s=t.length;o!==s;++o){let a=t[o],c=i[a.id];c.needsUpdate!==!1&&a.setValue(e,c.value,r)}}static seqWithValue(e,t){let i=[];for(let r=0,o=e.length;r!==o;++r){let s=e[r];s.id in t&&i.push(s)}return i}};function YP(n,e,t){let i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}var Wj=37297,$j=0;function qj(n,e){let t=n.split(`
`),i=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=r;s<o;s++){let a=s+1;i.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return i.join(`
`)}var XP=new ut;function Yj(n){Vt._getMatrix(XP,Vt.workingColorSpace,n);let e=`mat3( ${XP.elements.map(t=>t.toFixed(4))} )`;switch(Vt.getTransfer(n)){case iu:return[e,"LinearTransferOETF"];case Zt:return[e,"sRGBTransferOETF"];default:return rt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function ZP(n,e,t){let i=n.getShaderParameter(e,n.COMPILE_STATUS),o=(n.getShaderInfoLog(e)||"").trim();if(i&&o==="")return"";let s=/ERROR: 0:(\d+)/.exec(o);if(s){let a=parseInt(s[1]);return t.toUpperCase()+`

`+o+`

`+qj(n.getShaderSource(e),a)}else return o}function Xj(n,e){let t=Yj(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Zj(n,e){let t;switch(e){case pP:t="Linear";break;case mP:t="Reinhard";break;case gP:t="Cineon";break;case vP:t="ACESFilmic";break;case bP:t="AgX";break;case yP:t="Neutral";break;case _P:t="Custom";break;default:rt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}var Jg=new H;function Kj(){Vt.getLuminanceCoefficients(Jg);let n=Jg.x.toFixed(4),e=Jg.y.toFixed(4),t=Jg.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Qj(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Nu).join(`
`)}function Jj(n){let e=[];for(let t in n){let i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function e9(n,e){let t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){let o=n.getActiveAttrib(e,r),s=o.name,a=1;o.type===n.FLOAT_MAT2&&(a=2),o.type===n.FLOAT_MAT3&&(a=3),o.type===n.FLOAT_MAT4&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function Nu(n){return n!==""}function KP(n,e){let t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function QP(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var t9=/^[ \t]*#include +<([\w\d./]+)>/gm;function qM(n){return n.replace(t9,i9)}var n9=new Map;function i9(n,e){let t=bt[e];if(t===void 0){let i=n9.get(e);if(i!==void 0)t=bt[i],rt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return qM(t)}var r9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function JP(n){return n.replace(r9,o9)}function o9(n,e,t,i){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function eO(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function s9(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===bM?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===qA?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===eo&&(e="SHADOWMAP_TYPE_VSM"),e}function a9(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ha:case ja:e="ENVMAP_TYPE_CUBE";break;case Iu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function c9(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ja:e="ENVMAP_MODE_REFRACTION";break}return e}function l9(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case fg:e="ENVMAP_BLENDING_MULTIPLY";break;case hP:e="ENVMAP_BLENDING_MIX";break;case fP:e="ENVMAP_BLENDING_ADD";break}return e}function d9(n){let e=n.envMapCubeUVHeight;if(e===null)return null;let t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function u9(n,e,t,i){let r=n.getContext(),o=t.defines,s=t.vertexShader,a=t.fragmentShader,c=s9(t),l=a9(t),d=c9(t),u=l9(t),h=d9(t),f=Qj(t),v=Jj(o),b=r.createProgram(),_,m,I=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Nu).join(`
`),_.length>0&&(_+=`
`),m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Nu).join(`
`),m.length>0&&(m+=`
`)):(_=[eO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Nu).join(`
`),m=[eO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+d:"",t.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ho?"#define TONE_MAPPING":"",t.toneMapping!==Ho?bt.tonemapping_pars_fragment:"",t.toneMapping!==Ho?Zj("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",bt.colorspace_pars_fragment,Xj("linearToOutputTexel",t.outputColorSpace),Kj(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Nu).join(`
`)),s=qM(s),s=KP(s,t),s=QP(s,t),a=qM(a),a=KP(a,t),a=QP(a,t),s=JP(s),a=JP(a),t.isRawShaderMaterial!==!0&&(I=`#version 300 es
`,_=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,m=["#define varying in",t.glslVersion===OM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===OM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);let C=I+_+s,A=I+m+a,P=YP(r,r.VERTEX_SHADER,C),T=YP(r,r.FRAGMENT_SHADER,A);r.attachShader(b,P),r.attachShader(b,T),t.index0AttributeName!==void 0?r.bindAttribLocation(b,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(b,0,"position"),r.linkProgram(b);function O(N){if(n.debug.checkShaderErrors){let W=r.getProgramInfoLog(b)||"",Z=r.getShaderInfoLog(P)||"",re=r.getShaderInfoLog(T)||"",Q=W.trim(),U=Z.trim(),G=re.trim(),L=!0,J=!0;if(r.getProgramParameter(b,r.LINK_STATUS)===!1)if(L=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,b,P,T);else{let pe=ZP(r,P,"vertex"),Ae=ZP(r,T,"fragment");Dt("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(b,r.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+Q+`
`+pe+`
`+Ae)}else Q!==""?rt("WebGLProgram: Program Info Log:",Q):(U===""||G==="")&&(J=!1);J&&(N.diagnostics={runnable:L,programLog:Q,vertexShader:{log:U,prefix:_},fragmentShader:{log:G,prefix:m}})}r.deleteShader(P),r.deleteShader(T),j=new wl(r,b),E=e9(r,b)}let j;this.getUniforms=function(){return j===void 0&&O(this),j};let E;this.getAttributes=function(){return E===void 0&&O(this),E};let w=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return w===!1&&(w=r.getProgramParameter(b,Wj)),w},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(b),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=$j++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=P,this.fragmentShader=T,this}var h9=0,YM=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){let t=this.shaderCache,i=t.get(e);return i===void 0&&(i=new XM(e),t.set(e,i)),i}},XM=class{constructor(e){this.id=h9++,this.code=e,this.usedTimes=0}};function f9(n,e,t,i,r,o,s){let a=new au,c=new YM,l=new Set,d=[],u=r.logarithmicDepthBuffer,h=r.vertexTextures,f=r.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(E){return l.add(E),E===0?"uv":`uv${E}`}function _(E,w,N,W,Z){let re=W.fog,Q=Z.geometry,U=E.isMeshStandardMaterial?W.environment:null,G=(E.isMeshStandardMaterial?t:e).get(E.envMap||U),L=G&&G.mapping===Iu?G.image.height:null,J=v[E.type];E.precision!==null&&(f=r.getMaxPrecision(E.precision),f!==E.precision&&rt("WebGLProgram.getParameters:",E.precision,"not supported, using",f,"instead."));let pe=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,Ae=pe!==void 0?pe.length:0,Je=0;Q.morphAttributes.position!==void 0&&(Je=1),Q.morphAttributes.normal!==void 0&&(Je=2),Q.morphAttributes.color!==void 0&&(Je=3);let It,Xe,Yt,te;if(J){let Kt=ro[J];It=Kt.vertexShader,Xe=Kt.fragmentShader}else It=E.vertexShader,Xe=E.fragmentShader,c.update(E),Yt=c.getVertexShaderID(E),te=c.getFragmentShaderID(E);let K=n.getRenderTarget(),Se=n.state.buffers.depth.getReversed(),Ue=Z.isInstancedMesh===!0,ke=Z.isBatchedMesh===!0,gt=!!E.map,Gn=!!E.matcap,Tt=!!G,dn=!!E.aoMap,R=!!E.lightMap,At=!!E.bumpMap,Pt=!!E.normalMap,on=!!E.displacementMap,Re=!!E.emissiveMap,hn=!!E.metalnessMap,Ge=!!E.roughnessMap,at=E.anisotropy>0,D=E.clearcoat>0,x=E.dispersion>0,z=E.iridescence>0,ne=E.sheen>0,de=E.transmission>0,X=at&&!!E.anisotropyMap,Ve=D&&!!E.clearcoatMap,Me=D&&!!E.clearcoatNormalMap,We=D&&!!E.clearcoatRoughnessMap,Ne=z&&!!E.iridescenceMap,he=z&&!!E.iridescenceThicknessMap,ve=ne&&!!E.sheenColorMap,et=ne&&!!E.sheenRoughnessMap,Ze=!!E.specularMap,Ie=!!E.specularColorMap,nt=!!E.specularIntensityMap,k=de&&!!E.transmissionMap,we=de&&!!E.thicknessMap,be=!!E.gradientMap,ye=!!E.alphaMap,me=E.alphaTest>0,ie=!!E.alphaHash,Pe=!!E.extensions,st=Ho;E.toneMapped&&(K===null||K.isXRRenderTarget===!0)&&(st=n.toneMapping);let ln={shaderID:J,shaderType:E.type,shaderName:E.name,vertexShader:It,fragmentShader:Xe,defines:E.defines,customVertexShaderID:Yt,customFragmentShaderID:te,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:f,batching:ke,batchingColor:ke&&Z._colorsTexture!==null,instancing:Ue,instancingColor:Ue&&Z.instanceColor!==null,instancingMorph:Ue&&Z.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:K===null?n.outputColorSpace:K.isXRRenderTarget===!0?K.texture.colorSpace:Va,alphaToCoverage:!!E.alphaToCoverage,map:gt,matcap:Gn,envMap:Tt,envMapMode:Tt&&G.mapping,envMapCubeUVHeight:L,aoMap:dn,lightMap:R,bumpMap:At,normalMap:Pt,displacementMap:h&&on,emissiveMap:Re,normalMapObjectSpace:Pt&&E.normalMapType===CP,normalMapTangentSpace:Pt&&E.normalMapType===AM,metalnessMap:hn,roughnessMap:Ge,anisotropy:at,anisotropyMap:X,clearcoat:D,clearcoatMap:Ve,clearcoatNormalMap:Me,clearcoatRoughnessMap:We,dispersion:x,iridescence:z,iridescenceMap:Ne,iridescenceThicknessMap:he,sheen:ne,sheenColorMap:ve,sheenRoughnessMap:et,specularMap:Ze,specularColorMap:Ie,specularIntensityMap:nt,transmission:de,transmissionMap:k,thicknessMap:we,gradientMap:be,opaque:E.transparent===!1&&E.blending===Ba&&E.alphaToCoverage===!1,alphaMap:ye,alphaTest:me,alphaHash:ie,combine:E.combine,mapUv:gt&&b(E.map.channel),aoMapUv:dn&&b(E.aoMap.channel),lightMapUv:R&&b(E.lightMap.channel),bumpMapUv:At&&b(E.bumpMap.channel),normalMapUv:Pt&&b(E.normalMap.channel),displacementMapUv:on&&b(E.displacementMap.channel),emissiveMapUv:Re&&b(E.emissiveMap.channel),metalnessMapUv:hn&&b(E.metalnessMap.channel),roughnessMapUv:Ge&&b(E.roughnessMap.channel),anisotropyMapUv:X&&b(E.anisotropyMap.channel),clearcoatMapUv:Ve&&b(E.clearcoatMap.channel),clearcoatNormalMapUv:Me&&b(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:We&&b(E.clearcoatRoughnessMap.channel),iridescenceMapUv:Ne&&b(E.iridescenceMap.channel),iridescenceThicknessMapUv:he&&b(E.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&b(E.sheenColorMap.channel),sheenRoughnessMapUv:et&&b(E.sheenRoughnessMap.channel),specularMapUv:Ze&&b(E.specularMap.channel),specularColorMapUv:Ie&&b(E.specularColorMap.channel),specularIntensityMapUv:nt&&b(E.specularIntensityMap.channel),transmissionMapUv:k&&b(E.transmissionMap.channel),thicknessMapUv:we&&b(E.thicknessMap.channel),alphaMapUv:ye&&b(E.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Pt||at),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:Z.isPoints===!0&&!!Q.attributes.uv&&(gt||ye),fog:!!re,useFog:E.fog===!0,fogExp2:!!re&&re.isFogExp2,flatShading:E.flatShading===!0&&E.wireframe===!1,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:u,reversedDepthBuffer:Se,skinning:Z.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:Ae,morphTextureStride:Je,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:st,decodeVideoTexture:gt&&E.map.isVideoTexture===!0&&Vt.getTransfer(E.map.colorSpace)===Zt,decodeVideoTextureEmissive:Re&&E.emissiveMap.isVideoTexture===!0&&Vt.getTransfer(E.emissiveMap.colorSpace)===Zt,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===to,flipSided:E.side===fi,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Pe&&E.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Pe&&E.extensions.multiDraw===!0||ke)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return ln.vertexUv1s=l.has(1),ln.vertexUv2s=l.has(2),ln.vertexUv3s=l.has(3),l.clear(),ln}function m(E){let w=[];if(E.shaderID?w.push(E.shaderID):(w.push(E.customVertexShaderID),w.push(E.customFragmentShaderID)),E.defines!==void 0)for(let N in E.defines)w.push(N),w.push(E.defines[N]);return E.isRawShaderMaterial===!1&&(I(w,E),C(w,E),w.push(n.outputColorSpace)),w.push(E.customProgramCacheKey),w.join()}function I(E,w){E.push(w.precision),E.push(w.outputColorSpace),E.push(w.envMapMode),E.push(w.envMapCubeUVHeight),E.push(w.mapUv),E.push(w.alphaMapUv),E.push(w.lightMapUv),E.push(w.aoMapUv),E.push(w.bumpMapUv),E.push(w.normalMapUv),E.push(w.displacementMapUv),E.push(w.emissiveMapUv),E.push(w.metalnessMapUv),E.push(w.roughnessMapUv),E.push(w.anisotropyMapUv),E.push(w.clearcoatMapUv),E.push(w.clearcoatNormalMapUv),E.push(w.clearcoatRoughnessMapUv),E.push(w.iridescenceMapUv),E.push(w.iridescenceThicknessMapUv),E.push(w.sheenColorMapUv),E.push(w.sheenRoughnessMapUv),E.push(w.specularMapUv),E.push(w.specularColorMapUv),E.push(w.specularIntensityMapUv),E.push(w.transmissionMapUv),E.push(w.thicknessMapUv),E.push(w.combine),E.push(w.fogExp2),E.push(w.sizeAttenuation),E.push(w.morphTargetsCount),E.push(w.morphAttributeCount),E.push(w.numDirLights),E.push(w.numPointLights),E.push(w.numSpotLights),E.push(w.numSpotLightMaps),E.push(w.numHemiLights),E.push(w.numRectAreaLights),E.push(w.numDirLightShadows),E.push(w.numPointLightShadows),E.push(w.numSpotLightShadows),E.push(w.numSpotLightShadowsWithMaps),E.push(w.numLightProbes),E.push(w.shadowMapType),E.push(w.toneMapping),E.push(w.numClippingPlanes),E.push(w.numClipIntersection),E.push(w.depthPacking)}function C(E,w){a.disableAll(),w.supportsVertexTextures&&a.enable(0),w.instancing&&a.enable(1),w.instancingColor&&a.enable(2),w.instancingMorph&&a.enable(3),w.matcap&&a.enable(4),w.envMap&&a.enable(5),w.normalMapObjectSpace&&a.enable(6),w.normalMapTangentSpace&&a.enable(7),w.clearcoat&&a.enable(8),w.iridescence&&a.enable(9),w.alphaTest&&a.enable(10),w.vertexColors&&a.enable(11),w.vertexAlphas&&a.enable(12),w.vertexUv1s&&a.enable(13),w.vertexUv2s&&a.enable(14),w.vertexUv3s&&a.enable(15),w.vertexTangents&&a.enable(16),w.anisotropy&&a.enable(17),w.alphaHash&&a.enable(18),w.batching&&a.enable(19),w.dispersion&&a.enable(20),w.batchingColor&&a.enable(21),w.gradientMap&&a.enable(22),E.push(a.mask),a.disableAll(),w.fog&&a.enable(0),w.useFog&&a.enable(1),w.flatShading&&a.enable(2),w.logarithmicDepthBuffer&&a.enable(3),w.reversedDepthBuffer&&a.enable(4),w.skinning&&a.enable(5),w.morphTargets&&a.enable(6),w.morphNormals&&a.enable(7),w.morphColors&&a.enable(8),w.premultipliedAlpha&&a.enable(9),w.shadowMapEnabled&&a.enable(10),w.doubleSided&&a.enable(11),w.flipSided&&a.enable(12),w.useDepthPacking&&a.enable(13),w.dithering&&a.enable(14),w.transmission&&a.enable(15),w.sheen&&a.enable(16),w.opaque&&a.enable(17),w.pointsUvs&&a.enable(18),w.decodeVideoTexture&&a.enable(19),w.decodeVideoTextureEmissive&&a.enable(20),w.alphaToCoverage&&a.enable(21),E.push(a.mask)}function A(E){let w=v[E.type],N;if(w){let W=ro[w];N=NP.clone(W.uniforms)}else N=E.uniforms;return N}function P(E,w){let N;for(let W=0,Z=d.length;W<Z;W++){let re=d[W];if(re.cacheKey===w){N=re,++N.usedTimes;break}}return N===void 0&&(N=new u9(n,w,E,o),d.push(N)),N}function T(E){if(--E.usedTimes===0){let w=d.indexOf(E);d[w]=d[d.length-1],d.pop(),E.destroy()}}function O(E){c.remove(E)}function j(){c.dispose()}return{getParameters:_,getProgramCacheKey:m,getUniforms:A,acquireProgram:P,releaseProgram:T,releaseShaderCache:O,programs:d,dispose:j}}function p9(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function i(s){n.delete(s)}function r(s,a,c){n.get(s)[a]=c}function o(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:o}}function m9(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function tO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function nO(){let n=[],e=0,t=[],i=[],r=[];function o(){e=0,t.length=0,i.length=0,r.length=0}function s(u,h,f,v,b,_){let m=n[e];return m===void 0?(m={id:u.id,object:u,geometry:h,material:f,groupOrder:v,renderOrder:u.renderOrder,z:b,group:_},n[e]=m):(m.id=u.id,m.object=u,m.geometry=h,m.material=f,m.groupOrder=v,m.renderOrder=u.renderOrder,m.z=b,m.group=_),e++,m}function a(u,h,f,v,b,_){let m=s(u,h,f,v,b,_);f.transmission>0?i.push(m):f.transparent===!0?r.push(m):t.push(m)}function c(u,h,f,v,b,_){let m=s(u,h,f,v,b,_);f.transmission>0?i.unshift(m):f.transparent===!0?r.unshift(m):t.unshift(m)}function l(u,h){t.length>1&&t.sort(u||m9),i.length>1&&i.sort(h||tO),r.length>1&&r.sort(h||tO)}function d(){for(let u=e,h=n.length;u<h;u++){let f=n[u];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:t,transmissive:i,transparent:r,init:o,push:a,unshift:c,finish:d,sort:l}}function g9(){let n=new WeakMap;function e(i,r){let o=n.get(i),s;return o===void 0?(s=new nO,n.set(i,[s])):r>=o.length?(s=new nO,o.push(s)):s=o[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function v9(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new H,color:new Et};break;case"SpotLight":t={position:new H,direction:new H,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new Et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":t={color:new Et,position:new H,halfWidth:new H,halfHeight:new H};break}return n[e.id]=t,t}}}function _9(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}var b9=0;function y9(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function x9(n){let e=new v9,t=_9(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)i.probe.push(new H);let r=new H,o=new un,s=new un;function a(l){let d=0,u=0,h=0;for(let E=0;E<9;E++)i.probe[E].set(0,0,0);let f=0,v=0,b=0,_=0,m=0,I=0,C=0,A=0,P=0,T=0,O=0;l.sort(y9);for(let E=0,w=l.length;E<w;E++){let N=l[E],W=N.color,Z=N.intensity,re=N.distance,Q=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)d+=W.r*Z,u+=W.g*Z,h+=W.b*Z;else if(N.isLightProbe){for(let U=0;U<9;U++)i.probe[U].addScaledVector(N.sh.coefficients[U],Z);O++}else if(N.isDirectionalLight){let U=e.get(N);if(U.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){let G=N.shadow,L=t.get(N);L.shadowIntensity=G.intensity,L.shadowBias=G.bias,L.shadowNormalBias=G.normalBias,L.shadowRadius=G.radius,L.shadowMapSize=G.mapSize,i.directionalShadow[f]=L,i.directionalShadowMap[f]=Q,i.directionalShadowMatrix[f]=N.shadow.matrix,I++}i.directional[f]=U,f++}else if(N.isSpotLight){let U=e.get(N);U.position.setFromMatrixPosition(N.matrixWorld),U.color.copy(W).multiplyScalar(Z),U.distance=re,U.coneCos=Math.cos(N.angle),U.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),U.decay=N.decay,i.spot[b]=U;let G=N.shadow;if(N.map&&(i.spotLightMap[P]=N.map,P++,G.updateMatrices(N),N.castShadow&&T++),i.spotLightMatrix[b]=G.matrix,N.castShadow){let L=t.get(N);L.shadowIntensity=G.intensity,L.shadowBias=G.bias,L.shadowNormalBias=G.normalBias,L.shadowRadius=G.radius,L.shadowMapSize=G.mapSize,i.spotShadow[b]=L,i.spotShadowMap[b]=Q,A++}b++}else if(N.isRectAreaLight){let U=e.get(N);U.color.copy(W).multiplyScalar(Z),U.halfWidth.set(N.width*.5,0,0),U.halfHeight.set(0,N.height*.5,0),i.rectArea[_]=U,_++}else if(N.isPointLight){let U=e.get(N);if(U.color.copy(N.color).multiplyScalar(N.intensity),U.distance=N.distance,U.decay=N.decay,N.castShadow){let G=N.shadow,L=t.get(N);L.shadowIntensity=G.intensity,L.shadowBias=G.bias,L.shadowNormalBias=G.normalBias,L.shadowRadius=G.radius,L.shadowMapSize=G.mapSize,L.shadowCameraNear=G.camera.near,L.shadowCameraFar=G.camera.far,i.pointShadow[v]=L,i.pointShadowMap[v]=Q,i.pointShadowMatrix[v]=N.shadow.matrix,C++}i.point[v]=U,v++}else if(N.isHemisphereLight){let U=e.get(N);U.skyColor.copy(N.color).multiplyScalar(Z),U.groundColor.copy(N.groundColor).multiplyScalar(Z),i.hemi[m]=U,m++}}_>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=xe.LTC_FLOAT_1,i.rectAreaLTC2=xe.LTC_FLOAT_2):(i.rectAreaLTC1=xe.LTC_HALF_1,i.rectAreaLTC2=xe.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=u,i.ambient[2]=h;let j=i.hash;(j.directionalLength!==f||j.pointLength!==v||j.spotLength!==b||j.rectAreaLength!==_||j.hemiLength!==m||j.numDirectionalShadows!==I||j.numPointShadows!==C||j.numSpotShadows!==A||j.numSpotMaps!==P||j.numLightProbes!==O)&&(i.directional.length=f,i.spot.length=b,i.rectArea.length=_,i.point.length=v,i.hemi.length=m,i.directionalShadow.length=I,i.directionalShadowMap.length=I,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=I,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=A+P-T,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=T,i.numLightProbes=O,j.directionalLength=f,j.pointLength=v,j.spotLength=b,j.rectAreaLength=_,j.hemiLength=m,j.numDirectionalShadows=I,j.numPointShadows=C,j.numSpotShadows=A,j.numSpotMaps=P,j.numLightProbes=O,i.version=b9++)}function c(l,d){let u=0,h=0,f=0,v=0,b=0,_=d.matrixWorldInverse;for(let m=0,I=l.length;m<I;m++){let C=l[m];if(C.isDirectionalLight){let A=i.directional[u];A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(_),u++}else if(C.isSpotLight){let A=i.spot[f];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(_),A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(_),f++}else if(C.isRectAreaLight){let A=i.rectArea[v];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(_),s.identity(),o.copy(C.matrixWorld),o.premultiply(_),s.extractRotation(o),A.halfWidth.set(C.width*.5,0,0),A.halfHeight.set(0,C.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),v++}else if(C.isPointLight){let A=i.point[h];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(_),h++}else if(C.isHemisphereLight){let A=i.hemi[b];A.direction.setFromMatrixPosition(C.matrixWorld),A.direction.transformDirection(_),b++}}}return{setup:a,setupView:c,state:i}}function iO(n){let e=new x9(n),t=[],i=[];function r(d){l.camera=d,t.length=0,i.length=0}function o(d){t.push(d)}function s(d){i.push(d)}function a(){e.setup(t)}function c(d){e.setupView(t,d)}let l={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:l,setupLights:a,setupLightsView:c,pushLight:o,pushShadow:s}}function M9(n){let e=new WeakMap;function t(r,o=0){let s=e.get(r),a;return s===void 0?(a=new iO(n),e.set(r,[a])):o>=s.length?(a=new iO(n),s.push(a)):a=s[o],a}function i(){e=new WeakMap}return{get:t,dispose:i}}var w9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,C9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function S9(n,e,t){let i=new ml,r=new zt,o=new zt,s=new Xt,a=new Ym({depthPacking:wP}),c=new Xm,l={},d=t.maxTextureSize,u={[Uo]:fi,[fi]:Uo,[to]:to},h=new ar({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new zt},radius:{value:4}},vertexShader:w9,fragmentShader:C9}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let v=new hi;v.setAttribute("position",new ui(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let b=new zi(v,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bM;let m=this.type;this.render=function(T,O,j){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||T.length===0)return;let E=n.getRenderTarget(),w=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),W=n.state;W.setBlending(no),W.buffers.depth.getReversed()===!0?W.buffers.color.setClear(0,0,0,0):W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);let Z=m!==eo&&this.type===eo,re=m===eo&&this.type!==eo;for(let Q=0,U=T.length;Q<U;Q++){let G=T[Q],L=G.shadow;if(L===void 0){rt("WebGLShadowMap:",G,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;r.copy(L.mapSize);let J=L.getFrameExtents();if(r.multiply(J),o.copy(L.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(o.x=Math.floor(d/J.x),r.x=o.x*J.x,L.mapSize.x=o.x),r.y>d&&(o.y=Math.floor(d/J.y),r.y=o.y*J.y,L.mapSize.y=o.y)),L.map===null||Z===!0||re===!0){let Ae=this.type!==eo?{minFilter:Si,magFilter:Si}:{};L.map!==null&&L.map.dispose(),L.map=new Qr(r.x,r.y,Ae),L.map.texture.name=G.name+".shadowMap",L.camera.updateProjectionMatrix()}n.setRenderTarget(L.map),n.clear();let pe=L.getViewportCount();for(let Ae=0;Ae<pe;Ae++){let Je=L.getViewport(Ae);s.set(o.x*Je.x,o.y*Je.y,o.x*Je.z,o.y*Je.w),W.viewport(s),L.updateMatrices(G,Ae),i=L.getFrustum(),A(O,j,L.camera,G,this.type)}L.isPointLightShadow!==!0&&this.type===eo&&I(L,j),L.needsUpdate=!1}m=this.type,_.needsUpdate=!1,n.setRenderTarget(E,w,N)};function I(T,O){let j=e.update(b);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,f.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Qr(r.x,r.y)),h.uniforms.shadow_pass.value=T.map.texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(O,null,j,h,b,null),f.uniforms.shadow_pass.value=T.mapPass.texture,f.uniforms.resolution.value=T.mapSize,f.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(O,null,j,f,b,null)}function C(T,O,j,E){let w=null,N=j.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(N!==void 0)w=N;else if(w=j.isPointLight===!0?c:a,n.localClippingEnabled&&O.clipShadows===!0&&Array.isArray(O.clippingPlanes)&&O.clippingPlanes.length!==0||O.displacementMap&&O.displacementScale!==0||O.alphaMap&&O.alphaTest>0||O.map&&O.alphaTest>0||O.alphaToCoverage===!0){let W=w.uuid,Z=O.uuid,re=l[W];re===void 0&&(re={},l[W]=re);let Q=re[Z];Q===void 0&&(Q=w.clone(),re[Z]=Q,O.addEventListener("dispose",P)),w=Q}if(w.visible=O.visible,w.wireframe=O.wireframe,E===eo?w.side=O.shadowSide!==null?O.shadowSide:O.side:w.side=O.shadowSide!==null?O.shadowSide:u[O.side],w.alphaMap=O.alphaMap,w.alphaTest=O.alphaToCoverage===!0?.5:O.alphaTest,w.map=O.map,w.clipShadows=O.clipShadows,w.clippingPlanes=O.clippingPlanes,w.clipIntersection=O.clipIntersection,w.displacementMap=O.displacementMap,w.displacementScale=O.displacementScale,w.displacementBias=O.displacementBias,w.wireframeLinewidth=O.wireframeLinewidth,w.linewidth=O.linewidth,j.isPointLight===!0&&w.isMeshDistanceMaterial===!0){let W=n.properties.get(w);W.light=j}return w}function A(T,O,j,E,w){if(T.visible===!1)return;if(T.layers.test(O.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&w===eo)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,T.matrixWorld);let Z=e.update(T),re=T.material;if(Array.isArray(re)){let Q=Z.groups;for(let U=0,G=Q.length;U<G;U++){let L=Q[U],J=re[L.materialIndex];if(J&&J.visible){let pe=C(T,J,E,w);T.onBeforeShadow(n,T,O,j,Z,pe,L),n.renderBufferDirect(j,null,Z,pe,T,L),T.onAfterShadow(n,T,O,j,Z,pe,L)}}}else if(re.visible){let Q=C(T,re,E,w);T.onBeforeShadow(n,T,O,j,Z,Q,null),n.renderBufferDirect(j,null,Z,Q,T,null),T.onAfterShadow(n,T,O,j,Z,Q,null)}}let W=T.children;for(let Z=0,re=W.length;Z<re;Z++)A(W[Z],O,j,E,w)}function P(T){T.target.removeEventListener("dispose",P);for(let j in l){let E=l[j],w=T.target.uuid;w in E&&(E[w].dispose(),delete E[w])}}}var E9={[sg]:ag,[cg]:ug,[lg]:hg,[Ua]:dg,[ag]:sg,[ug]:cg,[hg]:lg,[dg]:Ua};function I9(n,e){function t(){let k=!1,we=new Xt,be=null,ye=new Xt(0,0,0,0);return{setMask:function(me){be!==me&&!k&&(n.colorMask(me,me,me,me),be=me)},setLocked:function(me){k=me},setClear:function(me,ie,Pe,st,ln){ln===!0&&(me*=st,ie*=st,Pe*=st),we.set(me,ie,Pe,st),ye.equals(we)===!1&&(n.clearColor(me,ie,Pe,st),ye.copy(we))},reset:function(){k=!1,be=null,ye.set(-1,0,0,0)}}}function i(){let k=!1,we=!1,be=null,ye=null,me=null;return{setReversed:function(ie){if(we!==ie){let Pe=e.get("EXT_clip_control");ie?Pe.clipControlEXT(Pe.LOWER_LEFT_EXT,Pe.ZERO_TO_ONE_EXT):Pe.clipControlEXT(Pe.LOWER_LEFT_EXT,Pe.NEGATIVE_ONE_TO_ONE_EXT),we=ie;let st=me;me=null,this.setClear(st)}},getReversed:function(){return we},setTest:function(ie){ie?K(n.DEPTH_TEST):Se(n.DEPTH_TEST)},setMask:function(ie){be!==ie&&!k&&(n.depthMask(ie),be=ie)},setFunc:function(ie){if(we&&(ie=E9[ie]),ye!==ie){switch(ie){case sg:n.depthFunc(n.NEVER);break;case ag:n.depthFunc(n.ALWAYS);break;case cg:n.depthFunc(n.LESS);break;case Ua:n.depthFunc(n.LEQUAL);break;case lg:n.depthFunc(n.EQUAL);break;case dg:n.depthFunc(n.GEQUAL);break;case ug:n.depthFunc(n.GREATER);break;case hg:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ye=ie}},setLocked:function(ie){k=ie},setClear:function(ie){me!==ie&&(we&&(ie=1-ie),n.clearDepth(ie),me=ie)},reset:function(){k=!1,be=null,ye=null,me=null,we=!1}}}function r(){let k=!1,we=null,be=null,ye=null,me=null,ie=null,Pe=null,st=null,ln=null;return{setTest:function(Kt){k||(Kt?K(n.STENCIL_TEST):Se(n.STENCIL_TEST))},setMask:function(Kt){we!==Kt&&!k&&(n.stencilMask(Kt),we=Kt)},setFunc:function(Kt,Rr,lr){(be!==Kt||ye!==Rr||me!==lr)&&(n.stencilFunc(Kt,Rr,lr),be=Kt,ye=Rr,me=lr)},setOp:function(Kt,Rr,lr){(ie!==Kt||Pe!==Rr||st!==lr)&&(n.stencilOp(Kt,Rr,lr),ie=Kt,Pe=Rr,st=lr)},setLocked:function(Kt){k=Kt},setClear:function(Kt){ln!==Kt&&(n.clearStencil(Kt),ln=Kt)},reset:function(){k=!1,we=null,be=null,ye=null,me=null,ie=null,Pe=null,st=null,ln=null}}}let o=new t,s=new i,a=new r,c=new WeakMap,l=new WeakMap,d={},u={},h=new WeakMap,f=[],v=null,b=!1,_=null,m=null,I=null,C=null,A=null,P=null,T=null,O=new Et(0,0,0),j=0,E=!1,w=null,N=null,W=null,Z=null,re=null,Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS),U=!1,G=0,L=n.getParameter(n.VERSION);L.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(L)[1]),U=G>=1):L.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),U=G>=2);let J=null,pe={},Ae=n.getParameter(n.SCISSOR_BOX),Je=n.getParameter(n.VIEWPORT),It=new Xt().fromArray(Ae),Xe=new Xt().fromArray(Je);function Yt(k,we,be,ye){let me=new Uint8Array(4),ie=n.createTexture();n.bindTexture(k,ie),n.texParameteri(k,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(k,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Pe=0;Pe<be;Pe++)k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY?n.texImage3D(we,0,n.RGBA,1,1,ye,0,n.RGBA,n.UNSIGNED_BYTE,me):n.texImage2D(we+Pe,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,me);return ie}let te={};te[n.TEXTURE_2D]=Yt(n.TEXTURE_2D,n.TEXTURE_2D,1),te[n.TEXTURE_CUBE_MAP]=Yt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),te[n.TEXTURE_2D_ARRAY]=Yt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),te[n.TEXTURE_3D]=Yt(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),K(n.DEPTH_TEST),s.setFunc(Ua),At(!1),Pt(_M),K(n.CULL_FACE),dn(no);function K(k){d[k]!==!0&&(n.enable(k),d[k]=!0)}function Se(k){d[k]!==!1&&(n.disable(k),d[k]=!1)}function Ue(k,we){return u[k]!==we?(n.bindFramebuffer(k,we),u[k]=we,k===n.DRAW_FRAMEBUFFER&&(u[n.FRAMEBUFFER]=we),k===n.FRAMEBUFFER&&(u[n.DRAW_FRAMEBUFFER]=we),!0):!1}function ke(k,we){let be=f,ye=!1;if(k){be=h.get(we),be===void 0&&(be=[],h.set(we,be));let me=k.textures;if(be.length!==me.length||be[0]!==n.COLOR_ATTACHMENT0){for(let ie=0,Pe=me.length;ie<Pe;ie++)be[ie]=n.COLOR_ATTACHMENT0+ie;be.length=me.length,ye=!0}}else be[0]!==n.BACK&&(be[0]=n.BACK,ye=!0);ye&&n.drawBuffers(be)}function gt(k){return v!==k?(n.useProgram(k),v=k,!0):!1}let Gn={[Fs]:n.FUNC_ADD,[XA]:n.FUNC_SUBTRACT,[ZA]:n.FUNC_REVERSE_SUBTRACT};Gn[KA]=n.MIN,Gn[QA]=n.MAX;let Tt={[JA]:n.ZERO,[eP]:n.ONE,[tP]:n.SRC_COLOR,[km]:n.SRC_ALPHA,[aP]:n.SRC_ALPHA_SATURATE,[oP]:n.DST_COLOR,[iP]:n.DST_ALPHA,[nP]:n.ONE_MINUS_SRC_COLOR,[Nm]:n.ONE_MINUS_SRC_ALPHA,[sP]:n.ONE_MINUS_DST_COLOR,[rP]:n.ONE_MINUS_DST_ALPHA,[cP]:n.CONSTANT_COLOR,[lP]:n.ONE_MINUS_CONSTANT_COLOR,[dP]:n.CONSTANT_ALPHA,[uP]:n.ONE_MINUS_CONSTANT_ALPHA};function dn(k,we,be,ye,me,ie,Pe,st,ln,Kt){if(k===no){b===!0&&(Se(n.BLEND),b=!1);return}if(b===!1&&(K(n.BLEND),b=!0),k!==YA){if(k!==_||Kt!==E){if((m!==Fs||A!==Fs)&&(n.blendEquation(n.FUNC_ADD),m=Fs,A=Fs),Kt)switch(k){case Ba:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case yM:n.blendFunc(n.ONE,n.ONE);break;case xM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case MM:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Dt("WebGLState: Invalid blending: ",k);break}else switch(k){case Ba:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case yM:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case xM:Dt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case MM:Dt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Dt("WebGLState: Invalid blending: ",k);break}I=null,C=null,P=null,T=null,O.set(0,0,0),j=0,_=k,E=Kt}return}me=me||we,ie=ie||be,Pe=Pe||ye,(we!==m||me!==A)&&(n.blendEquationSeparate(Gn[we],Gn[me]),m=we,A=me),(be!==I||ye!==C||ie!==P||Pe!==T)&&(n.blendFuncSeparate(Tt[be],Tt[ye],Tt[ie],Tt[Pe]),I=be,C=ye,P=ie,T=Pe),(st.equals(O)===!1||ln!==j)&&(n.blendColor(st.r,st.g,st.b,ln),O.copy(st),j=ln),_=k,E=!1}function R(k,we){k.side===to?Se(n.CULL_FACE):K(n.CULL_FACE);let be=k.side===fi;we&&(be=!be),At(be),k.blending===Ba&&k.transparent===!1?dn(no):dn(k.blending,k.blendEquation,k.blendSrc,k.blendDst,k.blendEquationAlpha,k.blendSrcAlpha,k.blendDstAlpha,k.blendColor,k.blendAlpha,k.premultipliedAlpha),s.setFunc(k.depthFunc),s.setTest(k.depthTest),s.setMask(k.depthWrite),o.setMask(k.colorWrite);let ye=k.stencilWrite;a.setTest(ye),ye&&(a.setMask(k.stencilWriteMask),a.setFunc(k.stencilFunc,k.stencilRef,k.stencilFuncMask),a.setOp(k.stencilFail,k.stencilZFail,k.stencilZPass)),Re(k.polygonOffset,k.polygonOffsetFactor,k.polygonOffsetUnits),k.alphaToCoverage===!0?K(n.SAMPLE_ALPHA_TO_COVERAGE):Se(n.SAMPLE_ALPHA_TO_COVERAGE)}function At(k){w!==k&&(k?n.frontFace(n.CW):n.frontFace(n.CCW),w=k)}function Pt(k){k!==WA?(K(n.CULL_FACE),k!==N&&(k===_M?n.cullFace(n.BACK):k===$A?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Se(n.CULL_FACE),N=k}function on(k){k!==W&&(U&&n.lineWidth(k),W=k)}function Re(k,we,be){k?(K(n.POLYGON_OFFSET_FILL),(Z!==we||re!==be)&&(n.polygonOffset(we,be),Z=we,re=be)):Se(n.POLYGON_OFFSET_FILL)}function hn(k){k?K(n.SCISSOR_TEST):Se(n.SCISSOR_TEST)}function Ge(k){k===void 0&&(k=n.TEXTURE0+Q-1),J!==k&&(n.activeTexture(k),J=k)}function at(k,we,be){be===void 0&&(J===null?be=n.TEXTURE0+Q-1:be=J);let ye=pe[be];ye===void 0&&(ye={type:void 0,texture:void 0},pe[be]=ye),(ye.type!==k||ye.texture!==we)&&(J!==be&&(n.activeTexture(be),J=be),n.bindTexture(k,we||te[k]),ye.type=k,ye.texture=we)}function D(){let k=pe[J];k!==void 0&&k.type!==void 0&&(n.bindTexture(k.type,null),k.type=void 0,k.texture=void 0)}function x(){try{n.compressedTexImage2D(...arguments)}catch(k){k("WebGLState:",k)}}function z(){try{n.compressedTexImage3D(...arguments)}catch(k){k("WebGLState:",k)}}function ne(){try{n.texSubImage2D(...arguments)}catch(k){k("WebGLState:",k)}}function de(){try{n.texSubImage3D(...arguments)}catch(k){k("WebGLState:",k)}}function X(){try{n.compressedTexSubImage2D(...arguments)}catch(k){k("WebGLState:",k)}}function Ve(){try{n.compressedTexSubImage3D(...arguments)}catch(k){k("WebGLState:",k)}}function Me(){try{n.texStorage2D(...arguments)}catch(k){k("WebGLState:",k)}}function We(){try{n.texStorage3D(...arguments)}catch(k){k("WebGLState:",k)}}function Ne(){try{n.texImage2D(...arguments)}catch(k){k("WebGLState:",k)}}function he(){try{n.texImage3D(...arguments)}catch(k){k("WebGLState:",k)}}function ve(k){It.equals(k)===!1&&(n.scissor(k.x,k.y,k.z,k.w),It.copy(k))}function et(k){Xe.equals(k)===!1&&(n.viewport(k.x,k.y,k.z,k.w),Xe.copy(k))}function Ze(k,we){let be=l.get(we);be===void 0&&(be=new WeakMap,l.set(we,be));let ye=be.get(k);ye===void 0&&(ye=n.getUniformBlockIndex(we,k.name),be.set(k,ye))}function Ie(k,we){let ye=l.get(we).get(k);c.get(we)!==ye&&(n.uniformBlockBinding(we,ye,k.__bindingPointIndex),c.set(we,ye))}function nt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},J=null,pe={},u={},h=new WeakMap,f=[],v=null,b=!1,_=null,m=null,I=null,C=null,A=null,P=null,T=null,O=new Et(0,0,0),j=0,E=!1,w=null,N=null,W=null,Z=null,re=null,It.set(0,0,n.canvas.width,n.canvas.height),Xe.set(0,0,n.canvas.width,n.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:K,disable:Se,bindFramebuffer:Ue,drawBuffers:ke,useProgram:gt,setBlending:dn,setMaterial:R,setFlipSided:At,setCullFace:Pt,setLineWidth:on,setPolygonOffset:Re,setScissorTest:hn,activeTexture:Ge,bindTexture:at,unbindTexture:D,compressedTexImage2D:x,compressedTexImage3D:z,texImage2D:Ne,texImage3D:he,updateUBOMapping:Ze,uniformBlockBinding:Ie,texStorage2D:Me,texStorage3D:We,texSubImage2D:ne,texSubImage3D:de,compressedTexSubImage2D:X,compressedTexSubImage3D:Ve,scissor:ve,viewport:et,reset:nt}}function T9(n,e,t,i,r,o,s){let a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),l=new zt,d=new WeakMap,u,h=new WeakMap,f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(D,x){return f?new OffscreenCanvas(D,x):ou("canvas")}function b(D,x,z){let ne=1,de=at(D);if((de.width>z||de.height>z)&&(ne=z/Math.max(de.width,de.height)),ne<1)if(typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&D instanceof ImageBitmap||typeof VideoFrame<"u"&&D instanceof VideoFrame){let X=Math.floor(ne*de.width),Ve=Math.floor(ne*de.height);u===void 0&&(u=v(X,Ve));let Me=x?v(X,Ve):u;return Me.width=X,Me.height=Ve,Me.getContext("2d").drawImage(D,0,0,X,Ve),rt("WebGLRenderer: Texture has been resized from ("+de.width+"x"+de.height+") to ("+X+"x"+Ve+")."),Me}else return"data"in D&&rt("WebGLRenderer: Image in DataTexture is too big ("+de.width+"x"+de.height+")."),D;return D}function _(D){return D.generateMipmaps}function m(D){n.generateMipmap(D)}function I(D){return D.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:D.isWebGL3DRenderTarget?n.TEXTURE_3D:D.isWebGLArrayRenderTarget||D.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(D,x,z,ne,de=!1){if(D!==null){if(n[D]!==void 0)return n[D];rt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+D+"'")}let X=x;if(x===n.RED&&(z===n.FLOAT&&(X=n.R32F),z===n.HALF_FLOAT&&(X=n.R16F),z===n.UNSIGNED_BYTE&&(X=n.R8)),x===n.RED_INTEGER&&(z===n.UNSIGNED_BYTE&&(X=n.R8UI),z===n.UNSIGNED_SHORT&&(X=n.R16UI),z===n.UNSIGNED_INT&&(X=n.R32UI),z===n.BYTE&&(X=n.R8I),z===n.SHORT&&(X=n.R16I),z===n.INT&&(X=n.R32I)),x===n.RG&&(z===n.FLOAT&&(X=n.RG32F),z===n.HALF_FLOAT&&(X=n.RG16F),z===n.UNSIGNED_BYTE&&(X=n.RG8)),x===n.RG_INTEGER&&(z===n.UNSIGNED_BYTE&&(X=n.RG8UI),z===n.UNSIGNED_SHORT&&(X=n.RG16UI),z===n.UNSIGNED_INT&&(X=n.RG32UI),z===n.BYTE&&(X=n.RG8I),z===n.SHORT&&(X=n.RG16I),z===n.INT&&(X=n.RG32I)),x===n.RGB_INTEGER&&(z===n.UNSIGNED_BYTE&&(X=n.RGB8UI),z===n.UNSIGNED_SHORT&&(X=n.RGB16UI),z===n.UNSIGNED_INT&&(X=n.RGB32UI),z===n.BYTE&&(X=n.RGB8I),z===n.SHORT&&(X=n.RGB16I),z===n.INT&&(X=n.RGB32I)),x===n.RGBA_INTEGER&&(z===n.UNSIGNED_BYTE&&(X=n.RGBA8UI),z===n.UNSIGNED_SHORT&&(X=n.RGBA16UI),z===n.UNSIGNED_INT&&(X=n.RGBA32UI),z===n.BYTE&&(X=n.RGBA8I),z===n.SHORT&&(X=n.RGBA16I),z===n.INT&&(X=n.RGBA32I)),x===n.RGB&&(z===n.UNSIGNED_INT_5_9_9_9_REV&&(X=n.RGB9_E5),z===n.UNSIGNED_INT_10F_11F_11F_REV&&(X=n.R11F_G11F_B10F)),x===n.RGBA){let Ve=de?iu:Vt.getTransfer(ne);z===n.FLOAT&&(X=n.RGBA32F),z===n.HALF_FLOAT&&(X=n.RGBA16F),z===n.UNSIGNED_BYTE&&(X=Ve===Zt?n.SRGB8_ALPHA8:n.RGBA8),z===n.UNSIGNED_SHORT_4_4_4_4&&(X=n.RGBA4),z===n.UNSIGNED_SHORT_5_5_5_1&&(X=n.RGB5_A1)}return(X===n.R16F||X===n.R32F||X===n.RG16F||X===n.RG32F||X===n.RGBA16F||X===n.RGBA32F)&&e.get("EXT_color_buffer_float"),X}function A(D,x){let z;return D?x===null||x===js||x===yl?z=n.DEPTH24_STENCIL8:x===io?z=n.DEPTH32F_STENCIL8:x===bl&&(z=n.DEPTH24_STENCIL8,rt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):x===null||x===js||x===yl?z=n.DEPTH_COMPONENT24:x===io?z=n.DEPTH_COMPONENT32F:x===bl&&(z=n.DEPTH_COMPONENT16),z}function P(D,x){return _(D)===!0||D.isFramebufferTexture&&D.minFilter!==Si&&D.minFilter!==Vi?Math.log2(Math.max(x.width,x.height))+1:D.mipmaps!==void 0&&D.mipmaps.length>0?D.mipmaps.length:D.isCompressedTexture&&Array.isArray(D.image)?x.mipmaps.length:1}function T(D){let x=D.target;x.removeEventListener("dispose",T),j(x),x.isVideoTexture&&d.delete(x)}function O(D){let x=D.target;x.removeEventListener("dispose",O),w(x)}function j(D){let x=i.get(D);if(x.__webglInit===void 0)return;let z=D.source,ne=h.get(z);if(ne){let de=ne[x.__cacheKey];de.usedTimes--,de.usedTimes===0&&E(D),Object.keys(ne).length===0&&h.delete(z)}i.remove(D)}function E(D){let x=i.get(D);n.deleteTexture(x.__webglTexture);let z=D.source,ne=h.get(z);delete ne[x.__cacheKey],s.memory.textures--}function w(D){let x=i.get(D);if(D.depthTexture&&(D.depthTexture.dispose(),i.remove(D.depthTexture)),D.isWebGLCubeRenderTarget)for(let ne=0;ne<6;ne++){if(Array.isArray(x.__webglFramebuffer[ne]))for(let de=0;de<x.__webglFramebuffer[ne].length;de++)n.deleteFramebuffer(x.__webglFramebuffer[ne][de]);else n.deleteFramebuffer(x.__webglFramebuffer[ne]);x.__webglDepthbuffer&&n.deleteRenderbuffer(x.__webglDepthbuffer[ne])}else{if(Array.isArray(x.__webglFramebuffer))for(let ne=0;ne<x.__webglFramebuffer.length;ne++)n.deleteFramebuffer(x.__webglFramebuffer[ne]);else n.deleteFramebuffer(x.__webglFramebuffer);if(x.__webglDepthbuffer&&n.deleteRenderbuffer(x.__webglDepthbuffer),x.__webglMultisampledFramebuffer&&n.deleteFramebuffer(x.__webglMultisampledFramebuffer),x.__webglColorRenderbuffer)for(let ne=0;ne<x.__webglColorRenderbuffer.length;ne++)x.__webglColorRenderbuffer[ne]&&n.deleteRenderbuffer(x.__webglColorRenderbuffer[ne]);x.__webglDepthRenderbuffer&&n.deleteRenderbuffer(x.__webglDepthRenderbuffer)}let z=D.textures;for(let ne=0,de=z.length;ne<de;ne++){let X=i.get(z[ne]);X.__webglTexture&&(n.deleteTexture(X.__webglTexture),s.memory.textures--),i.remove(z[ne])}i.remove(D)}let N=0;function W(){N=0}function Z(){let D=N;return D>=r.maxTextures&&rt("WebGLTextures: Trying to use "+D+" texture units while this GPU supports only "+r.maxTextures),N+=1,D}function re(D){let x=[];return x.push(D.wrapS),x.push(D.wrapT),x.push(D.wrapR||0),x.push(D.magFilter),x.push(D.minFilter),x.push(D.anisotropy),x.push(D.internalFormat),x.push(D.format),x.push(D.type),x.push(D.generateMipmaps),x.push(D.premultiplyAlpha),x.push(D.flipY),x.push(D.unpackAlignment),x.push(D.colorSpace),x.join()}function Q(D,x){let z=i.get(D);if(D.isVideoTexture&&hn(D),D.isRenderTargetTexture===!1&&D.isExternalTexture!==!0&&D.version>0&&z.__version!==D.version){let ne=D.image;if(ne===null)rt("WebGLRenderer: Texture marked for update but no image data found.");else if(ne.complete===!1)rt("WebGLRenderer: Texture marked for update but image is incomplete");else{te(z,D,x);return}}else D.isExternalTexture&&(z.__webglTexture=D.sourceTexture?D.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,z.__webglTexture,n.TEXTURE0+x)}function U(D,x){let z=i.get(D);if(D.isRenderTargetTexture===!1&&D.version>0&&z.__version!==D.version){te(z,D,x);return}else D.isExternalTexture&&(z.__webglTexture=D.sourceTexture?D.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,z.__webglTexture,n.TEXTURE0+x)}function G(D,x){let z=i.get(D);if(D.isRenderTargetTexture===!1&&D.version>0&&z.__version!==D.version){te(z,D,x);return}t.bindTexture(n.TEXTURE_3D,z.__webglTexture,n.TEXTURE0+x)}function L(D,x){let z=i.get(D);if(D.version>0&&z.__version!==D.version){K(z,D,x);return}t.bindTexture(n.TEXTURE_CUBE_MAP,z.__webglTexture,n.TEXTURE0+x)}let J={[Fm]:n.REPEAT,[Kr]:n.CLAMP_TO_EDGE,[Lm]:n.MIRRORED_REPEAT},pe={[Si]:n.NEAREST,[xP]:n.NEAREST_MIPMAP_NEAREST,[Tu]:n.NEAREST_MIPMAP_LINEAR,[Vi]:n.LINEAR,[gg]:n.LINEAR_MIPMAP_NEAREST,[Hs]:n.LINEAR_MIPMAP_LINEAR},Ae={[SP]:n.NEVER,[PP]:n.ALWAYS,[EP]:n.LESS,[PM]:n.LEQUAL,[IP]:n.EQUAL,[AP]:n.GEQUAL,[TP]:n.GREATER,[DP]:n.NOTEQUAL};function Je(D,x){if(x.type===io&&e.has("OES_texture_float_linear")===!1&&(x.magFilter===Vi||x.magFilter===gg||x.magFilter===Tu||x.magFilter===Hs||x.minFilter===Vi||x.minFilter===gg||x.minFilter===Tu||x.minFilter===Hs)&&rt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(D,n.TEXTURE_WRAP_S,J[x.wrapS]),n.texParameteri(D,n.TEXTURE_WRAP_T,J[x.wrapT]),(D===n.TEXTURE_3D||D===n.TEXTURE_2D_ARRAY)&&n.texParameteri(D,n.TEXTURE_WRAP_R,J[x.wrapR]),n.texParameteri(D,n.TEXTURE_MAG_FILTER,pe[x.magFilter]),n.texParameteri(D,n.TEXTURE_MIN_FILTER,pe[x.minFilter]),x.compareFunction&&(n.texParameteri(D,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(D,n.TEXTURE_COMPARE_FUNC,Ae[x.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(x.magFilter===Si||x.minFilter!==Tu&&x.minFilter!==Hs||x.type===io&&e.has("OES_texture_float_linear")===!1)return;if(x.anisotropy>1||i.get(x).__currentAnisotropy){let z=e.get("EXT_texture_filter_anisotropic");n.texParameterf(D,z.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(x.anisotropy,r.getMaxAnisotropy())),i.get(x).__currentAnisotropy=x.anisotropy}}}function It(D,x){let z=!1;D.__webglInit===void 0&&(D.__webglInit=!0,x.addEventListener("dispose",T));let ne=x.source,de=h.get(ne);de===void 0&&(de={},h.set(ne,de));let X=re(x);if(X!==D.__cacheKey){de[X]===void 0&&(de[X]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,z=!0),de[X].usedTimes++;let Ve=de[D.__cacheKey];Ve!==void 0&&(de[D.__cacheKey].usedTimes--,Ve.usedTimes===0&&E(x)),D.__cacheKey=X,D.__webglTexture=de[X].texture}return z}function Xe(D,x,z){return Math.floor(Math.floor(D/z)/x)}function Yt(D,x,z,ne){let X=D.updateRanges;if(X.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,x.width,x.height,z,ne,x.data);else{X.sort((he,ve)=>he.start-ve.start);let Ve=0;for(let he=1;he<X.length;he++){let ve=X[Ve],et=X[he],Ze=ve.start+ve.count,Ie=Xe(et.start,x.width,4),nt=Xe(ve.start,x.width,4);et.start<=Ze+1&&Ie===nt&&Xe(et.start+et.count-1,x.width,4)===Ie?ve.count=Math.max(ve.count,et.start+et.count-ve.start):(++Ve,X[Ve]=et)}X.length=Ve+1;let Me=n.getParameter(n.UNPACK_ROW_LENGTH),We=n.getParameter(n.UNPACK_SKIP_PIXELS),Ne=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,x.width);for(let he=0,ve=X.length;he<ve;he++){let et=X[he],Ze=Math.floor(et.start/4),Ie=Math.ceil(et.count/4),nt=Ze%x.width,k=Math.floor(Ze/x.width),we=Ie,be=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,nt),n.pixelStorei(n.UNPACK_SKIP_ROWS,k),t.texSubImage2D(n.TEXTURE_2D,0,nt,k,we,be,z,ne,x.data)}D.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Me),n.pixelStorei(n.UNPACK_SKIP_PIXELS,We),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ne)}}function te(D,x,z){let ne=n.TEXTURE_2D;(x.isDataArrayTexture||x.isCompressedArrayTexture)&&(ne=n.TEXTURE_2D_ARRAY),x.isData3DTexture&&(ne=n.TEXTURE_3D);let de=It(D,x),X=x.source;t.bindTexture(ne,D.__webglTexture,n.TEXTURE0+z);let Ve=i.get(X);if(X.version!==Ve.__version||de===!0){t.activeTexture(n.TEXTURE0+z);let Me=Vt.getPrimaries(Vt.workingColorSpace),We=x.colorSpace===jo?null:Vt.getPrimaries(x.colorSpace),Ne=x.colorSpace===jo||Me===We?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,x.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,x.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,x.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ne);let he=b(x.image,!1,r.maxTextureSize);he=Ge(x,he);let ve=o.convert(x.format,x.colorSpace),et=o.convert(x.type),Ze=C(x.internalFormat,ve,et,x.colorSpace,x.isVideoTexture);Je(ne,x);let Ie,nt=x.mipmaps,k=x.isVideoTexture!==!0,we=Ve.__version===void 0||de===!0,be=X.dataReady,ye=P(x,he);if(x.isDepthTexture)Ze=A(x.format===xl,x.type),we&&(k?t.texStorage2D(n.TEXTURE_2D,1,Ze,he.width,he.height):t.texImage2D(n.TEXTURE_2D,0,Ze,he.width,he.height,0,ve,et,null));else if(x.isDataTexture)if(nt.length>0){k&&we&&t.texStorage2D(n.TEXTURE_2D,ye,Ze,nt[0].width,nt[0].height);for(let me=0,ie=nt.length;me<ie;me++)Ie=nt[me],k?be&&t.texSubImage2D(n.TEXTURE_2D,me,0,0,Ie.width,Ie.height,ve,et,Ie.data):t.texImage2D(n.TEXTURE_2D,me,Ze,Ie.width,Ie.height,0,ve,et,Ie.data);x.generateMipmaps=!1}else k?(we&&t.texStorage2D(n.TEXTURE_2D,ye,Ze,he.width,he.height),be&&Yt(x,he,ve,et)):t.texImage2D(n.TEXTURE_2D,0,Ze,he.width,he.height,0,ve,et,he.data);else if(x.isCompressedTexture)if(x.isCompressedArrayTexture){k&&we&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ye,Ze,nt[0].width,nt[0].height,he.depth);for(let me=0,ie=nt.length;me<ie;me++)if(Ie=nt[me],x.format!==cr)if(ve!==null)if(k){if(be)if(x.layerUpdates.size>0){let Pe=BM(Ie.width,Ie.height,x.format,x.type);for(let st of x.layerUpdates){let ln=Ie.data.subarray(st*Pe/Ie.data.BYTES_PER_ELEMENT,(st+1)*Pe/Ie.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,st,Ie.width,Ie.height,1,ve,ln)}x.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Ie.width,Ie.height,he.depth,ve,Ie.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,me,Ze,Ie.width,Ie.height,he.depth,0,Ie.data,0,0);else rt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else k?be&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,Ie.width,Ie.height,he.depth,ve,et,Ie.data):t.texImage3D(n.TEXTURE_2D_ARRAY,me,Ze,Ie.width,Ie.height,he.depth,0,ve,et,Ie.data)}else{k&&we&&t.texStorage2D(n.TEXTURE_2D,ye,Ze,nt[0].width,nt[0].height);for(let me=0,ie=nt.length;me<ie;me++)Ie=nt[me],x.format!==cr?ve!==null?k?be&&t.compressedTexSubImage2D(n.TEXTURE_2D,me,0,0,Ie.width,Ie.height,ve,Ie.data):t.compressedTexImage2D(n.TEXTURE_2D,me,Ze,Ie.width,Ie.height,0,Ie.data):rt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?be&&t.texSubImage2D(n.TEXTURE_2D,me,0,0,Ie.width,Ie.height,ve,et,Ie.data):t.texImage2D(n.TEXTURE_2D,me,Ze,Ie.width,Ie.height,0,ve,et,Ie.data)}else if(x.isDataArrayTexture)if(k){if(we&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ye,Ze,he.width,he.height,he.depth),be)if(x.layerUpdates.size>0){let me=BM(he.width,he.height,x.format,x.type);for(let ie of x.layerUpdates){let Pe=he.data.subarray(ie*me/he.data.BYTES_PER_ELEMENT,(ie+1)*me/he.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ie,he.width,he.height,1,ve,et,Pe)}x.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,he.width,he.height,he.depth,ve,et,he.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ze,he.width,he.height,he.depth,0,ve,et,he.data);else if(x.isData3DTexture)k?(we&&t.texStorage3D(n.TEXTURE_3D,ye,Ze,he.width,he.height,he.depth),be&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,he.width,he.height,he.depth,ve,et,he.data)):t.texImage3D(n.TEXTURE_3D,0,Ze,he.width,he.height,he.depth,0,ve,et,he.data);else if(x.isFramebufferTexture){if(we)if(k)t.texStorage2D(n.TEXTURE_2D,ye,Ze,he.width,he.height);else{let me=he.width,ie=he.height;for(let Pe=0;Pe<ye;Pe++)t.texImage2D(n.TEXTURE_2D,Pe,Ze,me,ie,0,ve,et,null),me>>=1,ie>>=1}}else if(nt.length>0){if(k&&we){let me=at(nt[0]);t.texStorage2D(n.TEXTURE_2D,ye,Ze,me.width,me.height)}for(let me=0,ie=nt.length;me<ie;me++)Ie=nt[me],k?be&&t.texSubImage2D(n.TEXTURE_2D,me,0,0,ve,et,Ie):t.texImage2D(n.TEXTURE_2D,me,Ze,ve,et,Ie);x.generateMipmaps=!1}else if(k){if(we){let me=at(he);t.texStorage2D(n.TEXTURE_2D,ye,Ze,me.width,me.height)}be&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ve,et,he)}else t.texImage2D(n.TEXTURE_2D,0,Ze,ve,et,he);_(x)&&m(ne),Ve.__version=X.version,x.onUpdate&&x.onUpdate(x)}D.__version=x.version}function K(D,x,z){if(x.image.length!==6)return;let ne=It(D,x),de=x.source;t.bindTexture(n.TEXTURE_CUBE_MAP,D.__webglTexture,n.TEXTURE0+z);let X=i.get(de);if(de.version!==X.__version||ne===!0){t.activeTexture(n.TEXTURE0+z);let Ve=Vt.getPrimaries(Vt.workingColorSpace),Me=x.colorSpace===jo?null:Vt.getPrimaries(x.colorSpace),We=x.colorSpace===jo||Ve===Me?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,x.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,x.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,x.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,We);let Ne=x.isCompressedTexture||x.image[0].isCompressedTexture,he=x.image[0]&&x.image[0].isDataTexture,ve=[];for(let ie=0;ie<6;ie++)!Ne&&!he?ve[ie]=b(x.image[ie],!0,r.maxCubemapSize):ve[ie]=he?x.image[ie].image:x.image[ie],ve[ie]=Ge(x,ve[ie]);let et=ve[0],Ze=o.convert(x.format,x.colorSpace),Ie=o.convert(x.type),nt=C(x.internalFormat,Ze,Ie,x.colorSpace),k=x.isVideoTexture!==!0,we=X.__version===void 0||ne===!0,be=de.dataReady,ye=P(x,et);Je(n.TEXTURE_CUBE_MAP,x);let me;if(Ne){k&&we&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ye,nt,et.width,et.height);for(let ie=0;ie<6;ie++){me=ve[ie].mipmaps;for(let Pe=0;Pe<me.length;Pe++){let st=me[Pe];x.format!==cr?Ze!==null?k?be&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe,0,0,st.width,st.height,Ze,st.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe,nt,st.width,st.height,0,st.data):rt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):k?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe,0,0,st.width,st.height,Ze,Ie,st.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe,nt,st.width,st.height,0,Ze,Ie,st.data)}}}else{if(me=x.mipmaps,k&&we){me.length>0&&ye++;let ie=at(ve[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ye,nt,ie.width,ie.height)}for(let ie=0;ie<6;ie++)if(he){k?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,0,0,ve[ie].width,ve[ie].height,Ze,Ie,ve[ie].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,nt,ve[ie].width,ve[ie].height,0,Ze,Ie,ve[ie].data);for(let Pe=0;Pe<me.length;Pe++){let ln=me[Pe].image[ie].image;k?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe+1,0,0,ln.width,ln.height,Ze,Ie,ln.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe+1,nt,ln.width,ln.height,0,Ze,Ie,ln.data)}}else{k?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,0,0,Ze,Ie,ve[ie]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,nt,Ze,Ie,ve[ie]);for(let Pe=0;Pe<me.length;Pe++){let st=me[Pe];k?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe+1,0,0,Ze,Ie,st.image[ie]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Pe+1,nt,Ze,Ie,st.image[ie])}}}_(x)&&m(n.TEXTURE_CUBE_MAP),X.__version=de.version,x.onUpdate&&x.onUpdate(x)}D.__version=x.version}function Se(D,x,z,ne,de,X){let Ve=o.convert(z.format,z.colorSpace),Me=o.convert(z.type),We=C(z.internalFormat,Ve,Me,z.colorSpace),Ne=i.get(x),he=i.get(z);if(he.__renderTarget=x,!Ne.__hasExternalTextures){let ve=Math.max(1,x.width>>X),et=Math.max(1,x.height>>X);de===n.TEXTURE_3D||de===n.TEXTURE_2D_ARRAY?t.texImage3D(de,X,We,ve,et,x.depth,0,Ve,Me,null):t.texImage2D(de,X,We,ve,et,0,Ve,Me,null)}t.bindFramebuffer(n.FRAMEBUFFER,D),Re(x)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ne,de,he.__webglTexture,0,on(x)):(de===n.TEXTURE_2D||de>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&de<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ne,de,he.__webglTexture,X),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ue(D,x,z){if(n.bindRenderbuffer(n.RENDERBUFFER,D),x.depthBuffer){let ne=x.depthTexture,de=ne&&ne.isDepthTexture?ne.type:null,X=A(x.stencilBuffer,de),Ve=x.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Me=on(x);Re(x)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Me,X,x.width,x.height):z?n.renderbufferStorageMultisample(n.RENDERBUFFER,Me,X,x.width,x.height):n.renderbufferStorage(n.RENDERBUFFER,X,x.width,x.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ve,n.RENDERBUFFER,D)}else{let ne=x.textures;for(let de=0;de<ne.length;de++){let X=ne[de],Ve=o.convert(X.format,X.colorSpace),Me=o.convert(X.type),We=C(X.internalFormat,Ve,Me,X.colorSpace),Ne=on(x);z&&Re(x)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ne,We,x.width,x.height):Re(x)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ne,We,x.width,x.height):n.renderbufferStorage(n.RENDERBUFFER,We,x.width,x.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ke(D,x){if(x&&x.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,D),!(x.depthTexture&&x.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let ne=i.get(x.depthTexture);ne.__renderTarget=x,(!ne.__webglTexture||x.depthTexture.image.width!==x.width||x.depthTexture.image.height!==x.height)&&(x.depthTexture.image.width=x.width,x.depthTexture.image.height=x.height,x.depthTexture.needsUpdate=!0),Q(x.depthTexture,0);let de=ne.__webglTexture,X=on(x);if(x.depthTexture.format===cl)Re(x)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,de,0,X):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,de,0);else if(x.depthTexture.format===xl)Re(x)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,de,0,X):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,de,0);else throw new Error("Unknown depthTexture format")}function gt(D){let x=i.get(D),z=D.isWebGLCubeRenderTarget===!0;if(x.__boundDepthTexture!==D.depthTexture){let ne=D.depthTexture;if(x.__depthDisposeCallback&&x.__depthDisposeCallback(),ne){let de=()=>{delete x.__boundDepthTexture,delete x.__depthDisposeCallback,ne.removeEventListener("dispose",de)};ne.addEventListener("dispose",de),x.__depthDisposeCallback=de}x.__boundDepthTexture=ne}if(D.depthTexture&&!x.__autoAllocateDepthBuffer){if(z)throw new Error("target.depthTexture not supported in Cube render targets");let ne=D.texture.mipmaps;ne&&ne.length>0?ke(x.__webglFramebuffer[0],D):ke(x.__webglFramebuffer,D)}else if(z){x.__webglDepthbuffer=[];for(let ne=0;ne<6;ne++)if(t.bindFramebuffer(n.FRAMEBUFFER,x.__webglFramebuffer[ne]),x.__webglDepthbuffer[ne]===void 0)x.__webglDepthbuffer[ne]=n.createRenderbuffer(),Ue(x.__webglDepthbuffer[ne],D,!1);else{let de=D.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,X=x.__webglDepthbuffer[ne];n.bindRenderbuffer(n.RENDERBUFFER,X),n.framebufferRenderbuffer(n.FRAMEBUFFER,de,n.RENDERBUFFER,X)}}else{let ne=D.texture.mipmaps;if(ne&&ne.length>0?t.bindFramebuffer(n.FRAMEBUFFER,x.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,x.__webglFramebuffer),x.__webglDepthbuffer===void 0)x.__webglDepthbuffer=n.createRenderbuffer(),Ue(x.__webglDepthbuffer,D,!1);else{let de=D.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,X=x.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,X),n.framebufferRenderbuffer(n.FRAMEBUFFER,de,n.RENDERBUFFER,X)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Gn(D,x,z){let ne=i.get(D);x!==void 0&&Se(ne.__webglFramebuffer,D,D.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),z!==void 0&&gt(D)}function Tt(D){let x=D.texture,z=i.get(D),ne=i.get(x);D.addEventListener("dispose",O);let de=D.textures,X=D.isWebGLCubeRenderTarget===!0,Ve=de.length>1;if(Ve||(ne.__webglTexture===void 0&&(ne.__webglTexture=n.createTexture()),ne.__version=x.version,s.memory.textures++),X){z.__webglFramebuffer=[];for(let Me=0;Me<6;Me++)if(x.mipmaps&&x.mipmaps.length>0){z.__webglFramebuffer[Me]=[];for(let We=0;We<x.mipmaps.length;We++)z.__webglFramebuffer[Me][We]=n.createFramebuffer()}else z.__webglFramebuffer[Me]=n.createFramebuffer()}else{if(x.mipmaps&&x.mipmaps.length>0){z.__webglFramebuffer=[];for(let Me=0;Me<x.mipmaps.length;Me++)z.__webglFramebuffer[Me]=n.createFramebuffer()}else z.__webglFramebuffer=n.createFramebuffer();if(Ve)for(let Me=0,We=de.length;Me<We;Me++){let Ne=i.get(de[Me]);Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture(),s.memory.textures++)}if(D.samples>0&&Re(D)===!1){z.__webglMultisampledFramebuffer=n.createFramebuffer(),z.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,z.__webglMultisampledFramebuffer);for(let Me=0;Me<de.length;Me++){let We=de[Me];z.__webglColorRenderbuffer[Me]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,z.__webglColorRenderbuffer[Me]);let Ne=o.convert(We.format,We.colorSpace),he=o.convert(We.type),ve=C(We.internalFormat,Ne,he,We.colorSpace,D.isXRRenderTarget===!0),et=on(D);n.renderbufferStorageMultisample(n.RENDERBUFFER,et,ve,D.width,D.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Me,n.RENDERBUFFER,z.__webglColorRenderbuffer[Me])}n.bindRenderbuffer(n.RENDERBUFFER,null),D.depthBuffer&&(z.__webglDepthRenderbuffer=n.createRenderbuffer(),Ue(z.__webglDepthRenderbuffer,D,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(X){t.bindTexture(n.TEXTURE_CUBE_MAP,ne.__webglTexture),Je(n.TEXTURE_CUBE_MAP,x);for(let Me=0;Me<6;Me++)if(x.mipmaps&&x.mipmaps.length>0)for(let We=0;We<x.mipmaps.length;We++)Se(z.__webglFramebuffer[Me][We],D,x,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We);else Se(z.__webglFramebuffer[Me],D,x,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0);_(x)&&m(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ve){for(let Me=0,We=de.length;Me<We;Me++){let Ne=de[Me],he=i.get(Ne),ve=n.TEXTURE_2D;(D.isWebGL3DRenderTarget||D.isWebGLArrayRenderTarget)&&(ve=D.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ve,he.__webglTexture),Je(ve,Ne),Se(z.__webglFramebuffer,D,Ne,n.COLOR_ATTACHMENT0+Me,ve,0),_(Ne)&&m(ve)}t.unbindTexture()}else{let Me=n.TEXTURE_2D;if((D.isWebGL3DRenderTarget||D.isWebGLArrayRenderTarget)&&(Me=D.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Me,ne.__webglTexture),Je(Me,x),x.mipmaps&&x.mipmaps.length>0)for(let We=0;We<x.mipmaps.length;We++)Se(z.__webglFramebuffer[We],D,x,n.COLOR_ATTACHMENT0,Me,We);else Se(z.__webglFramebuffer,D,x,n.COLOR_ATTACHMENT0,Me,0);_(x)&&m(Me),t.unbindTexture()}D.depthBuffer&&gt(D)}function dn(D){let x=D.textures;for(let z=0,ne=x.length;z<ne;z++){let de=x[z];if(_(de)){let X=I(D),Ve=i.get(de).__webglTexture;t.bindTexture(X,Ve),m(X),t.unbindTexture()}}}let R=[],At=[];function Pt(D){if(D.samples>0){if(Re(D)===!1){let x=D.textures,z=D.width,ne=D.height,de=n.COLOR_BUFFER_BIT,X=D.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ve=i.get(D),Me=x.length>1;if(Me)for(let Ne=0;Ne<x.length;Ne++)t.bindFramebuffer(n.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ne,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ve.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ne,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer);let We=D.texture.mipmaps;We&&We.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ve.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ve.__webglFramebuffer);for(let Ne=0;Ne<x.length;Ne++){if(D.resolveDepthBuffer&&(D.depthBuffer&&(de|=n.DEPTH_BUFFER_BIT),D.stencilBuffer&&D.resolveStencilBuffer&&(de|=n.STENCIL_BUFFER_BIT)),Me){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ve.__webglColorRenderbuffer[Ne]);let he=i.get(x[Ne]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,he,0)}n.blitFramebuffer(0,0,z,ne,0,0,z,ne,de,n.NEAREST),c===!0&&(R.length=0,At.length=0,R.push(n.COLOR_ATTACHMENT0+Ne),D.depthBuffer&&D.resolveDepthBuffer===!1&&(R.push(X),At.push(X),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,At)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,R))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Me)for(let Ne=0;Ne<x.length;Ne++){t.bindFramebuffer(n.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ne,n.RENDERBUFFER,Ve.__webglColorRenderbuffer[Ne]);let he=i.get(x[Ne]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ve.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ne,n.TEXTURE_2D,he,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer)}else if(D.depthBuffer&&D.resolveDepthBuffer===!1&&c){let x=D.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[x])}}}function on(D){return Math.min(r.maxSamples,D.samples)}function Re(D){let x=i.get(D);return D.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&x.__useRenderToTexture!==!1}function hn(D){let x=s.render.frame;d.get(D)!==x&&(d.set(D,x),D.update())}function Ge(D,x){let z=D.colorSpace,ne=D.format,de=D.type;return D.isCompressedTexture===!0||D.isVideoTexture===!0||z!==Va&&z!==jo&&(Vt.getTransfer(z)===Zt?(ne!==cr||de!==Or)&&rt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Dt("WebGLTextures: Unsupported texture color space:",z)),x}function at(D){return typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement?(l.width=D.naturalWidth||D.width,l.height=D.naturalHeight||D.height):typeof VideoFrame<"u"&&D instanceof VideoFrame?(l.width=D.displayWidth,l.height=D.displayHeight):(l.width=D.width,l.height=D.height),l}this.allocateTextureUnit=Z,this.resetTextureUnits=W,this.setTexture2D=Q,this.setTexture2DArray=U,this.setTexture3D=G,this.setTextureCube=L,this.rebindTextures=Gn,this.setupRenderTarget=Tt,this.updateRenderTargetMipmap=dn,this.updateMultisampleRenderTarget=Pt,this.setupDepthRenderbuffer=gt,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=Re}function D9(n,e){function t(i,r=jo){let o,s=Vt.getTransfer(r);if(i===Or)return n.UNSIGNED_BYTE;if(i===_g)return n.UNSIGNED_SHORT_4_4_4_4;if(i===bg)return n.UNSIGNED_SHORT_5_5_5_1;if(i===SM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===EM)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===wM)return n.BYTE;if(i===CM)return n.SHORT;if(i===bl)return n.UNSIGNED_SHORT;if(i===vg)return n.INT;if(i===js)return n.UNSIGNED_INT;if(i===io)return n.FLOAT;if(i===Ga)return n.HALF_FLOAT;if(i===IM)return n.ALPHA;if(i===TM)return n.RGB;if(i===cr)return n.RGBA;if(i===cl)return n.DEPTH_COMPONENT;if(i===xl)return n.DEPTH_STENCIL;if(i===DM)return n.RED;if(i===yg)return n.RED_INTEGER;if(i===xg)return n.RG;if(i===Mg)return n.RG_INTEGER;if(i===wg)return n.RGBA_INTEGER;if(i===Du||i===Au||i===Pu||i===Ou)if(s===Zt)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(i===Du)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Au)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Pu)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Ou)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(i===Du)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Au)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Pu)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Ou)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Cg||i===Sg||i===Eg||i===Ig)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(i===Cg)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Sg)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Eg)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Ig)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Tg||i===Dg||i===Ag)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(i===Tg||i===Dg)return s===Zt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(i===Ag)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Pg||i===Og||i===Rg||i===kg||i===Ng||i===Fg||i===Lg||i===Bg||i===Ug||i===Vg||i===zg||i===Hg||i===jg||i===Gg)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(i===Pg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Og)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Rg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===kg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Ng)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Fg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Lg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Bg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Ug)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Vg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===zg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Hg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===jg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Gg)return s===Zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Wg||i===$g||i===qg)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(i===Wg)return s===Zt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===$g)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===qg)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Yg||i===Xg||i===Zg||i===Kg)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(i===Yg)return o.COMPRESSED_RED_RGTC1_EXT;if(i===Xg)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Zg)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Kg)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===yl?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}var A9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,P9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,ZM=class{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){let i=new _u(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){let t=e.cameras[0].viewport,i=new ar({vertexShader:A9,fragmentShader:P9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new zi(new bu(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}},KM=class extends Vo{constructor(e,t){super();let i=this,r=null,o=1,s=null,a="local-floor",c=1,l=null,d=null,u=null,h=null,f=null,v=null,b=typeof XRWebGLBinding<"u",_=new ZM,m={},I=t.getContextAttributes(),C=null,A=null,P=[],T=[],O=new zt,j=null,E=new Yn;E.viewport=new Xt;let w=new Yn;w.viewport=new Xt;let N=[E,w],W=new rg,Z=null,re=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let K=P[te];return K===void 0&&(K=new pl,P[te]=K),K.getTargetRaySpace()},this.getControllerGrip=function(te){let K=P[te];return K===void 0&&(K=new pl,P[te]=K),K.getGripSpace()},this.getHand=function(te){let K=P[te];return K===void 0&&(K=new pl,P[te]=K),K.getHandSpace()};function Q(te){let K=T.indexOf(te.inputSource);if(K===-1)return;let Se=P[K];Se!==void 0&&(Se.update(te.inputSource,te.frame,l||s),Se.dispatchEvent({type:te.type,data:te.inputSource}))}function U(){r.removeEventListener("select",Q),r.removeEventListener("selectstart",Q),r.removeEventListener("selectend",Q),r.removeEventListener("squeeze",Q),r.removeEventListener("squeezestart",Q),r.removeEventListener("squeezeend",Q),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",G);for(let te=0;te<P.length;te++){let K=T[te];K!==null&&(T[te]=null,P[te].disconnect(K))}Z=null,re=null,_.reset();for(let te in m)delete m[te];e.setRenderTarget(C),f=null,h=null,u=null,r=null,A=null,Yt.stop(),i.isPresenting=!1,e.setPixelRatio(j),e.setSize(O.width,O.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){o=te,i.isPresenting===!0&&rt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){a=te,i.isPresenting===!0&&rt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(te){l=te},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return u===null&&b&&(u=new XRWebGLBinding(r,t)),u},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=function(te){return $o(this,null,function*(){if(r=te,r!==null){if(C=e.getRenderTarget(),r.addEventListener("select",Q),r.addEventListener("selectstart",Q),r.addEventListener("selectend",Q),r.addEventListener("squeeze",Q),r.addEventListener("squeezestart",Q),r.addEventListener("squeezeend",Q),r.addEventListener("end",U),r.addEventListener("inputsourceschange",G),I.xrCompatible!==!0&&(yield t.makeXRCompatible()),j=e.getPixelRatio(),e.getSize(O),b&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,Ue=null,ke=null;I.depth&&(ke=I.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Se=I.stencil?xl:cl,Ue=I.stencil?yl:js);let gt={colorFormat:t.RGBA8,depthFormat:ke,scaleFactor:o};u=this.getBinding(),h=u.createProjectionLayer(gt),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),A=new Qr(h.textureWidth,h.textureHeight,{format:cr,type:Or,depthTexture:new vu(h.textureWidth,h.textureHeight,Ue,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:I.stencil,colorSpace:e.outputColorSpace,samples:I.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{let Se={antialias:I.antialias,alpha:!0,depth:I.depth,stencil:I.stencil,framebufferScaleFactor:o};f=new XRWebGLLayer(r,t,Se),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),A=new Qr(f.framebufferWidth,f.framebufferHeight,{format:cr,type:Or,colorSpace:e.outputColorSpace,stencilBuffer:I.stencil,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(c),l=null,s=yield r.requestReferenceSpace(a),Yt.setContext(r),Yt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function G(te){for(let K=0;K<te.removed.length;K++){let Se=te.removed[K],Ue=T.indexOf(Se);Ue>=0&&(T[Ue]=null,P[Ue].disconnect(Se))}for(let K=0;K<te.added.length;K++){let Se=te.added[K],Ue=T.indexOf(Se);if(Ue===-1){for(let gt=0;gt<P.length;gt++)if(gt>=T.length){T.push(Se),Ue=gt;break}else if(T[gt]===null){T[gt]=Se,Ue=gt;break}if(Ue===-1)break}let ke=P[Ue];ke&&ke.connect(Se)}}let L=new H,J=new H;function pe(te,K,Se){L.setFromMatrixPosition(K.matrixWorld),J.setFromMatrixPosition(Se.matrixWorld);let Ue=L.distanceTo(J),ke=K.projectionMatrix.elements,gt=Se.projectionMatrix.elements,Gn=ke[14]/(ke[10]-1),Tt=ke[14]/(ke[10]+1),dn=(ke[9]+1)/ke[5],R=(ke[9]-1)/ke[5],At=(ke[8]-1)/ke[0],Pt=(gt[8]+1)/gt[0],on=Gn*At,Re=Gn*Pt,hn=Ue/(-At+Pt),Ge=hn*-At;if(K.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(Ge),te.translateZ(hn),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert(),ke[10]===-1)te.projectionMatrix.copy(K.projectionMatrix),te.projectionMatrixInverse.copy(K.projectionMatrixInverse);else{let at=Gn+hn,D=Tt+hn,x=on-Ge,z=Re+(Ue-Ge),ne=dn*Tt/D*at,de=R*Tt/D*at;te.projectionMatrix.makePerspective(x,z,ne,de,at,D),te.projectionMatrixInverse.copy(te.projectionMatrix).invert()}}function Ae(te,K){K===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(K.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(r===null)return;let K=te.near,Se=te.far;_.texture!==null&&(_.depthNear>0&&(K=_.depthNear),_.depthFar>0&&(Se=_.depthFar)),W.near=w.near=E.near=K,W.far=w.far=E.far=Se,(Z!==W.near||re!==W.far)&&(r.updateRenderState({depthNear:W.near,depthFar:W.far}),Z=W.near,re=W.far),W.layers.mask=te.layers.mask|6,E.layers.mask=W.layers.mask&3,w.layers.mask=W.layers.mask&5;let Ue=te.parent,ke=W.cameras;Ae(W,Ue);for(let gt=0;gt<ke.length;gt++)Ae(ke[gt],Ue);ke.length===2?pe(W,E,w):W.projectionMatrix.copy(E.projectionMatrix),Je(te,W,Ue)};function Je(te,K,Se){Se===null?te.matrix.copy(K.matrixWorld):(te.matrix.copy(Se.matrixWorld),te.matrix.invert(),te.matrix.multiply(K.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0),te.projectionMatrix.copy(K.projectionMatrix),te.projectionMatrixInverse.copy(K.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=Um*2*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}this.getCamera=function(){return W},this.getFoveation=function(){if(!(h===null&&f===null))return c},this.setFoveation=function(te){c=te,h!==null&&(h.fixedFoveation=te),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=te)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(W)},this.getCameraTexture=function(te){return m[te]};let It=null;function Xe(te,K){if(d=K.getViewerPose(l||s),v=K,d!==null){let Se=d.views;f!==null&&(e.setRenderTargetFramebuffer(A,f.framebuffer),e.setRenderTarget(A));let Ue=!1;Se.length!==W.cameras.length&&(W.cameras.length=0,Ue=!0);for(let Tt=0;Tt<Se.length;Tt++){let dn=Se[Tt],R=null;if(f!==null)R=f.getViewport(dn);else{let Pt=u.getViewSubImage(h,dn);R=Pt.viewport,Tt===0&&(e.setRenderTargetTextures(A,Pt.colorTexture,Pt.depthStencilTexture),e.setRenderTarget(A))}let At=N[Tt];At===void 0&&(At=new Yn,At.layers.enable(Tt),At.viewport=new Xt,N[Tt]=At),At.matrix.fromArray(dn.transform.matrix),At.matrix.decompose(At.position,At.quaternion,At.scale),At.projectionMatrix.fromArray(dn.projectionMatrix),At.projectionMatrixInverse.copy(At.projectionMatrix).invert(),At.viewport.set(R.x,R.y,R.width,R.height),Tt===0&&(W.matrix.copy(At.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale)),Ue===!0&&W.cameras.push(At)}let ke=r.enabledFeatures;if(ke&&ke.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&b){u=i.getBinding();let Tt=u.getDepthInformation(Se[0]);Tt&&Tt.isValid&&Tt.texture&&_.init(Tt,r.renderState)}if(ke&&ke.includes("camera-access")&&b){e.state.unbindTexture(),u=i.getBinding();for(let Tt=0;Tt<Se.length;Tt++){let dn=Se[Tt].camera;if(dn){let R=m[dn];R||(R=new _u,m[dn]=R);let At=u.getCameraImage(dn);R.sourceTexture=At}}}}for(let Se=0;Se<P.length;Se++){let Ue=T[Se],ke=P[Se];Ue!==null&&ke!==void 0&&ke.update(Ue,K,l||s)}It&&It(te,K),K.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:K}),v=null}let Yt=new rO;Yt.setAnimationLoop(Xe),this.setAnimationLoop=function(te){It=te},this.dispose=function(){}}},qa=new Us,O9=new un;function R9(n,e){function t(_,m){_.matrixAutoUpdate===!0&&_.updateMatrix(),m.value.copy(_.matrix)}function i(_,m){m.color.getRGB(_.fogColor.value,NM(n)),m.isFog?(_.fogNear.value=m.near,_.fogFar.value=m.far):m.isFogExp2&&(_.fogDensity.value=m.density)}function r(_,m,I,C,A){m.isMeshBasicMaterial||m.isMeshLambertMaterial?o(_,m):m.isMeshToonMaterial?(o(_,m),u(_,m)):m.isMeshPhongMaterial?(o(_,m),d(_,m)):m.isMeshStandardMaterial?(o(_,m),h(_,m),m.isMeshPhysicalMaterial&&f(_,m,A)):m.isMeshMatcapMaterial?(o(_,m),v(_,m)):m.isMeshDepthMaterial?o(_,m):m.isMeshDistanceMaterial?(o(_,m),b(_,m)):m.isMeshNormalMaterial?o(_,m):m.isLineBasicMaterial?(s(_,m),m.isLineDashedMaterial&&a(_,m)):m.isPointsMaterial?c(_,m,I,C):m.isSpriteMaterial?l(_,m):m.isShadowMaterial?(_.color.value.copy(m.color),_.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function o(_,m){_.opacity.value=m.opacity,m.color&&_.diffuse.value.copy(m.color),m.emissive&&_.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.bumpMap&&(_.bumpMap.value=m.bumpMap,t(m.bumpMap,_.bumpMapTransform),_.bumpScale.value=m.bumpScale,m.side===fi&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,t(m.normalMap,_.normalMapTransform),_.normalScale.value.copy(m.normalScale),m.side===fi&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,t(m.displacementMap,_.displacementMapTransform),_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias),m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,_.emissiveMapTransform)),m.specularMap&&(_.specularMap.value=m.specularMap,t(m.specularMap,_.specularMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest);let I=e.get(m),C=I.envMap,A=I.envMapRotation;C&&(_.envMap.value=C,qa.copy(A),qa.x*=-1,qa.y*=-1,qa.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(qa.y*=-1,qa.z*=-1),_.envMapRotation.value.setFromMatrix4(O9.makeRotationFromEuler(qa)),_.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=m.reflectivity,_.ior.value=m.ior,_.refractionRatio.value=m.refractionRatio),m.lightMap&&(_.lightMap.value=m.lightMap,_.lightMapIntensity.value=m.lightMapIntensity,t(m.lightMap,_.lightMapTransform)),m.aoMap&&(_.aoMap.value=m.aoMap,_.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,_.aoMapTransform))}function s(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform))}function a(_,m){_.dashSize.value=m.dashSize,_.totalSize.value=m.dashSize+m.gapSize,_.scale.value=m.scale}function c(_,m,I,C){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.size.value=m.size*I,_.scale.value=C*.5,m.map&&(_.map.value=m.map,t(m.map,_.uvTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}function l(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.rotation.value=m.rotation,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}function d(_,m){_.specular.value.copy(m.specular),_.shininess.value=Math.max(m.shininess,1e-4)}function u(_,m){m.gradientMap&&(_.gradientMap.value=m.gradientMap)}function h(_,m){_.metalness.value=m.metalness,m.metalnessMap&&(_.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,_.metalnessMapTransform)),_.roughness.value=m.roughness,m.roughnessMap&&(_.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,_.roughnessMapTransform)),m.envMap&&(_.envMapIntensity.value=m.envMapIntensity)}function f(_,m,I){_.ior.value=m.ior,m.sheen>0&&(_.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),_.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(_.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,_.sheenColorMapTransform)),m.sheenRoughnessMap&&(_.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,_.sheenRoughnessMapTransform))),m.clearcoat>0&&(_.clearcoat.value=m.clearcoat,_.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(_.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,_.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(_.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===fi&&_.clearcoatNormalScale.value.negate())),m.dispersion>0&&(_.dispersion.value=m.dispersion),m.iridescence>0&&(_.iridescence.value=m.iridescence,_.iridescenceIOR.value=m.iridescenceIOR,_.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(_.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,_.iridescenceMapTransform)),m.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),m.transmission>0&&(_.transmission.value=m.transmission,_.transmissionSamplerMap.value=I.texture,_.transmissionSamplerSize.value.set(I.width,I.height),m.transmissionMap&&(_.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,_.transmissionMapTransform)),_.thickness.value=m.thickness,m.thicknessMap&&(_.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=m.attenuationDistance,_.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(_.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(_.anisotropyMap.value=m.anisotropyMap,t(m.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=m.specularIntensity,_.specularColor.value.copy(m.specularColor),m.specularColorMap&&(_.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,_.specularColorMapTransform)),m.specularIntensityMap&&(_.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,_.specularIntensityMapTransform))}function v(_,m){m.matcap&&(_.matcap.value=m.matcap)}function b(_,m){let I=e.get(m).light;_.referencePosition.value.setFromMatrixPosition(I.matrixWorld),_.nearDistance.value=I.shadow.camera.near,_.farDistance.value=I.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function k9(n,e,t,i){let r={},o={},s=[],a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(I,C){let A=C.program;i.uniformBlockBinding(I,A)}function l(I,C){let A=r[I.id];A===void 0&&(v(I),A=d(I),r[I.id]=A,I.addEventListener("dispose",_));let P=C.program;i.updateUBOMapping(I,P);let T=e.render.frame;o[I.id]!==T&&(h(I),o[I.id]=T)}function d(I){let C=u();I.__bindingPointIndex=C;let A=n.createBuffer(),P=I.__size,T=I.usage;return n.bindBuffer(n.UNIFORM_BUFFER,A),n.bufferData(n.UNIFORM_BUFFER,P,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,A),A}function u(){for(let I=0;I<a;I++)if(s.indexOf(I)===-1)return s.push(I),I;return Dt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(I){let C=r[I.id],A=I.uniforms,P=I.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let T=0,O=A.length;T<O;T++){let j=Array.isArray(A[T])?A[T]:[A[T]];for(let E=0,w=j.length;E<w;E++){let N=j[E];if(f(N,T,E,P)===!0){let W=N.__offset,Z=Array.isArray(N.value)?N.value:[N.value],re=0;for(let Q=0;Q<Z.length;Q++){let U=Z[Q],G=b(U);typeof U=="number"||typeof U=="boolean"?(N.__data[0]=U,n.bufferSubData(n.UNIFORM_BUFFER,W+re,N.__data)):U.isMatrix3?(N.__data[0]=U.elements[0],N.__data[1]=U.elements[1],N.__data[2]=U.elements[2],N.__data[3]=0,N.__data[4]=U.elements[3],N.__data[5]=U.elements[4],N.__data[6]=U.elements[5],N.__data[7]=0,N.__data[8]=U.elements[6],N.__data[9]=U.elements[7],N.__data[10]=U.elements[8],N.__data[11]=0):(U.toArray(N.__data,re),re+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,W,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function f(I,C,A,P){let T=I.value,O=C+"_"+A;if(P[O]===void 0)return typeof T=="number"||typeof T=="boolean"?P[O]=T:P[O]=T.clone(),!0;{let j=P[O];if(typeof T=="number"||typeof T=="boolean"){if(j!==T)return P[O]=T,!0}else if(j.equals(T)===!1)return j.copy(T),!0}return!1}function v(I){let C=I.uniforms,A=0,P=16;for(let O=0,j=C.length;O<j;O++){let E=Array.isArray(C[O])?C[O]:[C[O]];for(let w=0,N=E.length;w<N;w++){let W=E[w],Z=Array.isArray(W.value)?W.value:[W.value];for(let re=0,Q=Z.length;re<Q;re++){let U=Z[re],G=b(U),L=A%P,J=L%G.boundary,pe=L+J;A+=J,pe!==0&&P-pe<G.storage&&(A+=P-pe),W.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=A,A+=G.storage}}}let T=A%P;return T>0&&(A+=P-T),I.__size=A,I.__cache={},this}function b(I){let C={boundary:0,storage:0};return typeof I=="number"||typeof I=="boolean"?(C.boundary=4,C.storage=4):I.isVector2?(C.boundary=8,C.storage=8):I.isVector3||I.isColor?(C.boundary=16,C.storage=12):I.isVector4?(C.boundary=16,C.storage=16):I.isMatrix3?(C.boundary=48,C.storage=48):I.isMatrix4?(C.boundary=64,C.storage=64):I.isTexture?rt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):rt("WebGLRenderer: Unsupported uniform value type.",I),C}function _(I){let C=I.target;C.removeEventListener("dispose",_);let A=s.indexOf(C.__bindingPointIndex);s.splice(A,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete o[C.id]}function m(){for(let I in r)n.deleteBuffer(r[I]);s=[],r={},o={}}return{bind:c,update:l,dispose:m}}var N9=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]),Wo=null;function F9(){return Wo===null&&(Wo=new Wm(N9,32,32,xg,Ga),Wo.minFilter=Vi,Wo.magFilter=Vi,Wo.wrapS=Kr,Wo.wrapT=Kr,Wo.generateMipmaps=!1,Wo.needsUpdate=!0),Wo}var t0=class{constructor(e={}){let{canvas:t=OP(),context:i=null,depth:r=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let f;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=i.getContextAttributes().alpha}else f=s;let v=new Set([wg,Mg,yg]),b=new Set([Or,js,bl,yl,_g,bg]),_=new Uint32Array(4),m=new Int32Array(4),I=null,C=null,A=[],P=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ho,this.toneMappingExposure=1,this.transmissionResolutionScale=1;let T=this,O=!1;this._outputColorSpace=Ui;let j=0,E=0,w=null,N=-1,W=null,Z=new Xt,re=new Xt,Q=null,U=new Et(0),G=0,L=t.width,J=t.height,pe=1,Ae=null,Je=null,It=new Xt(0,0,L,J),Xe=new Xt(0,0,L,J),Yt=!1,te=new ml,K=!1,Se=!1,Ue=new un,ke=new H,gt=new Xt,Gn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},Tt=!1;function dn(){return w===null?pe:1}let R=i;function At(M,F){return t.getContext(M,F)}try{let M={alpha:!0,depth:r,stencil:o,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${og}`),t.addEventListener("webglcontextlost",me,!1),t.addEventListener("webglcontextrestored",ie,!1),t.addEventListener("webglcontextcreationerror",Pe,!1),R===null){let F="webgl2";if(R=At(F,M),R===null)throw At(F)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(M){throw M("WebGLRenderer: "+M.message),M}let Pt,on,Re,hn,Ge,at,D,x,z,ne,de,X,Ve,Me,We,Ne,he,ve,et,Ze,Ie,nt,k,we;function be(){Pt=new QH(R),Pt.init(),nt=new D9(R,Pt),on=new jH(R,Pt,e,nt),Re=new I9(R,Pt),on.reversedDepthBuffer&&h&&Re.buffers.depth.setReversed(!0),hn=new tj(R),Ge=new p9,at=new T9(R,Pt,Re,Ge,on,nt,hn),D=new WH(T),x=new KH(T),z=new o8(R),k=new zH(R,z),ne=new JH(R,z,hn,k),de=new ij(R,ne,z,hn),et=new nj(R,on,at),Ne=new GH(Ge),X=new f9(T,D,x,Pt,on,k,Ne),Ve=new R9(T,Ge),Me=new g9,We=new M9(Pt),ve=new VH(T,D,x,Re,de,f,c),he=new S9(T,de,on),we=new k9(R,hn,on,Re),Ze=new HH(R,Pt,hn),Ie=new ej(R,Pt,hn),hn.programs=X.programs,T.capabilities=on,T.extensions=Pt,T.properties=Ge,T.renderLists=Me,T.shadowMap=he,T.state=Re,T.info=hn}be();let ye=new KM(T,R);this.xr=ye,this.getContext=function(){return R},this.getContextAttributes=function(){return R.getContextAttributes()},this.forceContextLoss=function(){let M=Pt.get("WEBGL_lose_context");M&&M.loseContext()},this.forceContextRestore=function(){let M=Pt.get("WEBGL_lose_context");M&&M.restoreContext()},this.getPixelRatio=function(){return pe},this.setPixelRatio=function(M){M!==void 0&&(pe=M,this.setSize(L,J,!1))},this.getSize=function(M){return M.set(L,J)},this.setSize=function(M,F,$=!0){if(ye.isPresenting){rt("WebGLRenderer: Can't change size while VR device is presenting.");return}L=M,J=F,t.width=Math.floor(M*pe),t.height=Math.floor(F*pe),$===!0&&(t.style.width=M+"px",t.style.height=F+"px"),this.setViewport(0,0,M,F)},this.getDrawingBufferSize=function(M){return M.set(L*pe,J*pe).floor()},this.setDrawingBufferSize=function(M,F,$){L=M,J=F,pe=$,t.width=Math.floor(M*$),t.height=Math.floor(F*$),this.setViewport(0,0,M,F)},this.getCurrentViewport=function(M){return M.copy(Z)},this.getViewport=function(M){return M.copy(It)},this.setViewport=function(M,F,$,q){M.isVector4?It.set(M.x,M.y,M.z,M.w):It.set(M,F,$,q),Re.viewport(Z.copy(It).multiplyScalar(pe).round())},this.getScissor=function(M){return M.copy(Xe)},this.setScissor=function(M,F,$,q){M.isVector4?Xe.set(M.x,M.y,M.z,M.w):Xe.set(M,F,$,q),Re.scissor(re.copy(Xe).multiplyScalar(pe).round())},this.getScissorTest=function(){return Yt},this.setScissorTest=function(M){Re.setScissorTest(Yt=M)},this.setOpaqueSort=function(M){Ae=M},this.setTransparentSort=function(M){Je=M},this.getClearColor=function(M){return M.copy(ve.getClearColor())},this.setClearColor=function(){ve.setClearColor(...arguments)},this.getClearAlpha=function(){return ve.getClearAlpha()},this.setClearAlpha=function(){ve.setClearAlpha(...arguments)},this.clear=function(M=!0,F=!0,$=!0){let q=0;if(M){let B=!1;if(w!==null){let ge=w.texture.format;B=v.has(ge)}if(B){let ge=w.texture.type,Ee=b.has(ge),Oe=ve.getClearColor(),De=ve.getClearAlpha(),Qe=Oe.r,tt=Oe.g,He=Oe.b;Ee?(_[0]=Qe,_[1]=tt,_[2]=He,_[3]=De,R.clearBufferuiv(R.COLOR,0,_)):(m[0]=Qe,m[1]=tt,m[2]=He,m[3]=De,R.clearBufferiv(R.COLOR,0,m))}else q|=R.COLOR_BUFFER_BIT}F&&(q|=R.DEPTH_BUFFER_BIT),$&&(q|=R.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),R.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",me,!1),t.removeEventListener("webglcontextrestored",ie,!1),t.removeEventListener("webglcontextcreationerror",Pe,!1),ve.dispose(),Me.dispose(),We.dispose(),Ge.dispose(),D.dispose(),x.dispose(),de.dispose(),k.dispose(),we.dispose(),X.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",JM),ye.removeEventListener("sessionend",ew),$s.stop()};function me(M){M.preventDefault(),kM("WebGLRenderer: Context Lost."),O=!0}function ie(){kM("WebGLRenderer: Context Restored."),O=!1;let M=hn.autoReset,F=he.enabled,$=he.autoUpdate,q=he.needsUpdate,B=he.type;be(),hn.autoReset=M,he.enabled=F,he.autoUpdate=$,he.needsUpdate=q,he.type=B}function Pe(M){Dt("WebGLRenderer: A WebGL context could not be created. Reason: ",M.statusMessage)}function st(M){let F=M.target;F.removeEventListener("dispose",st),ln(F)}function ln(M){Kt(M),Ge.remove(M)}function Kt(M){let F=Ge.get(M).programs;F!==void 0&&(F.forEach(function($){X.releaseProgram($)}),M.isShaderMaterial&&X.releaseShaderCache(M))}this.renderBufferDirect=function(M,F,$,q,B,ge){F===null&&(F=Gn);let Ee=B.isMesh&&B.matrixWorld.determinant()<0,Oe=dO(M,F,$,q,B);Re.setMaterial(q,Ee);let De=$.index,Qe=1;if(q.wireframe===!0){if(De=ne.getWireframeAttribute($),De===void 0)return;Qe=2}let tt=$.drawRange,He=$.attributes.position,Ot=tt.start*Qe,Qt=(tt.start+tt.count)*Qe;ge!==null&&(Ot=Math.max(Ot,ge.start*Qe),Qt=Math.min(Qt,(ge.start+ge.count)*Qe)),De!==null?(Ot=Math.max(Ot,0),Qt=Math.min(Qt,De.count)):He!=null&&(Ot=Math.max(Ot,0),Qt=Math.min(Qt,He.count));let _n=Qt-Ot;if(_n<0||_n===1/0)return;k.setup(B,q,Oe,$,De);let bn,en=Ze;if(De!==null&&(bn=z.get(De),en=Ie,en.setIndex(bn)),B.isMesh)q.wireframe===!0?(Re.setLineWidth(q.wireframeLinewidth*dn()),en.setMode(R.LINES)):en.setMode(R.TRIANGLES);else if(B.isLine){let $e=q.linewidth;$e===void 0&&($e=1),Re.setLineWidth($e*dn()),B.isLineSegments?en.setMode(R.LINES):B.isLineLoop?en.setMode(R.LINE_LOOP):en.setMode(R.LINE_STRIP)}else B.isPoints?en.setMode(R.POINTS):B.isSprite&&en.setMode(R.TRIANGLES);if(B.isBatchedMesh)if(B._multiDrawInstances!==null)dl("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),en.renderMultiDrawInstances(B._multiDrawStarts,B._multiDrawCounts,B._multiDrawCount,B._multiDrawInstances);else if(Pt.get("WEBGL_multi_draw"))en.renderMultiDraw(B._multiDrawStarts,B._multiDrawCounts,B._multiDrawCount);else{let $e=B._multiDrawStarts,fn=B._multiDrawCounts,Ht=B._multiDrawCount,Ei=De?z.get(De).bytesPerElement:1,Xa=Ge.get(q).currentProgram.getUniforms();for(let Ii=0;Ii<Ht;Ii++)Xa.setValue(R,"_gl_DrawID",Ii),en.render($e[Ii]/Ei,fn[Ii])}else if(B.isInstancedMesh)en.renderInstances(Ot,_n,B.count);else if($.isInstancedBufferGeometry){let $e=$._maxInstanceCount!==void 0?$._maxInstanceCount:1/0,fn=Math.min($.instanceCount,$e);en.renderInstances(Ot,_n,fn)}else en.render(Ot,_n)};function Rr(M,F,$){M.transparent===!0&&M.side===to&&M.forceSinglePass===!1?(M.side=fi,M.needsUpdate=!0,Uu(M,F,$),M.side=Uo,M.needsUpdate=!0,Uu(M,F,$),M.side=to):Uu(M,F,$)}this.compile=function(M,F,$=null){$===null&&($=M),C=We.get($),C.init(F),P.push(C),$.traverseVisible(function(B){B.isLight&&B.layers.test(F.layers)&&(C.pushLight(B),B.castShadow&&C.pushShadow(B))}),M!==$&&M.traverseVisible(function(B){B.isLight&&B.layers.test(F.layers)&&(C.pushLight(B),B.castShadow&&C.pushShadow(B))}),C.setupLights();let q=new Set;return M.traverse(function(B){if(!(B.isMesh||B.isPoints||B.isLine||B.isSprite))return;let ge=B.material;if(ge)if(Array.isArray(ge))for(let Ee=0;Ee<ge.length;Ee++){let Oe=ge[Ee];Rr(Oe,$,B),q.add(Oe)}else Rr(ge,$,B),q.add(ge)}),C=P.pop(),q},this.compileAsync=function(M,F,$=null){let q=this.compile(M,F,$);return new Promise(B=>{function ge(){if(q.forEach(function(Ee){Ge.get(Ee).currentProgram.isReady()&&q.delete(Ee)}),q.size===0){B(M);return}setTimeout(ge,10)}Pt.get("KHR_parallel_shader_compile")!==null?ge():setTimeout(ge,10)})};let lr=null;function lO(M){lr&&lr(M)}function JM(){$s.stop()}function ew(){$s.start()}let $s=new rO;$s.setAnimationLoop(lO),typeof self<"u"&&$s.setContext(self),this.setAnimationLoop=function(M){lr=M,ye.setAnimationLoop(M),M===null?$s.stop():$s.start()},ye.addEventListener("sessionstart",JM),ye.addEventListener("sessionend",ew),this.render=function(M,F){if(F!==void 0&&F.isCamera!==!0){Dt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(M.matrixWorldAutoUpdate===!0&&M.updateMatrixWorld(),F.parent===null&&F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ye.cameraAutoUpdate===!0&&ye.updateCamera(F),F=ye.getCamera()),M.isScene===!0&&M.onBeforeRender(T,M,F,w),C=We.get(M,P.length),C.init(F),P.push(C),Ue.multiplyMatrices(F.projectionMatrix,F.matrixWorldInverse),te.setFromProjectionMatrix(Ue,Pr,F.reversedDepth),Se=this.localClippingEnabled,K=Ne.init(this.clippingPlanes,Se),I=Me.get(M,A.length),I.init(),A.push(I),ye.enabled===!0&&ye.isPresenting===!0){let ge=T.xr.getDepthSensingMesh();ge!==null&&w0(ge,F,-1/0,T.sortObjects)}w0(M,F,0,T.sortObjects),I.finish(),T.sortObjects===!0&&I.sort(Ae,Je),Tt=ye.enabled===!1||ye.isPresenting===!1||ye.hasDepthSensing()===!1,Tt&&ve.addToRenderList(I,M),this.info.render.frame++,K===!0&&Ne.beginShadows();let $=C.state.shadowsArray;he.render($,M,F),K===!0&&Ne.endShadows(),this.info.autoReset===!0&&this.info.reset();let q=I.opaque,B=I.transmissive;if(C.setupLights(),F.isArrayCamera){let ge=F.cameras;if(B.length>0)for(let Ee=0,Oe=ge.length;Ee<Oe;Ee++){let De=ge[Ee];nw(q,B,M,De)}Tt&&ve.render(M);for(let Ee=0,Oe=ge.length;Ee<Oe;Ee++){let De=ge[Ee];tw(I,M,De,De.viewport)}}else B.length>0&&nw(q,B,M,F),Tt&&ve.render(M),tw(I,M,F);w!==null&&E===0&&(at.updateMultisampleRenderTarget(w),at.updateRenderTargetMipmap(w)),M.isScene===!0&&M.onAfterRender(T,M,F),k.resetDefaultState(),N=-1,W=null,P.pop(),P.length>0?(C=P[P.length-1],K===!0&&Ne.setGlobalState(T.clippingPlanes,C.state.camera)):C=null,A.pop(),A.length>0?I=A[A.length-1]:I=null};function w0(M,F,$,q){if(M.visible===!1)return;if(M.layers.test(F.layers)){if(M.isGroup)$=M.renderOrder;else if(M.isLOD)M.autoUpdate===!0&&M.update(F);else if(M.isLight)C.pushLight(M),M.castShadow&&C.pushShadow(M);else if(M.isSprite){if(!M.frustumCulled||te.intersectsSprite(M)){q&&gt.setFromMatrixPosition(M.matrixWorld).applyMatrix4(Ue);let Ee=de.update(M),Oe=M.material;Oe.visible&&I.push(M,Ee,Oe,$,gt.z,null)}}else if((M.isMesh||M.isLine||M.isPoints)&&(!M.frustumCulled||te.intersectsObject(M))){let Ee=de.update(M),Oe=M.material;if(q&&(M.boundingSphere!==void 0?(M.boundingSphere===null&&M.computeBoundingSphere(),gt.copy(M.boundingSphere.center)):(Ee.boundingSphere===null&&Ee.computeBoundingSphere(),gt.copy(Ee.boundingSphere.center)),gt.applyMatrix4(M.matrixWorld).applyMatrix4(Ue)),Array.isArray(Oe)){let De=Ee.groups;for(let Qe=0,tt=De.length;Qe<tt;Qe++){let He=De[Qe],Ot=Oe[He.materialIndex];Ot&&Ot.visible&&I.push(M,Ee,Ot,$,gt.z,He)}}else Oe.visible&&I.push(M,Ee,Oe,$,gt.z,null)}}let ge=M.children;for(let Ee=0,Oe=ge.length;Ee<Oe;Ee++)w0(ge[Ee],F,$,q)}function tw(M,F,$,q){let{opaque:B,transmissive:ge,transparent:Ee}=M;C.setupLightsView($),K===!0&&Ne.setGlobalState(T.clippingPlanes,$),q&&Re.viewport(Z.copy(q)),B.length>0&&Bu(B,F,$),ge.length>0&&Bu(ge,F,$),Ee.length>0&&Bu(Ee,F,$),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function nw(M,F,$,q){if(($.isScene===!0?$.overrideMaterial:null)!==null)return;C.state.transmissionRenderTarget[q.id]===void 0&&(C.state.transmissionRenderTarget[q.id]=new Qr(1,1,{generateMipmaps:!0,type:Pt.has("EXT_color_buffer_half_float")||Pt.has("EXT_color_buffer_float")?Ga:Or,minFilter:Hs,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Vt.workingColorSpace}));let ge=C.state.transmissionRenderTarget[q.id],Ee=q.viewport||Z;ge.setSize(Ee.z*T.transmissionResolutionScale,Ee.w*T.transmissionResolutionScale);let Oe=T.getRenderTarget(),De=T.getActiveCubeFace(),Qe=T.getActiveMipmapLevel();T.setRenderTarget(ge),T.getClearColor(U),G=T.getClearAlpha(),G<1&&T.setClearColor(16777215,.5),T.clear(),Tt&&ve.render($);let tt=T.toneMapping;T.toneMapping=Ho;let He=q.viewport;if(q.viewport!==void 0&&(q.viewport=void 0),C.setupLightsView(q),K===!0&&Ne.setGlobalState(T.clippingPlanes,q),Bu(M,$,q),at.updateMultisampleRenderTarget(ge),at.updateRenderTargetMipmap(ge),Pt.has("WEBGL_multisampled_render_to_texture")===!1){let Ot=!1;for(let Qt=0,_n=F.length;Qt<_n;Qt++){let bn=F[Qt],{object:en,geometry:$e,material:fn,group:Ht}=bn;if(fn.side===to&&en.layers.test(q.layers)){let Ei=fn.side;fn.side=fi,fn.needsUpdate=!0,iw(en,$,q,$e,fn,Ht),fn.side=Ei,fn.needsUpdate=!0,Ot=!0}}Ot===!0&&(at.updateMultisampleRenderTarget(ge),at.updateRenderTargetMipmap(ge))}T.setRenderTarget(Oe,De,Qe),T.setClearColor(U,G),He!==void 0&&(q.viewport=He),T.toneMapping=tt}function Bu(M,F,$){let q=F.isScene===!0?F.overrideMaterial:null;for(let B=0,ge=M.length;B<ge;B++){let Ee=M[B],{object:Oe,geometry:De,group:Qe}=Ee,tt=Ee.material;tt.allowOverride===!0&&q!==null&&(tt=q),Oe.layers.test($.layers)&&iw(Oe,F,$,De,tt,Qe)}}function iw(M,F,$,q,B,ge){M.onBeforeRender(T,F,$,q,B,ge),M.modelViewMatrix.multiplyMatrices($.matrixWorldInverse,M.matrixWorld),M.normalMatrix.getNormalMatrix(M.modelViewMatrix),B.onBeforeRender(T,F,$,q,M,ge),B.transparent===!0&&B.side===to&&B.forceSinglePass===!1?(B.side=fi,B.needsUpdate=!0,T.renderBufferDirect($,F,q,B,M,ge),B.side=Uo,B.needsUpdate=!0,T.renderBufferDirect($,F,q,B,M,ge),B.side=to):T.renderBufferDirect($,F,q,B,M,ge),M.onAfterRender(T,F,$,q,B,ge)}function Uu(M,F,$){F.isScene!==!0&&(F=Gn);let q=Ge.get(M),B=C.state.lights,ge=C.state.shadowsArray,Ee=B.state.version,Oe=X.getParameters(M,B.state,ge,F,$),De=X.getProgramCacheKey(Oe),Qe=q.programs;q.environment=M.isMeshStandardMaterial?F.environment:null,q.fog=F.fog,q.envMap=(M.isMeshStandardMaterial?x:D).get(M.envMap||q.environment),q.envMapRotation=q.environment!==null&&M.envMap===null?F.environmentRotation:M.envMapRotation,Qe===void 0&&(M.addEventListener("dispose",st),Qe=new Map,q.programs=Qe);let tt=Qe.get(De);if(tt!==void 0){if(q.currentProgram===tt&&q.lightsStateVersion===Ee)return ow(M,Oe),tt}else Oe.uniforms=X.getUniforms(M),M.onBeforeCompile(Oe,T),tt=X.acquireProgram(Oe,De),Qe.set(De,tt),q.uniforms=Oe.uniforms;let He=q.uniforms;return(!M.isShaderMaterial&&!M.isRawShaderMaterial||M.clipping===!0)&&(He.clippingPlanes=Ne.uniform),ow(M,Oe),q.needsLights=hO(M),q.lightsStateVersion=Ee,q.needsLights&&(He.ambientLightColor.value=B.state.ambient,He.lightProbe.value=B.state.probe,He.directionalLights.value=B.state.directional,He.directionalLightShadows.value=B.state.directionalShadow,He.spotLights.value=B.state.spot,He.spotLightShadows.value=B.state.spotShadow,He.rectAreaLights.value=B.state.rectArea,He.ltc_1.value=B.state.rectAreaLTC1,He.ltc_2.value=B.state.rectAreaLTC2,He.pointLights.value=B.state.point,He.pointLightShadows.value=B.state.pointShadow,He.hemisphereLights.value=B.state.hemi,He.directionalShadowMap.value=B.state.directionalShadowMap,He.directionalShadowMatrix.value=B.state.directionalShadowMatrix,He.spotShadowMap.value=B.state.spotShadowMap,He.spotLightMatrix.value=B.state.spotLightMatrix,He.spotLightMap.value=B.state.spotLightMap,He.pointShadowMap.value=B.state.pointShadowMap,He.pointShadowMatrix.value=B.state.pointShadowMatrix),q.currentProgram=tt,q.uniformsList=null,tt}function rw(M){if(M.uniformsList===null){let F=M.currentProgram.getUniforms();M.uniformsList=wl.seqWithValue(F.seq,M.uniforms)}return M.uniformsList}function ow(M,F){let $=Ge.get(M);$.outputColorSpace=F.outputColorSpace,$.batching=F.batching,$.batchingColor=F.batchingColor,$.instancing=F.instancing,$.instancingColor=F.instancingColor,$.instancingMorph=F.instancingMorph,$.skinning=F.skinning,$.morphTargets=F.morphTargets,$.morphNormals=F.morphNormals,$.morphColors=F.morphColors,$.morphTargetsCount=F.morphTargetsCount,$.numClippingPlanes=F.numClippingPlanes,$.numIntersection=F.numClipIntersection,$.vertexAlphas=F.vertexAlphas,$.vertexTangents=F.vertexTangents,$.toneMapping=F.toneMapping}function dO(M,F,$,q,B){F.isScene!==!0&&(F=Gn),at.resetTextureUnits();let ge=F.fog,Ee=q.isMeshStandardMaterial?F.environment:null,Oe=w===null?T.outputColorSpace:w.isXRRenderTarget===!0?w.texture.colorSpace:Va,De=(q.isMeshStandardMaterial?x:D).get(q.envMap||Ee),Qe=q.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,tt=!!$.attributes.tangent&&(!!q.normalMap||q.anisotropy>0),He=!!$.morphAttributes.position,Ot=!!$.morphAttributes.normal,Qt=!!$.morphAttributes.color,_n=Ho;q.toneMapped&&(w===null||w.isXRRenderTarget===!0)&&(_n=T.toneMapping);let bn=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,en=bn!==void 0?bn.length:0,$e=Ge.get(q),fn=C.state.lights;if(K===!0&&(Se===!0||M!==W)){let ni=M===W&&q.id===N;Ne.setState(q,M,ni)}let Ht=!1;q.version===$e.__version?($e.needsLights&&$e.lightsStateVersion!==fn.state.version||$e.outputColorSpace!==Oe||B.isBatchedMesh&&$e.batching===!1||!B.isBatchedMesh&&$e.batching===!0||B.isBatchedMesh&&$e.batchingColor===!0&&B.colorTexture===null||B.isBatchedMesh&&$e.batchingColor===!1&&B.colorTexture!==null||B.isInstancedMesh&&$e.instancing===!1||!B.isInstancedMesh&&$e.instancing===!0||B.isSkinnedMesh&&$e.skinning===!1||!B.isSkinnedMesh&&$e.skinning===!0||B.isInstancedMesh&&$e.instancingColor===!0&&B.instanceColor===null||B.isInstancedMesh&&$e.instancingColor===!1&&B.instanceColor!==null||B.isInstancedMesh&&$e.instancingMorph===!0&&B.morphTexture===null||B.isInstancedMesh&&$e.instancingMorph===!1&&B.morphTexture!==null||$e.envMap!==De||q.fog===!0&&$e.fog!==ge||$e.numClippingPlanes!==void 0&&($e.numClippingPlanes!==Ne.numPlanes||$e.numIntersection!==Ne.numIntersection)||$e.vertexAlphas!==Qe||$e.vertexTangents!==tt||$e.morphTargets!==He||$e.morphNormals!==Ot||$e.morphColors!==Qt||$e.toneMapping!==_n||$e.morphTargetsCount!==en)&&(Ht=!0):(Ht=!0,$e.__version=q.version);let Ei=$e.currentProgram;Ht===!0&&(Ei=Uu(q,F,B));let Xa=!1,Ii=!1,Sl=!1,pn=Ei.getUniforms(),pi=$e.uniforms;if(Re.useProgram(Ei.program)&&(Xa=!0,Ii=!0,Sl=!0),q.id!==N&&(N=q.id,Ii=!0),Xa||W!==M){Re.buffers.depth.getReversed()&&M.reversedDepth!==!0&&(M._reversedDepth=!0,M.updateProjectionMatrix()),pn.setValue(R,"projectionMatrix",M.projectionMatrix),pn.setValue(R,"viewMatrix",M.matrixWorldInverse);let mi=pn.map.cameraPosition;mi!==void 0&&mi.setValue(R,ke.setFromMatrixPosition(M.matrixWorld)),on.logarithmicDepthBuffer&&pn.setValue(R,"logDepthBufFC",2/(Math.log(M.far+1)/Math.LN2)),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&pn.setValue(R,"isOrthographic",M.isOrthographicCamera===!0),W!==M&&(W=M,Ii=!0,Sl=!0)}if(B.isSkinnedMesh){pn.setOptional(R,B,"bindMatrix"),pn.setOptional(R,B,"bindMatrixInverse");let ni=B.skeleton;ni&&(ni.boneTexture===null&&ni.computeBoneTexture(),pn.setValue(R,"boneTexture",ni.boneTexture,at))}B.isBatchedMesh&&(pn.setOptional(R,B,"batchingTexture"),pn.setValue(R,"batchingTexture",B._matricesTexture,at),pn.setOptional(R,B,"batchingIdTexture"),pn.setValue(R,"batchingIdTexture",B._indirectTexture,at),pn.setOptional(R,B,"batchingColorTexture"),B._colorsTexture!==null&&pn.setValue(R,"batchingColorTexture",B._colorsTexture,at));let ji=$.morphAttributes;if((ji.position!==void 0||ji.normal!==void 0||ji.color!==void 0)&&et.update(B,$,Ei),(Ii||$e.receiveShadow!==B.receiveShadow)&&($e.receiveShadow=B.receiveShadow,pn.setValue(R,"receiveShadow",B.receiveShadow)),q.isMeshGouraudMaterial&&q.envMap!==null&&(pi.envMap.value=De,pi.flipEnvMap.value=De.isCubeTexture&&De.isRenderTargetTexture===!1?-1:1),q.isMeshStandardMaterial&&q.envMap===null&&F.environment!==null&&(pi.envMapIntensity.value=F.environmentIntensity),pi.dfgLUT!==void 0&&(pi.dfgLUT.value=F9()),Ii&&(pn.setValue(R,"toneMappingExposure",T.toneMappingExposure),$e.needsLights&&uO(pi,Sl),ge&&q.fog===!0&&Ve.refreshFogUniforms(pi,ge),Ve.refreshMaterialUniforms(pi,q,pe,J,C.state.transmissionRenderTarget[M.id]),wl.upload(R,rw($e),pi,at)),q.isShaderMaterial&&q.uniformsNeedUpdate===!0&&(wl.upload(R,rw($e),pi,at),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&pn.setValue(R,"center",B.center),pn.setValue(R,"modelViewMatrix",B.modelViewMatrix),pn.setValue(R,"normalMatrix",B.normalMatrix),pn.setValue(R,"modelMatrix",B.matrixWorld),q.isShaderMaterial||q.isRawShaderMaterial){let ni=q.uniformsGroups;for(let mi=0,C0=ni.length;mi<C0;mi++){let qs=ni[mi];we.update(qs,Ei),we.bind(qs,Ei)}}return Ei}function uO(M,F){M.ambientLightColor.needsUpdate=F,M.lightProbe.needsUpdate=F,M.directionalLights.needsUpdate=F,M.directionalLightShadows.needsUpdate=F,M.pointLights.needsUpdate=F,M.pointLightShadows.needsUpdate=F,M.spotLights.needsUpdate=F,M.spotLightShadows.needsUpdate=F,M.rectAreaLights.needsUpdate=F,M.hemisphereLights.needsUpdate=F}function hO(M){return M.isMeshLambertMaterial||M.isMeshToonMaterial||M.isMeshPhongMaterial||M.isMeshStandardMaterial||M.isShadowMaterial||M.isShaderMaterial&&M.lights===!0}this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(M,F,$){let q=Ge.get(M);q.__autoAllocateDepthBuffer=M.resolveDepthBuffer===!1,q.__autoAllocateDepthBuffer===!1&&(q.__useRenderToTexture=!1),Ge.get(M.texture).__webglTexture=F,Ge.get(M.depthTexture).__webglTexture=q.__autoAllocateDepthBuffer?void 0:$,q.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(M,F){let $=Ge.get(M);$.__webglFramebuffer=F,$.__useDefaultFramebuffer=F===void 0};let fO=R.createFramebuffer();this.setRenderTarget=function(M,F=0,$=0){w=M,j=F,E=$;let q=!0,B=null,ge=!1,Ee=!1;if(M){let De=Ge.get(M);if(De.__useDefaultFramebuffer!==void 0)Re.bindFramebuffer(R.FRAMEBUFFER,null),q=!1;else if(De.__webglFramebuffer===void 0)at.setupRenderTarget(M);else if(De.__hasExternalTextures)at.rebindTextures(M,Ge.get(M.texture).__webglTexture,Ge.get(M.depthTexture).__webglTexture);else if(M.depthBuffer){let He=M.depthTexture;if(De.__boundDepthTexture!==He){if(He!==null&&Ge.has(He)&&(M.width!==He.image.width||M.height!==He.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");at.setupDepthRenderbuffer(M)}}let Qe=M.texture;(Qe.isData3DTexture||Qe.isDataArrayTexture||Qe.isCompressedArrayTexture)&&(Ee=!0);let tt=Ge.get(M).__webglFramebuffer;M.isWebGLCubeRenderTarget?(Array.isArray(tt[F])?B=tt[F][$]:B=tt[F],ge=!0):M.samples>0&&at.useMultisampledRTT(M)===!1?B=Ge.get(M).__webglMultisampledFramebuffer:Array.isArray(tt)?B=tt[$]:B=tt,Z.copy(M.viewport),re.copy(M.scissor),Q=M.scissorTest}else Z.copy(It).multiplyScalar(pe).floor(),re.copy(Xe).multiplyScalar(pe).floor(),Q=Yt;if($!==0&&(B=fO),Re.bindFramebuffer(R.FRAMEBUFFER,B)&&q&&Re.drawBuffers(M,B),Re.viewport(Z),Re.scissor(re),Re.setScissorTest(Q),ge){let De=Ge.get(M.texture);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_CUBE_MAP_POSITIVE_X+F,De.__webglTexture,$)}else if(Ee){let De=F;for(let Qe=0;Qe<M.textures.length;Qe++){let tt=Ge.get(M.textures[Qe]);R.framebufferTextureLayer(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0+Qe,tt.__webglTexture,$,De)}}else if(M!==null&&$!==0){let De=Ge.get(M.texture);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,De.__webglTexture,$)}N=-1},this.readRenderTargetPixels=function(M,F,$,q,B,ge,Ee,Oe=0){if(!(M&&M.isWebGLRenderTarget)){Dt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let De=Ge.get(M).__webglFramebuffer;if(M.isWebGLCubeRenderTarget&&Ee!==void 0&&(De=De[Ee]),De){Re.bindFramebuffer(R.FRAMEBUFFER,De);try{let Qe=M.textures[Oe],tt=Qe.format,He=Qe.type;if(!on.textureFormatReadable(tt)){Dt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!on.textureTypeReadable(He)){Dt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}F>=0&&F<=M.width-q&&$>=0&&$<=M.height-B&&(M.textures.length>1&&R.readBuffer(R.COLOR_ATTACHMENT0+Oe),R.readPixels(F,$,q,B,nt.convert(tt),nt.convert(He),ge))}finally{let Qe=w!==null?Ge.get(w).__webglFramebuffer:null;Re.bindFramebuffer(R.FRAMEBUFFER,Qe)}}},this.readRenderTargetPixelsAsync=function(M,F,$,q,B,ge,Ee,Oe=0){return $o(this,null,function*(){if(!(M&&M.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let De=Ge.get(M).__webglFramebuffer;if(M.isWebGLCubeRenderTarget&&Ee!==void 0&&(De=De[Ee]),De)if(F>=0&&F<=M.width-q&&$>=0&&$<=M.height-B){Re.bindFramebuffer(R.FRAMEBUFFER,De);let Qe=M.textures[Oe],tt=Qe.format,He=Qe.type;if(!on.textureFormatReadable(tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!on.textureTypeReadable(He))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");let Ot=R.createBuffer();R.bindBuffer(R.PIXEL_PACK_BUFFER,Ot),R.bufferData(R.PIXEL_PACK_BUFFER,ge.byteLength,R.STREAM_READ),M.textures.length>1&&R.readBuffer(R.COLOR_ATTACHMENT0+Oe),R.readPixels(F,$,q,B,nt.convert(tt),nt.convert(He),0);let Qt=w!==null?Ge.get(w).__webglFramebuffer:null;Re.bindFramebuffer(R.FRAMEBUFFER,Qt);let _n=R.fenceSync(R.SYNC_GPU_COMMANDS_COMPLETE,0);return R.flush(),yield RP(R,_n,4),R.bindBuffer(R.PIXEL_PACK_BUFFER,Ot),R.getBufferSubData(R.PIXEL_PACK_BUFFER,0,ge),R.deleteBuffer(Ot),R.deleteSync(_n),ge}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")})},this.copyFramebufferToTexture=function(M,F=null,$=0){let q=Math.pow(2,-$),B=Math.floor(M.image.width*q),ge=Math.floor(M.image.height*q),Ee=F!==null?F.x:0,Oe=F!==null?F.y:0;at.setTexture2D(M,0),R.copyTexSubImage2D(R.TEXTURE_2D,$,0,0,Ee,Oe,B,ge),Re.unbindTexture()};let pO=R.createFramebuffer(),mO=R.createFramebuffer();this.copyTextureToTexture=function(M,F,$=null,q=null,B=0,ge=null){ge===null&&(B!==0?(dl("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ge=B,B=0):ge=0);let Ee,Oe,De,Qe,tt,He,Ot,Qt,_n,bn=M.isCompressedTexture?M.mipmaps[ge]:M.image;if($!==null)Ee=$.max.x-$.min.x,Oe=$.max.y-$.min.y,De=$.isBox3?$.max.z-$.min.z:1,Qe=$.min.x,tt=$.min.y,He=$.isBox3?$.min.z:0;else{let ji=Math.pow(2,-B);Ee=Math.floor(bn.width*ji),Oe=Math.floor(bn.height*ji),M.isDataArrayTexture?De=bn.depth:M.isData3DTexture?De=Math.floor(bn.depth*ji):De=1,Qe=0,tt=0,He=0}q!==null?(Ot=q.x,Qt=q.y,_n=q.z):(Ot=0,Qt=0,_n=0);let en=nt.convert(F.format),$e=nt.convert(F.type),fn;F.isData3DTexture?(at.setTexture3D(F,0),fn=R.TEXTURE_3D):F.isDataArrayTexture||F.isCompressedArrayTexture?(at.setTexture2DArray(F,0),fn=R.TEXTURE_2D_ARRAY):(at.setTexture2D(F,0),fn=R.TEXTURE_2D),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,F.flipY),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),R.pixelStorei(R.UNPACK_ALIGNMENT,F.unpackAlignment);let Ht=R.getParameter(R.UNPACK_ROW_LENGTH),Ei=R.getParameter(R.UNPACK_IMAGE_HEIGHT),Xa=R.getParameter(R.UNPACK_SKIP_PIXELS),Ii=R.getParameter(R.UNPACK_SKIP_ROWS),Sl=R.getParameter(R.UNPACK_SKIP_IMAGES);R.pixelStorei(R.UNPACK_ROW_LENGTH,bn.width),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,bn.height),R.pixelStorei(R.UNPACK_SKIP_PIXELS,Qe),R.pixelStorei(R.UNPACK_SKIP_ROWS,tt),R.pixelStorei(R.UNPACK_SKIP_IMAGES,He);let pn=M.isDataArrayTexture||M.isData3DTexture,pi=F.isDataArrayTexture||F.isData3DTexture;if(M.isDepthTexture){let ji=Ge.get(M),ni=Ge.get(F),mi=Ge.get(ji.__renderTarget),C0=Ge.get(ni.__renderTarget);Re.bindFramebuffer(R.READ_FRAMEBUFFER,mi.__webglFramebuffer),Re.bindFramebuffer(R.DRAW_FRAMEBUFFER,C0.__webglFramebuffer);for(let qs=0;qs<De;qs++)pn&&(R.framebufferTextureLayer(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,Ge.get(M).__webglTexture,B,He+qs),R.framebufferTextureLayer(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,Ge.get(F).__webglTexture,ge,_n+qs)),R.blitFramebuffer(Qe,tt,Ee,Oe,Ot,Qt,Ee,Oe,R.DEPTH_BUFFER_BIT,R.NEAREST);Re.bindFramebuffer(R.READ_FRAMEBUFFER,null),Re.bindFramebuffer(R.DRAW_FRAMEBUFFER,null)}else if(B!==0||M.isRenderTargetTexture||Ge.has(M)){let ji=Ge.get(M),ni=Ge.get(F);Re.bindFramebuffer(R.READ_FRAMEBUFFER,pO),Re.bindFramebuffer(R.DRAW_FRAMEBUFFER,mO);for(let mi=0;mi<De;mi++)pn?R.framebufferTextureLayer(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,ji.__webglTexture,B,He+mi):R.framebufferTexture2D(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,ji.__webglTexture,B),pi?R.framebufferTextureLayer(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,ni.__webglTexture,ge,_n+mi):R.framebufferTexture2D(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,ni.__webglTexture,ge),B!==0?R.blitFramebuffer(Qe,tt,Ee,Oe,Ot,Qt,Ee,Oe,R.COLOR_BUFFER_BIT,R.NEAREST):pi?R.copyTexSubImage3D(fn,ge,Ot,Qt,_n+mi,Qe,tt,Ee,Oe):R.copyTexSubImage2D(fn,ge,Ot,Qt,Qe,tt,Ee,Oe);Re.bindFramebuffer(R.READ_FRAMEBUFFER,null),Re.bindFramebuffer(R.DRAW_FRAMEBUFFER,null)}else pi?M.isDataTexture||M.isData3DTexture?R.texSubImage3D(fn,ge,Ot,Qt,_n,Ee,Oe,De,en,$e,bn.data):F.isCompressedArrayTexture?R.compressedTexSubImage3D(fn,ge,Ot,Qt,_n,Ee,Oe,De,en,bn.data):R.texSubImage3D(fn,ge,Ot,Qt,_n,Ee,Oe,De,en,$e,bn):M.isDataTexture?R.texSubImage2D(R.TEXTURE_2D,ge,Ot,Qt,Ee,Oe,en,$e,bn.data):M.isCompressedTexture?R.compressedTexSubImage2D(R.TEXTURE_2D,ge,Ot,Qt,bn.width,bn.height,en,bn.data):R.texSubImage2D(R.TEXTURE_2D,ge,Ot,Qt,Ee,Oe,en,$e,bn);R.pixelStorei(R.UNPACK_ROW_LENGTH,Ht),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,Ei),R.pixelStorei(R.UNPACK_SKIP_PIXELS,Xa),R.pixelStorei(R.UNPACK_SKIP_ROWS,Ii),R.pixelStorei(R.UNPACK_SKIP_IMAGES,Sl),ge===0&&F.generateMipmaps&&R.generateMipmap(fn),Re.unbindTexture()},this.initRenderTarget=function(M){Ge.get(M).__webglFramebuffer===void 0&&at.setupRenderTarget(M)},this.initTexture=function(M){M.isCubeTexture?at.setTextureCube(M,0):M.isData3DTexture?at.setTexture3D(M,0):M.isDataArrayTexture||M.isCompressedArrayTexture?at.setTexture2DArray(M,0):at.setTexture2D(M,0),Re.unbindTexture()},this.resetState=function(){j=0,E=0,w=null,Re.reset(),k.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Pr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;let t=this.getContext();t.drawingBufferColorSpace=Vt._getDrawingBufferColorSpace(e),t.unpackColorSpace=Vt._getUnpackColorSpace()}};var B9=["brainCanvas"],r0=class n{constructor(e){this.platformId=e}canvasRef;scene;camera;renderer;brain;animationId;mouseX=0;mouseY=0;ngOnInit(){So(this.platformId)&&(this.initScene(),this.createBrain(),this.animate(),this.setupEventListeners())}ngOnDestroy(){So(this.platformId)&&(cancelAnimationFrame(this.animationId),this.renderer?.dispose(),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize))}initScene(){let e=this.canvasRef.nativeElement;this.scene=new pu,this.scene.fog=new fu(16251388,10,50),this.camera=new Yn(45,e.clientWidth/e.clientHeight,.1,1e3),this.camera.position.z=25,this.renderer=new t0({canvas:e,alpha:!0,antialias:!0}),this.renderer.setSize(e.clientWidth,e.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));let t=new Eu(16777215,.6);this.scene.add(t);let i=new Su(4556019,.8);i.position.set(5,5,5),this.scene.add(i);let r=new wu(47273,.5);r.position.set(-5,-5,5),this.scene.add(r)}createBrain(){this.brain=new Lo;let e=new yu(3,32,32),t=new xu({color:4556019,transparent:!0,opacity:.3,wireframe:!1}),i=new zi(e,t);this.brain.add(i);let r=new gl({color:47273,transparent:!0,opacity:.6});for(let d=0;d<50;d++){let u=[];for(let v=0;v<10;v++)u.push(new H((Math.random()-.5)*8,(Math.random()-.5)*8,(Math.random()-.5)*8));let h=new hi().setFromPoints(u),f=new mu(h,r);this.brain.add(f)}let o=new hi,s=200,a=new Float32Array(s*3);for(let d=0;d<s*3;d++)a[d]=(Math.random()-.5)*10;o.setAttribute("position",new ui(a,3));let c=new vl({color:4556019,size:.05,transparent:!0,opacity:.8}),l=new gu(o,c);this.brain.add(l),this.scene.add(this.brain)}animate=()=>{this.animationId=requestAnimationFrame(this.animate),this.brain.rotation.y+=.001,this.brain.rotation.x+=5e-4,this.brain.rotation.y+=(this.mouseX*.5-this.brain.rotation.y)*.05,this.brain.rotation.x+=(this.mouseY*.5-this.brain.rotation.x)*.05,this.renderer.render(this.scene,this.camera)};setupEventListeners(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("resize",this.onWindowResize)}onMouseMove=e=>{this.mouseX=e.clientX/window.innerWidth*2-1,this.mouseY=-(e.clientY/window.innerHeight)*2+1};onWindowResize=()=>{let e=this.canvasRef.nativeElement;this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.clientWidth,e.clientHeight)};static \u0275fac=function(t){return new(t||n)(ee(Zn))};static \u0275cmp=Fe({type:n,selectors:[["app-brain-animation"]],viewQuery:function(t,i){if(t&1&&xr(B9,7),t&2){let r;Ki(r=Qi())&&(i.canvasRef=r.first)}},decls:2,vars:0,consts:[["brainCanvas",""],[1,"brain-canvas"]],template:function(t,i){t&1&&ce(0,"canvas",1,0)},styles:[".brain-canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}"]})};function V9(n,e){if(n&1&&(g(0,"div",37)(1,"div",38)(2,"span",39),y(3),p()(),g(4,"h3"),y(5),p(),g(6,"p"),y(7),p()()),n&2){let t=e.$implicit;S(3),fe(t.icon),S(2),fe(t.title),S(2),fe(t.description)}}function z9(n,e){if(n&1&&(g(0,"div",40)(1,"div",41),ce(2,"img",42),p(),g(3,"div",43)(4,"h3"),y(5),p(),g(6,"p",44),y(7),p(),g(8,"p",45),y(9),p(),g(10,"p",46),y(11),p()()()),n&2){let t=e.$implicit;S(2),V("src",t.image,jt)("alt",t.name),S(3),fe(t.name),S(2),fe(t.role),S(2),fe(t.credentials),S(2),fe(t.bio)}}function H9(n,e){if(n&1&&(g(0,"div",47)(1,"div",48)(2,"video",49),ce(3,"source",50),y(4," Your browser does not support the video tag. "),p()(),g(5,"div",51)(6,"h3"),y(7),p(),g(8,"p"),y(9),p()()()),n&2){let t=e.$implicit;S(2),V("poster",t.thumbnail,jt),Nt("aria-label",t.title),S(),V("src",t.url,jt),S(4),fe(t.title),S(2),fe(t.description)}}function j9(n,e){if(n&1&&(g(0,"div",52),ce(1,"img",42),g(2,"div",53)(3,"span",39),y(4,"zoom_in"),p()()()),n&2){let t=e.$implicit,i=e.index;S(),V("src",t,jt)("alt","HYUMANIUM team moment "+(i+1))}}function G9(n,e){if(n&1&&(g(0,"div",54),ce(1,"img",42),p()),n&2){let t=e.$implicit,i=e.index;S(),V("src",t,jt)("alt","Award "+(i+1))}}var o0=class n{constructor(e){this.seoService=e}teamMembers=[{name:"Dr. Anuradha",role:"Founder & Director",credentials:"Ph.D. Clinical Psychology",image:"assets/images/team/dr-anuradha.jpg",bio:"Leading expert in workplace mental health with over 15 years of experience."}];awards=["assets/images/awards/award-1.jpg","assets/images/awards/award-2.jpg","assets/images/awards/award-3.jpg","assets/images/awards/award-4.jpg"];galleryImages=["assets/images/gallery/img-1.jpg","assets/images/gallery/img-2.jpg","assets/images/gallery/img-3.jpg","assets/images/gallery/img-4.jpg","assets/images/gallery/img-5.jpg","assets/images/gallery/img-6.jpg","assets/images/gallery/img-7.jpg","assets/images/gallery/img-8.jpg","assets/images/gallery/img-9.jpg","assets/images/gallery/img-10.jpg","assets/images/gallery/img-11.jpg","assets/images/gallery/img-12.jpg"];videos=[{title:"Climate Action & Maritime Day",thumbnail:"assets/images/videos/video-1-thumb.jpg",url:"assets/videos/maritime-day.mp4",description:"Dr. Anuradha sharing her view on climate action and role of seafarers"},{title:"Client Testimonial",thumbnail:"assets/images/videos/video-2-thumb.jpg",url:"assets/videos/testimonial.mp4",description:"Chetna Bali on working with HYUMANIUM"}];values=[{icon:"verified",title:"Integrity",description:"We uphold the highest ethical standards in all our professional services."},{icon:"psychology_alt",title:"Expertise",description:"Our team comprises certified psychologists and HR professionals with proven track records."},{icon:"diversity_3",title:"Inclusivity",description:"We champion diversity, equity, and inclusion in every organizational initiative."},{icon:"auto_awesome",title:"Innovation",description:"Leveraging cutting-edge research to deliver evidence-based solutions."}];ngOnInit(){this.setupSEO()}setupSEO(){this.seoService.updateMetaTags({title:"About Us - HYUMANIUM Leadership & Expertise",description:"Meet the HYUMANIUM team of experienced psychologists, corporate auditors, and HR consultants dedicated to workplace mental health since 2015.",keywords:"about hyumanium, team, psychologists, HR consultants, company history, awards"})}static \u0275fac=function(t){return new(t||n)(ee(Pn))};static \u0275cmp=Fe({type:n,selectors:[["app-about"]],decls:102,vars:5,consts:[[1,"about-page"],[1,"about-hero"],[1,"container"],[1,"hero-content","text-center","fade-in-up"],[1,"hero-subtitle"],[1,"company-overview","section-padding"],[1,"overview-grid"],[1,"overview-content"],[1,"section-label"],[1,"subsection-title"],[2,"background","linear-gradient(135deg, #4584f3 0%, #00b8a9 100%)","border-radius","23px","color","white"],[1,"stats-grid"],[1,"stat-box"],[1,"stat-number"],[1,"stat-label"],[1,"overview-image"],["src","assets/images/about/team-office.jpg","alt","HYUMANIUM office team","loading","lazy"],[1,"values-section","section-padding"],[1,"section-header","text-center"],[1,"section-subtitle"],[1,"values-grid"],["class","value-card",4,"ngFor","ngForOf"],[1,"team-section","section-padding"],[1,"team-grid"],["class","team-member-card",4,"ngFor","ngForOf"],[1,"video-section","section-padding"],[1,"videos-grid"],["class","video-card",4,"ngFor","ngForOf"],[1,"gallery-section","section-padding"],[1,"gallery-grid"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"awards-section","section-padding"],[1,"awards-grid"],["class","award-card",4,"ngFor","ngForOf"],[1,"cta-section"],[1,"cta-content","text-center"],["routerLink","/contact",1,"btn-primary-large"],[1,"value-card"],[1,"value-icon"],[1,"material-icons"],[1,"team-member-card"],[1,"member-image"],["loading","lazy",3,"src","alt"],[1,"member-info"],[1,"member-role"],[1,"member-credentials"],[1,"member-bio"],[1,"video-card"],[1,"video-wrapper"],["controls","","preload","metadata",3,"poster"],["type","video/mp4",3,"src"],[1,"video-info"],[1,"gallery-item"],[1,"gallery-overlay"],[1,"award-card"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"section",1),ce(2,"app-brain-animation"),g(3,"div",2)(4,"div",3)(5,"h1"),y(6,"About HYUMANIUM"),p(),g(7,"p",4),y(8," Transforming workplaces through psychological expertise and innovative HR solutions since 2015 "),p()()()(),g(9,"section",5)(10,"div",2)(11,"div",6)(12,"div",7)(13,"span",8),y(14,"Our Story"),p(),g(15,"h2"),y(16,"HYUMANIUM LTD"),p(),g(17,"h3",9),y(18,"Who We Are"),p(),g(19,"p",10),y(20," HYUMANIUM has been dedicated to providing top-notch human resource services since 2015. Our team of experienced professionals from psychologists, corporate auditors, and HR consultants ensures that your workforce remains engaged and productive. "),p(),g(21,"h3",9),y(22,"Why Choose Us"),p(),g(23,"p",10),y(24," Choosing us means partnering with a trusted training needs provider committed to your success. We leverage the latest industry trends to deliver effective and innovative HR solutions that create measurable impact. "),p(),g(25,"div",11)(26,"div",12)(27,"div",13),y(28,"10+"),p(),g(29,"div",14),y(30,"Years Experience"),p()(),g(31,"div",12)(32,"div",13),y(33,"500+"),p(),g(34,"div",14),y(35,"Clients Served"),p()(),g(36,"div",12)(37,"div",13),y(38,"50+"),p(),g(39,"div",14),y(40,"Programs Delivered"),p()(),g(41,"div",12)(42,"div",13),y(43,"98%"),p(),g(44,"div",14),y(45,"Satisfaction Rate"),p()()()(),g(46,"div",15),ce(47,"img",16),p()()()(),g(48,"section",17)(49,"div",2)(50,"div",18)(51,"h2"),y(52,"Our Core Values"),p(),g(53,"p",19),y(54," The principles that guide everything we do "),p()(),g(55,"div",20),ae(56,V9,8,3,"div",21),p()()(),g(57,"section",22)(58,"div",2)(59,"div",18)(60,"h2"),y(61,"Meet Our Leadership"),p(),g(62,"p",19),y(63," Experienced professionals dedicated to your organizational success "),p()(),g(64,"div",23),ae(65,z9,12,6,"div",24),p()()(),g(66,"section",25)(67,"div",2)(68,"div",18)(69,"h2"),y(70,"See Us in Action"),p(),g(71,"p",19),y(72," Testimonials and insights from our team "),p()(),g(73,"div",26),ae(74,H9,10,5,"div",27),p()()(),g(75,"section",28)(76,"div",2)(77,"div",18)(78,"h2"),y(79,"Our Journey in Pictures"),p(),g(80,"p",19),y(81," A glimpse into HR's world: Celebrating our commitment to people and culture "),p()(),g(82,"div",29),ae(83,j9,5,2,"div",30),p()()(),g(84,"section",31)(85,"div",2)(86,"div",18)(87,"h2"),y(88,"Recognition & Awards"),p(),g(89,"p",19),y(90," Celebrating excellence in mental health and HR consulting "),p()(),g(91,"div",32),ae(92,G9,2,2,"div",33),p()()(),g(93,"section",34)(94,"div",2)(95,"div",35)(96,"h2"),y(97,"Ready to Work with Us?"),p(),g(98,"p"),y(99,"Let's discuss how we can support your organization's growth and well-being."),p(),g(100,"a",36),y(101,"Get In Touch"),p()()()()()),t&2&&(S(56),V("ngForOf",i.values),S(9),V("ngForOf",i.teamMembers),S(9),V("ngForOf",i.videos),S(9),V("ngForOf",i.galleryImages),S(9),V("ngForOf",i.awards))},dependencies:[Rt,An,r0],styles:[".about-hero[_ngcontent-%COMP%]{position:relative;min-height:60vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#f7f9fc,#e8ecf1);padding-top:80px;overflow:hidden}@media (max-width: 768px){.about-hero[_ngcontent-%COMP%]{min-height:50vh}}p[_ngcontent-%COMP%]{color:#000;padding:12px}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:1}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:24px}@media (max-width: 768px){.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.3rem;color:#2c3e50;background:none;max-width:700px;margin:0 auto}.company-overview[_ngcontent-%COMP%]{background:#fff}.overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.2fr 1fr;gap:48px;align-items:center}@media (max-width: 1024px){.overview-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.overview-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:24px;box-shadow:0 8px 32px #00264a29}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:24px;margin-top:48px}@media (max-width: 1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stat-box[_ngcontent-%COMP%]{text-align:center;padding:24px;background:#f7f9fc;border-radius:16px;transition:all .3s ease}.stat-box[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 16px #00264a1f}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#4584f3;margin-bottom:8px}.stat-label[_ngcontent-%COMP%]{font-size:.95rem;color:#2c3e50;font-weight:500}.values-section[_ngcontent-%COMP%]{background:#f7f9fc}.values-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:32px}@media (max-width: 768px){.values-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.value-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:32px;text-align:center}.value-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.value-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;justify-content:center;align-items:center;margin:0 auto 24px;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:50%;box-shadow:0 4px 16px #00264a1f}.value-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:40px;color:#fff}.team-section[_ngcontent-%COMP%]{background:#fff}.team-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:48px}.team-member-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;overflow:hidden;text-align:center}.team-member-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.member-image[_ngcontent-%COMP%]{height:300px;overflow:hidden}.member-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.team-member-card[_ngcontent-%COMP%]:hover   .member-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.member-info[_ngcontent-%COMP%]{padding:32px}.member-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px}.member-role[_ngcontent-%COMP%]{color:#4584f3;font-weight:600;margin-bottom:8px}.member-credentials[_ngcontent-%COMP%]{color:#00b8a9;font-size:.95rem;font-style:italic;margin-bottom:16px}.video-section[_ngcontent-%COMP%]{background:#f7f9fc}.videos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:48px}@media (max-width: 768px){.videos-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.video-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;overflow:hidden}.video-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.video-wrapper[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.video-info[_ngcontent-%COMP%]{padding:24px}.video-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}.video-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#fff}.gallery-section[_ngcontent-%COMP%]{background:#fff}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:24px}.gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:16px;cursor:pointer;aspect-ratio:1}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.gallery-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#4584f3cc;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s ease}.gallery-overlay[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#fff;font-size:48px}.gallery-item[_ngcontent-%COMP%]:hover   .gallery-overlay[_ngcontent-%COMP%]{opacity:1}.awards-section[_ngcontent-%COMP%]{background:#f7f9fc}.awards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:32px}.award-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:24px;text-align:center}.award-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.award-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:12px}.cta-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00264a,#4584f3);padding:64px 0}.cta-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:24px}.cta-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.2rem;margin-bottom:48px}.btn-primary-large[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;padding:18px 48px;font-size:1.1rem;background:#fff;color:#4584f3}.btn-primary-large[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.btn-primary-large[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-primary-large[_ngcontent-%COMP%]:hover{background:#f7f9fc}"]})};function W9(n,e){n&1&&(g(0,"span",19),y(1,"star"),p())}function $9(n,e){if(n&1&&(g(0,"div",9)(1,"div",10)(2,"div",11)(3,"span",3),y(4,"format_quote"),p()(),g(5,"div",12),ae(6,W9,2,0,"span",13),p(),g(7,"p",14),y(8),p(),g(9,"div",15),ce(10,"img",16),g(11,"div",17)(12,"h4"),y(13),p(),g(14,"p"),y(15),p(),g(16,"p",18),y(17),p()()()()()),n&2){let t=e.$implicit,i=e.index,r=Ce();Ke("active",i===r.currentIndex),S(6),V("ngForOf",r.getStars(t.rating)),S(2),fe(t.text),S(2),V("src",t.image,jt)("alt",t.name),S(3),fe(t.name),S(2),fe(t.role),S(2),fe(t.company)}}function q9(n,e){if(n&1){let t=gn();g(0,"button",20),Te("click",function(){let r=vt(t).index,o=Ce();return _t(o.goTo(r))}),p()}if(n&2){let t=e.index,i=Ce();Ke("active",t===i.currentIndex),Nt("aria-label","Go to testimonial "+(t+1))}}var s0=class n{testimonials=[{id:1,name:"Dr. Anuradha",role:"Founder & Director",company:"HYUMANIUM",image:"../../../assets/banner.png",rating:5,text:"Dr. Anuradha sharing her view on climate action and role of seafarers in protecting the environment on 48th International Maritime Day"},{id:2,name:"Chetna Bali",role:"Founder & Director",company:"Blossom Pathways",image:"https://images.pexels.com/photos/12787666/pexels-photo-12787666.jpeg?auto=compress&cs=tinysrgb&w=1260",rating:5,text:"Dr. Anuradha is a compassionate and insightful psychologist who truly understands and supports her clients. She listens with patience, provides practical guidance, and creates a safe space for self-expression."},{id:3,name:"Rajesh Kumar",role:"HR Manager",company:"Indo Dutch Systems",image:"../../../assets/banner.png",rating:5,text:"Outstanding training programs that have significantly improved our team's performance and mental well-being. Highly professional and results-driven approach."}];currentIndex=0;autoPlayInterval;ngOnInit(){this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.next()},5e3)}stopAutoPlay(){this.autoPlayInterval&&clearInterval(this.autoPlayInterval)}next(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}prev(){this.currentIndex=this.currentIndex===0?this.testimonials.length-1:this.currentIndex-1}goTo(e){this.currentIndex=e,this.stopAutoPlay(),this.startAutoPlay()}getStars(e){return Array(e).fill(0)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-testimonial-carousel"]],decls:12,vars:2,consts:[[1,"testimonial-carousel"],[1,"carousel-container"],["aria-label","Previous testimonial",1,"carousel-btn","prev",3,"click"],[1,"material-icons"],[1,"testimonial-wrapper"],["class","testimonial-slide",3,"active",4,"ngFor","ngForOf"],["aria-label","Next testimonial",1,"carousel-btn","next",3,"click"],[1,"carousel-indicators"],["class","indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-slide"],[1,"testimonial-card"],[1,"quote-icon"],[1,"rating"],["class","material-icons star",4,"ngFor","ngForOf"],[1,"testimonial-text"],[1,"testimonial-author"],["loading","lazy",1,"author-image",3,"src","alt"],[1,"author-info"],[1,"company"],[1,"material-icons","star"],[1,"indicator",3,"click"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1)(2,"button",2),Te("click",function(){return i.prev()}),g(3,"span",3),y(4,"chevron_left"),p()(),g(5,"div",4),ae(6,$9,18,9,"div",5),p(),g(7,"button",6),Te("click",function(){return i.next()}),g(8,"span",3),y(9,"chevron_right"),p()()(),g(10,"div",7),ae(11,q9,1,3,"button",8),p()()),t&2&&(S(6),V("ngForOf",i.testimonials),S(5),V("ngForOf",i.testimonials))},dependencies:[Rt],styles:[".testimonial-carousel[_ngcontent-%COMP%]{position:relative;padding:24px 0}.carousel-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;gap:24px}.carousel-btn[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;justify-content:center;align-items:center;background:#fff;border:2px solid #e8ecf1;border-radius:50%;cursor:pointer;transition:all .3s ease;flex-shrink:0;z-index:10}@media (max-width: 768px){.carousel-btn[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:50%;transform:translateY(-50%)}.carousel-btn.prev[_ngcontent-%COMP%]{left:0}.carousel-btn.next[_ngcontent-%COMP%]{right:0}}.carousel-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px;color:#4584f3}.carousel-btn[_ngcontent-%COMP%]:hover{background:#4584f3;border-color:#4584f3}.carousel-btn[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{color:#fff}.testimonial-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:800px;overflow:hidden;min-height:350px}@media (max-width: 768px){.testimonial-wrapper[_ngcontent-%COMP%]{padding:0 48px}}.testimonial-slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;opacity:0;transform:translate(100px);transition:all .6s ease;pointer-events:none}.testimonial-slide.active[_ngcontent-%COMP%]{position:relative;opacity:1;transform:translate(0);pointer-events:auto}.testimonial-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:48px;text-align:center;position:relative}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}@media (max-width: 768px){.testimonial-card[_ngcontent-%COMP%]{padding:32px}}.quote-icon[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center;margin:0 auto 24px;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:50%}.quote-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px;color:#fff}.rating[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4px;margin-bottom:24px}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:#ffc107;font-size:20px}.testimonial-text[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#2c3e50;margin-bottom:32px;font-style:italic}.testimonial-author[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:24px;padding-top:24px;border-top:2px solid #e8ecf1}@media (max-width: 768px){.testimonial-author[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.author-image[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;object-fit:cover;border:3px solid #4584f3}.author-info[_ngcontent-%COMP%]{text-align:left}@media (max-width: 768px){.author-info[_ngcontent-%COMP%]{text-align:center}}.author-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#00264a;margin:0 0 4px}.author-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:#fff}.author-info[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{color:#4584f3;font-weight:600}.carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:32px}.indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#e8ecf1;border:none;cursor:pointer;transition:all .3s ease}.indicator.active[_ngcontent-%COMP%]{width:30px;border-radius:6px;background:#4584f3}.indicator[_ngcontent-%COMP%]:hover{background:#4584f3}"]})};function X9(n,e){if(n&1&&(g(0,"div",5),ce(1,"img",6),p()),n&2){let t=e.$implicit;S(),V("src",t.logo,jt)("alt",t.name)}}function Z9(n,e){if(n&1&&(g(0,"div",5),ce(1,"img",6),p()),n&2){let t=e.$implicit;S(),V("src",t.logo,jt)("alt",t.name)}}var a0=class n{clients=[{name:"Indo Dutch Systems",logo:"assets/images/clients/indo-dutch.png"},{name:"Ocean One Ship Management",logo:"assets/images/clients/ocean-one.png"},{name:"Argus LLC",logo:"assets/images/clients/argus.png"},{name:"Lamda Functions",logo:"assets/images/clients/lamda.png"},{name:"Sea and Beyond",logo:"assets/images/clients/sea-beyond.png"},{name:"Spray Engineering Ltd",logo:"assets/images/clients/spray-eng.png"},{name:"Guru Nanak Institute",logo:"assets/images/clients/gnim.png"},{name:"Chandigarh University",logo:"assets/images/clients/cu.png"},{name:"Heron Healthcare Ltd",logo:"assets/images/clients/heron.png"},{name:"Credentia UK",logo:"assets/images/clients/credentia.png"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-client-logo-strip"]],decls:6,vars:2,consts:[[1,"client-logo-strip"],[1,"logo-track"],[1,"logo-slide"],["class","client-logo",4,"ngFor","ngForOf"],["aria-hidden","true",1,"logo-slide"],[1,"client-logo"],["loading","lazy",3,"src","alt"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),ae(3,X9,2,2,"div",3),p(),g(4,"div",4),ae(5,Z9,2,2,"div",3),p()()()),t&2&&(S(3),V("ngForOf",i.clients),S(2),V("ngForOf",i.clients))},dependencies:[Rt],styles:['.client-logo-strip[_ngcontent-%COMP%]{overflow:hidden;padding:32px 0;background:#fff;position:relative}.client-logo-strip[_ngcontent-%COMP%]:before, .client-logo-strip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:100px;z-index:2;pointer-events:none}.client-logo-strip[_ngcontent-%COMP%]:before{left:0;background:linear-gradient(to right,#ffffff,transparent)}.client-logo-strip[_ngcontent-%COMP%]:after{right:0;background:linear-gradient(to left,#ffffff,transparent)}.logo-track[_ngcontent-%COMP%]{display:flex;gap:48px;animation:_ngcontent-%COMP%_scroll 30s linear infinite}.logo-track[_ngcontent-%COMP%]:hover{animation-play-state:paused}.logo-slide[_ngcontent-%COMP%]{display:flex;gap:48px;flex-shrink:0}.client-logo[_ngcontent-%COMP%]{width:180px;height:100px;display:flex;justify-content:center;align-items:center;padding:24px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00264a14;transition:all .3s ease;flex-shrink:0}.client-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;filter:grayscale(100%);opacity:.7;transition:all .3s ease}.client-logo[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00264a1f;transform:translateY(-4px)}.client-logo[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:grayscale(0%);opacity:1}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}']})};var Q9=()=>[1,2,3,4,5];function J9(n,e){if(n&1&&(g(0,"div",35)(1,"div",36)(2,"span",27),y(3),p()(),g(4,"div",37)(5,"h3",38),y(6),p(),g(7,"p",39),y(8),p()()()),n&2){let t=e.$implicit;S(3),fe(t.icon),S(3),fe(t.number),S(2),fe(t.label)}}function eG(n,e){if(n&1){let t=gn();g(0,"button",10),Te("click",function(){let r=vt(t).$implicit,o=Ce();return _t(o.filterByIndustry(r.name))}),g(1,"span",27),y(2),p(),y(3),p()}if(n&2){let t=e.$implicit,i=Ce();Ke("active",i.selectedIndustry===t.name),S(2),fe(t.icon),S(),nb(" ",t.name," (",t.count,") ")}}function tG(n,e){if(n&1&&(g(0,"div",40)(1,"div",41),ce(2,"img",42),p(),g(3,"div",43)(4,"h3"),y(5),p(),g(6,"span",44)(7,"span",27),y(8,"business"),p(),y(9),p(),g(10,"p"),y(11),p()()()),n&2){let t=e.$implicit;S(2),V("src",t.logo,jt)("alt",t.name),S(3),fe(t.name),S(4),ct(" ",t.industry," "),S(2),fe(t.description)}}function nG(n,e){n&1&&(g(0,"div",45)(1,"span",27),y(2,"search_off"),p(),g(3,"p"),y(4,"No clients found in this industry"),p()())}function iG(n,e){if(n&1&&(g(0,"span",56),y(1),p()),n&2){let t=e.$implicit,i=Ce().$implicit;S(),ct(" ",t<=i.rating?"star":"star_border"," ")}}function rG(n,e){if(n&1&&(g(0,"div",46)(1,"div",47),ce(2,"img",48),g(3,"div",49)(4,"h4"),y(5),p(),g(6,"p",50),y(7),p(),g(8,"p",51),y(9),p()()(),g(10,"div",52),ae(11,iG,2,1,"span",53),p(),g(12,"p",54),y(13),p(),g(14,"div",55)(15,"span",27),y(16,"format_quote"),p()()()),n&2){let t=e.$implicit;S(2),V("src",t.image,jt)("alt",t.name),S(3),fe(t.name),S(2),fe(t.role),S(2),fe(t.company),S(2),V("ngForOf",Kl(7,Q9)),S(2),fe(t.text)}}var c0=class n{constructor(e){this.seoService=e}clients=[{name:"Indo Dutch Systems",logo:"assets/images/clients/indo-dutch.png",industry:"Technology",description:"Leading IT solutions provider with focus on digital transformation"},{name:"Ocean One Ship Management",logo:"assets/images/clients/ocean-one.png",industry:"Maritime",description:"Premier ship management company specializing in crew welfare"},{name:"Argus LLC",logo:"assets/images/clients/argus.png",industry:"Consulting",description:"Strategic business consulting and advisory services"},{name:"Lamda Functions",logo:"assets/images/clients/lamda.png",industry:"Software Development",description:"Cloud-based software solutions and development"},{name:"Sea and Beyond",logo:"assets/images/clients/sea-beyond.png",industry:"Maritime Services",description:"Comprehensive maritime services and crew management"},{name:"Spray Engineering Ltd.",logo:"assets/images/clients/spray-eng.png",industry:"Engineering",description:"Industrial engineering and manufacturing solutions"},{name:"Guru Nanak Institute of Management",logo:"assets/images/clients/gnim.png",industry:"Education",description:"Premier management education and training institute"},{name:"Chandigarh University",logo:"assets/images/clients/cu.png",industry:"Higher Education",description:"Leading university with focus on holistic development"},{name:"Heron Healthcare Ltd",logo:"assets/images/clients/heron.png",industry:"Healthcare",description:"Comprehensive healthcare services and wellness programs"},{name:"Credentia UK",logo:"assets/images/clients/credentia.png",industry:"Compliance",description:"International compliance and verification services"}];testimonials=[{id:1,name:"Chetna Bali",role:"Founder & Director",company:"Blossom Pathways",image:"assets/images/testimonials/chetna-bali.jpg",rating:5,text:"Dr. Anuradha is a compassionate and insightful psychologist who truly understands and supports her clients. She listens with patience, provides practical guidance, and creates a safe space for self-expression. Her expertise and warm approach make a significant difference in helping people navigate their challenges. Highly recommend her for anyone seeking professional and empathetic psychological support!"},{id:2,name:"Captain Rajesh Singh",role:"Fleet Manager",company:"Ocean One Ship Management",image:"assets/images/testimonials/rajesh-singh.jpg",rating:5,text:"HYUMANIUM has been instrumental in improving our crew's mental health and overall well-being. Their specialized maritime psychology programs have significantly reduced stress-related incidents and improved crew retention. Outstanding professional service!"},{id:3,name:"Dr. Priya Sharma",role:"Dean - Student Affairs",company:"Chandigarh University",image:"assets/images/testimonials/priya-sharma.jpg",rating:5,text:"The counseling and mental health workshops conducted by HYUMANIUM have been transformative for our students. Their practical approach and deep understanding of young adults' challenges have made a real impact on campus mental wellness."},{id:4,name:"Amit Verma",role:"HR Director",company:"Indo Dutch Systems",image:"assets/images/testimonials/amit-verma.jpg",rating:5,text:"The Employee Assistance Program implemented by HYUMANIUM has been a game-changer for our organization. Employee satisfaction scores have increased by 35%, and we've seen a marked improvement in team productivity and morale."},{id:5,name:"Sarah Johnson",role:"Operations Manager",company:"Credentia UK",image:"assets/images/testimonials/sarah-johnson.jpg",rating:5,text:"Working with HYUMANIUM on our DE&I initiatives has opened our eyes to the importance of inclusive workplace culture. Their training programs are practical, engaging, and have led to measurable improvements in team dynamics."}];industries=[{name:"Maritime",count:2,icon:"directions_boat"},{name:"Education",count:2,icon:"school"},{name:"Technology",count:2,icon:"computer"},{name:"Healthcare",count:1,icon:"local_hospital"},{name:"Engineering",count:1,icon:"build"},{name:"Consulting",count:2,icon:"business_center"}];stats=[{number:"500+",label:"Clients Served",icon:"business"},{number:"10,000+",label:"Lives Impacted",icon:"people"},{number:"98%",label:"Satisfaction Rate",icon:"star"},{number:"50+",label:"Programs Delivered",icon:"workspace_premium"}];selectedIndustry="All";ngOnInit(){this.setupSEO()}setupSEO(){this.seoService.updateMetaTags({title:"Our Clients - Trusted by Leading Organizations",description:"HYUMANIUM proudly serves 500+ clients across maritime, education, technology, healthcare, and consulting sectors with expert mental health and HR solutions.",keywords:"hyumanium clients, client testimonials, case studies, partner organizations, client success stories"})}filterByIndustry(e){this.selectedIndustry=e}get filteredClients(){return this.selectedIndustry==="All"?this.clients:this.clients.filter(e=>e.industry===this.selectedIndustry)}static \u0275fac=function(t){return new(t||n)(ee(Pn))};static \u0275cmp=Fe({type:n,selectors:[["app-clients"]],decls:86,vars:7,consts:[[1,"clients-page"],[1,"clients-hero"],[1,"container"],[1,"hero-content","text-center"],[1,"hero-subtitle"],[1,"stats-section","section-padding"],[1,"stats-grid"],["class","stat-card",4,"ngFor","ngForOf"],[1,"filter-section"],[1,"industry-filter"],[1,"filter-btn",3,"click"],["class","filter-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"clients-grid-section","section-padding"],[1,"clients-grid"],["class","client-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"logo-strip-section","section-padding"],[1,"section-header","text-center"],[1,"section-subtitle"],[1,"testimonials-section","section-padding"],[1,"testimonials-grid"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"case-study-section","section-padding"],[1,"case-study-content"],[1,"case-study-text"],[1,"section-label"],[1,"benefits-list"],[1,"material-icons"],[1,"case-study-image"],["src","assets/images/case-study-success.jpg","alt","Client success story","loading","lazy"],[1,"cta-section"],[1,"cta-content","text-center"],[1,"cta-buttons"],["routerLink","/contact",1,"btn-primary-large"],["routerLink","/trainings",1,"btn-secondary-large"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"client-card"],[1,"client-logo-wrapper"],["loading","lazy",3,"src","alt"],[1,"client-info"],[1,"industry-badge"],[1,"empty-state"],[1,"testimonial-card"],[1,"testimonial-header"],["loading","lazy",1,"testimonial-avatar",3,"src","alt"],[1,"testimonial-author-info"],[1,"role"],[1,"company"],[1,"rating"],["class","material-icons star",4,"ngFor","ngForOf"],[1,"testimonial-text"],[1,"quote-mark"],[1,"material-icons","star"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),y(5,"Our Valued Clients"),p(),g(6,"p",4),y(7," Trusted by leading organizations across diverse industries for mental health and HR excellence "),p()()()(),g(8,"section",5)(9,"div",2)(10,"div",6),ae(11,J9,9,3,"div",7),p()()(),g(12,"section",8)(13,"div",2)(14,"div",9)(15,"button",10),Te("click",function(){return i.filterByIndustry("All")}),y(16," All Industries "),p(),ae(17,eG,4,5,"button",11),p()()(),g(18,"section",12)(19,"div",2)(20,"div",13),ae(21,tG,12,5,"div",14),p(),ae(22,nG,5,0,"div",15),p()(),g(23,"section",16)(24,"div",2)(25,"div",17)(26,"h2"),y(27,"Trusted By"),p(),g(28,"p",18),y(29,"Organizations that believe in our mission"),p()(),ce(30,"app-client-logo-strip"),p()(),g(31,"section",19)(32,"div",2)(33,"div",17)(34,"h2"),y(35,"What Our Clients Say"),p(),g(36,"p",18),y(37," Real experiences from the organizations and professionals we've partnered with "),p()(),ce(38,"app-testimonial-carousel"),g(39,"div",20),ae(40,rG,17,8,"div",21),p()()(),g(41,"section",22)(42,"div",2)(43,"div",23)(44,"div",24)(45,"span",25),y(46,"Success Stories"),p(),g(47,"h2"),y(48,"Transforming Organizations Through Mental Wellness"),p(),g(49,"p"),y(50," Our comprehensive approach to workplace mental health has helped organizations achieve measurable improvements in employee satisfaction, productivity, and retention. From maritime companies to educational institutions, our tailored solutions address unique challenges across diverse sectors. "),p(),g(51,"ul",26)(52,"li")(53,"span",27),y(54,"check_circle"),p(),g(55,"span"),y(56,"35% increase in employee satisfaction scores"),p()(),g(57,"li")(58,"span",27),y(59,"check_circle"),p(),g(60,"span"),y(61,"50% reduction in stress-related absenteeism"),p()(),g(62,"li")(63,"span",27),y(64,"check_circle"),p(),g(65,"span"),y(66,"Improved team collaboration and communication"),p()(),g(67,"li")(68,"span",27),y(69,"check_circle"),p(),g(70,"span"),y(71,"Enhanced organizational culture and inclusivity"),p()()()(),g(72,"div",28),ce(73,"img",29),p()()()(),g(74,"section",30)(75,"div",2)(76,"div",31)(77,"h2"),y(78,"Join Our Growing Family of Satisfied Clients"),p(),g(79,"p"),y(80," Let us help your organization achieve mental wellness and HR excellence "),p(),g(81,"div",32)(82,"a",33),y(83," Become a Client "),p(),g(84,"a",34),y(85," Explore Services "),p()()()()()()),t&2&&(S(11),V("ngForOf",i.stats),S(4),Ke("active",i.selectedIndustry==="All"),S(2),V("ngForOf",i.industries),S(4),V("ngForOf",i.filteredClients),S(),V("ngIf",i.filteredClients.length===0),S(18),V("ngForOf",i.testimonials))},dependencies:[Rt,Kn,An,s0,a0],styles:['.clients-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);padding:140px 0 64px;text-align:center}@media (max-width: 768px){.clients-hero[_ngcontent-%COMP%]{padding:120px 0 48px}}.clients-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3.5rem;margin-bottom:24px}@media (max-width: 768px){.clients-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}}.clients-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#fffffff2;font-size:1.3rem;max-width:800px;margin:0 auto}@media (max-width: 768px){.clients-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.1rem}}.stats-section[_ngcontent-%COMP%]{background:#fff;margin-top:-48px;position:relative;z-index:10}@media (max-width: 768px){.stats-section[_ngcontent-%COMP%]{margin-top:0}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:32px}@media (max-width: 1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:32px;display:flex;align-items:center;gap:24px;border-left:4px solid #4584f3}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.stat-card[_ngcontent-%COMP%]:nth-child(2){border-left-color:#00b8a9}.stat-card[_ngcontent-%COMP%]:nth-child(3){border-left-color:#4caf50}.stat-card[_ngcontent-%COMP%]:nth-child(4){border-left-color:#ff6b6b}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center;background:#f7f9fc;border-radius:50%;flex-shrink:0}.stat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px;color:#4584f3}.stat-card[_ngcontent-%COMP%]:nth-child(2)   .stat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#00b8a9}.stat-card[_ngcontent-%COMP%]:nth-child(3)   .stat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#4caf50}.stat-card[_ngcontent-%COMP%]:nth-child(4)   .stat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#ff6b6b}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;color:#00264a;margin:0;line-height:1}@media (max-width: 768px){.stat-number[_ngcontent-%COMP%]{font-size:1.8rem}}.stat-label[_ngcontent-%COMP%]{font-size:.95rem;color:#00264a;margin:4px 0 0}.filter-section[_ngcontent-%COMP%]{background:#f7f9fc;padding:32px 0;position:sticky;top:80px;z-index:100;box-shadow:0 2px 8px #00264a14}.industry-filter[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center}.filter-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 20px;background:#fff;border:2px solid #e8ecf1;border-radius:24px;color:#2c3e50;font-weight:500;cursor:pointer;transition:all .3s ease;white-space:nowrap}.filter-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.filter-btn[_ngcontent-%COMP%]:hover{border-color:#4584f3;color:#4584f3;transform:translateY(-2px);box-shadow:0 2px 8px #00264a14}.filter-btn.active[_ngcontent-%COMP%]{background:#4584f3;border-color:#4584f3;color:#fff;box-shadow:0 4px 16px #00264a1f}.clients-grid-section[_ngcontent-%COMP%]{background:#fff;min-height:400px}.clients-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:32px}@media (max-width: 768px){.clients-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.client-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;overflow:hidden;display:flex;flex-direction:column}.client-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.client-logo-wrapper[_ngcontent-%COMP%]{height:150px;display:flex;justify-content:center;align-items:center;background:#f7f9fc;padding:32px;border-bottom:2px solid #e8ecf1}.client-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;filter:grayscale(50%);transition:all .3s ease}.client-card[_ngcontent-%COMP%]:hover   .client-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(0%);transform:scale(1.05)}.client-info[_ngcontent-%COMP%]{padding:32px;flex:1;display:flex;flex-direction:column}.client-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;color:#00264a;margin-bottom:16px}.client-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#00264a;line-height:1.6;flex:1}.industry-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:6px 14px;background:#f7f9fc;color:#4584f3;border-radius:12px;font-size:.85rem;font-weight:600;margin-bottom:16px;width:fit-content}.industry-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:64px 0;text-align:center;grid-column:1/-1}.empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:80px;color:#e8ecf1;margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem}.logo-strip-section[_ngcontent-%COMP%]{background:#f7f9fc}.testimonials-section[_ngcontent-%COMP%]{background:#fff}.testimonials-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:32px;margin-top:64px}@media (max-width: 768px){.testimonials-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.testimonial-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:32px;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.testimonial-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px;margin-bottom:24px}.testimonial-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;border:3px solid #4584f3;flex-shrink:0}.testimonial-author-info[_ngcontent-%COMP%]{flex:1}.testimonial-author-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;color:#00264a;margin:0 0 4px}.testimonial-author-info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;margin:0}.testimonial-author-info[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{font-size:.9rem;color:#4584f3;font-weight:600;margin:0}.rating[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:24px}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:#ffc107;font-size:18px}.testimonial-text[_ngcontent-%COMP%]{color:#2c3e50;line-height:1.7;font-size:.95rem;position:relative;z-index:1}.quote-mark[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;opacity:.1;z-index:0}.quote-mark[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:80px;color:#4584f3}.case-study-section[_ngcontent-%COMP%]{background:#f7f9fc}.case-study-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:48px;align-items:center}@media (max-width: 1024px){.case-study-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.case-study-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:24px}@media (max-width: 768px){.case-study-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}}.case-study-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.7;color:#00264a;margin-bottom:32px}.section-label[_ngcontent-%COMP%]{display:inline-block;padding:8px 20px;background:#4584f3;color:#fff;border-radius:12px;font-weight:600;font-size:.85rem;margin-bottom:24px;text-transform:uppercase;letter-spacing:1px}.benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:24px;font-size:1.05rem}.benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#4caf50;font-size:24px;flex-shrink:0}.benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;color:#2c3e50;line-height:1.5}.case-study-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:24px;box-shadow:0 8px 32px #00264a29}.cta-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00264a,#4584f3);padding:64px 0;position:relative;overflow:hidden}.cta-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-10%;width:600px;height:600px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%}@media (max-width: 768px){.cta-section[_ngcontent-%COMP%]{padding:48px 0}}.cta-content[_ngcontent-%COMP%]{position:relative;z-index:1}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:24px}@media (max-width: 768px){.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.2rem;margin-bottom:48px;max-width:700px;margin-left:auto;margin-right:auto}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:24px;justify-content:center;flex-wrap:wrap}.btn-primary-large[_ngcontent-%COMP%], .btn-secondary-large[_ngcontent-%COMP%]{padding:18px 48px;border-radius:12px;font-weight:600;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;text-decoration:none}@media (max-width: 768px){.btn-primary-large[_ngcontent-%COMP%], .btn-secondary-large[_ngcontent-%COMP%]{width:100%}}.btn-primary-large[_ngcontent-%COMP%]{background:#fff;color:#4584f3;border:2px solid #ffffff}.btn-primary-large[_ngcontent-%COMP%]:hover{background:transparent;color:#fff;transform:translateY(-2px);box-shadow:0 8px 32px #00264a29}.btn-secondary-large[_ngcontent-%COMP%]{background:transparent;color:#fff;border:2px solid #ffffff}.btn-secondary-large[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:translateY(-2px)}']})};function oG(n,e){if(n&1&&(g(0,"div",28)(1,"div",29)(2,"span",21),y(3),p()(),g(4,"h3"),y(5),p(),g(6,"p"),y(7),p()()),n&2){let t=e.$implicit;S(3),fe(t.icon),S(2),fe(t.title),S(2),fe(t.description)}}function sG(n,e){if(n&1&&(g(0,"div",35)(1,"div",36)(2,"h4"),y(3),p(),g(4,"span",37),y(5),p()(),g(6,"p",38),y(7),p(),g(8,"div",39)(9,"span",40)(10,"span",21),y(11,"schedule"),p(),y(12),p()(),g(13,"button",41),y(14,"Request Info"),p()()),n&2){let t=e.$implicit;S(3),fe(t.title),S(),yo("level-"+t.level.toLowerCase().replace(" ","-")),S(),ct(" ",t.level," "),S(2),fe(t.description),S(5),ct(" ",t.duration," ")}}function aG(n,e){if(n&1&&(g(0,"div",30)(1,"div",31)(2,"span",32),y(3),p(),g(4,"h3"),y(5),p()(),g(6,"div",33),ae(7,sG,15,6,"div",34),p()()),n&2){let t=e.$implicit;S(),Nn("--category-color",t.color),S(2),fe(t.icon),S(2),fe(t.category),S(2),V("ngForOf",t.courses)}}var l0=class n{constructor(e){this.seoService=e}courses=[{category:"Leadership Development",icon:"stars",color:"#4584f3",courses:[{title:"Leadership Styles & Approaches",description:"Master different leadership methodologies for diverse team environments",duration:"2 days",level:"Intermediate"},{title:"Executive Presence Training",description:"Build confidence and commanding presence in executive roles",duration:"3 days",level:"Advanced"},{title:"Strategic Planning & Execution",description:"Develop skills in long-term planning and implementation",duration:"2 days",level:"Advanced"}]},{category:"Management Excellence",icon:"business_center",color:"#00b8a9",courses:[{title:"Team Dynamics & Motivation",description:"Learn to build high-performing teams and maintain motivation",duration:"2 days",level:"Intermediate"},{title:"Conflict Resolution & Negotiation",description:"Master techniques for resolving workplace conflicts effectively",duration:"1 day",level:"Beginner"},{title:"Innovation & Decision Making",description:"Foster innovative thinking and strategic decision-making skills",duration:"2 days",level:"Intermediate"}]},{category:"Personal Development",icon:"psychology",color:"#4caf50",courses:[{title:"Self-Awareness & Goal Setting",description:"Discover your strengths and set actionable career goals",duration:"1 day",level:"Beginner"},{title:"Communication & Public Speaking",description:"Enhance verbal and non-verbal communication skills",duration:"2 days",level:"Intermediate"},{title:"Emotional Intelligence",description:"Develop emotional awareness and interpersonal effectiveness",duration:"2 days",level:"Intermediate"},{title:"Professional Etiquette & Power Dressing",description:"Master workplace etiquette and professional appearance",duration:"1 day",level:"Beginner"}]},{category:"Technical & Safety",icon:"build",color:"#ff6b6b",courses:[{title:"Basic Technical Training",description:"Essential technical skills for operational excellence",duration:"3 days",level:"Beginner"},{title:"Firefighting Drills & First Aid",description:"Critical safety training for emergency preparedness",duration:"1 day",level:"All Levels"},{title:"Operational Improvements",description:"Process optimization and efficiency enhancement techniques",duration:"2 days",level:"Intermediate"}]}];features=[{icon:"workspace_premium",title:"Certified Programs",description:"All our training programs come with recognized certifications"},{icon:"groups",title:"Expert Trainers",description:"Learn from experienced psychologists and industry professionals"},{icon:"schedule",title:"Flexible Scheduling",description:"Customized training schedules to fit your organizational needs"}];ngOnInit(){this.setupSEO()}setupSEO(){this.seoService.updateMetaTags({title:"Training Programs - Leadership, Management & Personal Development",description:"Professional training programs in leadership, management, emotional intelligence, communication skills, and workplace safety by HYUMANIUM experts.",keywords:"leadership training, management courses, emotional intelligence, public speaking, professional development, workplace training"})}scrollToCourses(){document.getElementById("courses")?.scrollIntoView({behavior:"smooth",block:"start"})}static \u0275fac=function(t){return new(t||n)(ee(Pn))};static \u0275cmp=Fe({type:n,selectors:[["app-trainings"]],decls:77,vars:2,consts:[[1,"trainings-page"],[1,"trainings-hero"],[1,"container"],[1,"hero-content","text-center"],[1,"hero-subtitle"],[1,"btn-hero",3,"click"],[1,"features-section","section-padding"],[1,"section-header","text-center"],[1,"features-grid"],["class","feature-box",4,"ngFor","ngForOf"],["id","courses",1,"courses-section","section-padding"],[1,"section-subtitle"],[1,"courses-container"],["class","category-section",4,"ngFor","ngForOf"],[1,"consultation-section","section-padding"],[1,"consultation-grid"],[1,"consultation-image"],["src","assets/images/consultation.jpg","alt","Management consultation","loading","lazy"],[1,"consultation-content"],[1,"section-label"],[1,"consultation-list"],[1,"material-icons"],["routerLink","/contact",1,"btn-primary"],[1,"cta-section"],[1,"cta-content","text-center"],[1,"cta-buttons"],["routerLink","/contact",1,"btn-primary-large"],["href","tel:+91XXXXXXXXXX",1,"btn-secondary-large"],[1,"feature-box"],[1,"feature-icon"],[1,"category-section"],[1,"category-header"],[1,"material-icons","category-icon"],[1,"course-cards-grid"],["class","course-card",4,"ngFor","ngForOf"],[1,"course-card"],[1,"course-header"],[1,"level-badge"],[1,"course-description"],[1,"course-meta"],[1,"duration"],[1,"btn-course-inquiry"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),y(5,"Professional Training Programs"),p(),g(6,"p",4),y(7," Empower your team with expert-led training in leadership, management, and personal development "),p(),g(8,"button",5),Te("click",function(){return i.scrollToCourses()}),y(9,"Explore Programs"),p()()()(),g(10,"section",6)(11,"div",2)(12,"div",7)(13,"h2"),y(14,"Why Choose Our Training Programs"),p()(),g(15,"div",8),ae(16,oG,8,3,"div",9),p()()(),g(17,"section",10)(18,"div",2)(19,"div",7)(20,"h2"),y(21,"Our Training Catalog"),p(),g(22,"p",11),y(23," Comprehensive programs designed to drive organizational excellence "),p()(),g(24,"div",12),ae(25,aG,8,5,"div",13),p()()(),g(26,"section",14)(27,"div",2)(28,"div",15)(29,"div",16),ce(30,"img",17),p(),g(31,"div",18)(32,"span",19),y(33,"Additional Services"),p(),g(34,"h2"),y(35,"Management Consultation"),p(),g(36,"ul",20)(37,"li")(38,"span",21),y(39,"check_circle"),p(),g(40,"div")(41,"strong"),y(42,"Problem Solving"),p(),g(43,"p"),y(44,"Strategic approaches to organizational challenges"),p()()(),g(45,"li")(46,"span",21),y(47,"check_circle"),p(),g(48,"div")(49,"strong"),y(50,"Strategic Planning"),p(),g(51,"p"),y(52,"Long-term organizational development roadmaps"),p()()(),g(53,"li")(54,"span",21),y(55,"check_circle"),p(),g(56,"div")(57,"strong"),y(58,"Operational Improvements"),p(),g(59,"p"),y(60,"Process optimization and efficiency enhancement"),p()()()(),g(61,"a",22),y(62,"Get In Touch"),p()()()()(),g(63,"section",23)(64,"div",2)(65,"div",24)(66,"h2"),y(67,"Ready to Transform Your Team?"),p(),g(68,"p"),y(69,"Contact us to discuss customized training solutions for your organization"),p(),g(70,"div",25)(71,"a",26),y(72,"Schedule Consultation"),p(),g(73,"a",27)(74,"span",21),y(75,"call"),p(),y(76," Call Us Now "),p()()()()()()),t&2&&(S(16),V("ngForOf",i.features),S(9),V("ngForOf",i.courses))},dependencies:[Rt,An],styles:["p[_ngcontent-%COMP%]{color:#00264a}.trainings-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);padding:140px 0 64px;text-align:center}.trainings-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;margin-bottom:24px}@media (max-width: 768px){.trainings-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem}}.trainings-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#fffffff2;font-size:1.2rem;max-width:700px;margin:0 auto 48px}.trainings-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;padding:16px 48px;background:#fff;color:#4584f3;font-size:1.1rem}.trainings-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.trainings-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:active{transform:translateY(0)}.trainings-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:hover{background:#f7f9fc;transform:translateY(-2px)}.features-section[_ngcontent-%COMP%]{background:#fff}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:32px}.feature-box[_ngcontent-%COMP%]{text-align:center;padding:32px}.feature-icon[_ngcontent-%COMP%]{width:90px;height:90px;display:flex;justify-content:center;align-items:center;margin:0 auto 24px;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:50%;box-shadow:0 4px 16px #00264a1f}.feature-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:44px;color:#fff}.courses-section[_ngcontent-%COMP%]{background:#f7f9fc}.courses-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:64px}.category-section[_ngcontent-%COMP%]{background:#fff;border-radius:24px;padding:48px;box-shadow:0 4px 16px #00264a1f}.category-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:24px;margin-bottom:48px;padding-bottom:24px;border-bottom:3px solid var(--category-color, #4584f3)}.category-header[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--category-color, #4584f3)}.category-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:var(--category-color, #4584f3);margin:0}.course-cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:32px}@media (max-width: 768px){.course-cards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.course-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:32px;display:flex;flex-direction:column;border-top:4px solid var(--category-color, #4584f3)}.course-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.course-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;align-items:flex-start;margin-bottom:16px;gap:16px}.course-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;margin:0;flex:1}.level-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;white-space:nowrap}.level-badge.level-beginner[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.level-badge.level-intermediate[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.level-badge.level-advanced[_ngcontent-%COMP%]{background:#fce4ec;color:#c2185b}.level-badge.level-all-levels[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2}.course-description[_ngcontent-%COMP%]{color:#00264a;flex:1;margin-bottom:24px}.course-meta[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;color:#2c3e50;font-size:.9rem;margin-bottom:24px}.course-meta[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.btn-course-inquiry[_ngcontent-%COMP%]{width:100%;padding:12px;background:transparent;border:2px solid var(--category-color, #4584f3);color:var(--category-color, #4584f3);border-radius:12px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-course-inquiry[_ngcontent-%COMP%]:hover{background:var(--category-color, #4584f3);color:#fff;transform:translateY(-2px);box-shadow:0 4px 16px #00264a1f}.consultation-section[_ngcontent-%COMP%]{background:#fff}.consultation-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:48px;align-items:center}@media (max-width: 1024px){.consultation-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.consultation-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:24px;box-shadow:0 8px 32px #00264a29}.consultation-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:32px 0}.consultation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:24px;align-items:flex-start}.consultation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#4caf50;font-size:28px;flex-shrink:0}.consultation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#00264a;margin-bottom:4px}.consultation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#00264a}.cta-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00264a,#4584f3);padding:64px 0}.cta-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:24px}.cta-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.2rem;margin-bottom:48px}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:24px;justify-content:center;flex-wrap:wrap}.btn-primary-large[_ngcontent-%COMP%], .btn-secondary-large[_ngcontent-%COMP%]{padding:18px 48px;border-radius:12px;font-weight:600;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;text-decoration:none}@media (max-width: 768px){.btn-primary-large[_ngcontent-%COMP%], .btn-secondary-large[_ngcontent-%COMP%]{width:100%;justify-content:center}}.btn-primary-large[_ngcontent-%COMP%]{background:#fff;color:#4584f3;border:none}.btn-primary-large[_ngcontent-%COMP%]:hover{background:#f7f9fc;transform:translateY(-2px);box-shadow:0 8px 32px #00264a29}.btn-secondary-large[_ngcontent-%COMP%]{background:transparent;color:#fff;border:2px solid #ffffff}.btn-secondary-large[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:translateY(-2px)}"]})};function cG(n,e){if(n&1&&(g(0,"li")(1,"span",16),y(2,"arrow_right"),p(),y(3),p()),n&2){let t=e.$implicit;S(3),ct(" ",t," ")}}function lG(n,e){if(n&1&&(g(0,"div",20)(1,"div",21)(2,"span",16),y(3),p()(),g(4,"h3"),y(5),p(),g(6,"p",22),y(7),p(),g(8,"ul",23),ae(9,cG,4,1,"li",24),p(),g(10,"a",25),y(11,"Learn More"),p()()),n&2){let t=e.$implicit;S(3),fe(t.icon),S(2),fe(t.title),S(2),fe(t.description),S(2),V("ngForOf",t.features)}}var d0=class n{constructor(e){this.seoService=e}services=[{icon:"favorite",title:"Counseling & Guidance",description:"Professional psychological support for personal and professional challenges",features:["Individual counseling sessions","Couple and family therapy","Career counseling","Stress and anxiety management"]},{icon:"assessment",title:"Psychometric Assessments",description:"Scientifically validated assessments for comprehensive psychological evaluation",features:["Personality assessments","Aptitude and career tests","Emotional intelligence evaluation","Leadership potential analysis"]},{icon:"school",title:"Mental Health Trainings",description:"Workshops and training programs to promote mental wellness",features:["Stress management workshops","Mindfulness training","Resilience building programs","Mental health awareness sessions"]},{icon:"verified_user",title:"Mental Wellbeing Audits",description:"Comprehensive organizational mental health assessments",features:["Workplace stress audits","Employee wellbeing surveys","Risk assessment and mitigation","Action plan development"]}];ngOnInit(){this.setupSEO()}setupSEO(){this.seoService.updateMetaTags({title:"Psychological Counseling Services - Mental Health Support",description:"Professional psychological counseling, psychometric assessments, mental health training, and wellbeing audits by certified psychologists.",keywords:"psychological counseling, mental health services, psychometric tests, therapy, mental wellbeing"})}static \u0275fac=function(t){return new(t||n)(ee(Pn))};static \u0275cmp=Fe({type:n,selectors:[["app-counseling"]],decls:53,vars:1,consts:[[1,"counseling-page"],[1,"counseling-hero"],[1,"container"],[1,"hero-content","text-center"],[1,"hero-subtitle"],["routerLink","/contact",1,"btn-hero"],[1,"services-section","section-padding"],[1,"section-header","text-center"],[1,"section-subtitle"],[1,"services-grid"],["class","service-card",4,"ngFor","ngForOf"],[1,"confidentiality-section","section-padding"],[1,"confidentiality-content","text-center"],[1,"material-icons","shield-icon"],[1,"trust-badges"],[1,"badge"],[1,"material-icons"],[1,"cta-section"],[1,"cta-content","text-center"],["routerLink","/contact",1,"btn-primary-large"],[1,"service-card"],[1,"service-icon"],[1,"service-description"],[1,"features-list"],[4,"ngFor","ngForOf"],["routerLink","/contact",1,"btn-service"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),y(5,"Promoting Psychological Well-Being"),p(),g(6,"p",4),y(7," Professional mental health services to support individuals and organizations "),p(),g(8,"a",5),y(9,"Schedule Now"),p()()()(),g(10,"section",6)(11,"div",2)(12,"div",7)(13,"h2"),y(14,"Our Counseling Services"),p(),g(15,"p",8),y(16," Comprehensive mental health support delivered by experienced psychologists "),p()(),g(17,"div",9),ae(18,lG,12,4,"div",10),p()()(),g(19,"section",11)(20,"div",2)(21,"div",12)(22,"span",13),y(23,"verified_user"),p(),g(24,"h2"),y(25,"Your Privacy is Our Priority"),p(),g(26,"p"),y(27," All counseling sessions are strictly confidential and conducted in accordance with professional ethical guidelines. We provide a safe, non-judgmental space for you to explore your concerns and work towards positive change. "),p(),g(28,"div",14)(29,"div",15)(30,"span",16),y(31,"lock"),p(),g(32,"span"),y(33,"100% Confidential"),p()(),g(34,"div",15)(35,"span",16),y(36,"workspace_premium"),p(),g(37,"span"),y(38,"Certified Professionals"),p()(),g(39,"div",15)(40,"span",16),y(41,"support_agent"),p(),g(42,"span"),y(43,"24/7 Support"),p()()()()()(),g(44,"section",17)(45,"div",2)(46,"div",18)(47,"h2"),y(48,"Take the First Step Towards Better Mental Health"),p(),g(49,"p"),y(50,"Our compassionate team is here to support you on your journey"),p(),g(51,"a",19),y(52,"Book Your Session"),p()()()()()),t&2&&(S(18),V("ngForOf",i.services))},dependencies:[Rt,An],styles:['.counseling-page[_ngcontent-%COMP%]{background:#f7f9fc}.counseling-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);padding:140px 0 64px;text-align:center;position:relative;overflow:hidden}@media (max-width: 768px){.counseling-hero[_ngcontent-%COMP%]{padding:120px 0 48px}}.counseling-hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:800px;height:800px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%;pointer-events:none}.counseling-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:1}.counseling-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3.5rem;margin-bottom:24px}@media (max-width: 768px){.counseling-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}}.counseling-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#fffffff2;font-size:1.3rem;max-width:800px;margin:0 auto 48px}@media (max-width: 768px){.counseling-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.1rem}}.counseling-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;padding:18px 48px;background:#fff;color:#4584f3;font-size:1.1rem}.counseling-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.counseling-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:active{transform:translateY(0)}.counseling-hero[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:hover{background:#f7f9fc;transform:translateY(-2px)}.services-section[_ngcontent-%COMP%]{background:#fff}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:48px}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.service-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:48px;text-align:center;position:relative;overflow:hidden;transition:all .3s ease}.service-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.service-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#4584f3,#00b8a9);transform:scaleX(0);transition:transform .3s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 48px #00264a33}.service-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.service-card[_ngcontent-%COMP%]:hover   .service-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.service-icon[_ngcontent-%COMP%]{width:90px;height:90px;display:flex;justify-content:center;align-items:center;margin:0 auto 24px;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:50%;box-shadow:0 4px 16px #00264a1f;transition:all .3s ease}.service-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:44px;color:#fff}.service-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#00264a;margin-bottom:24px;font-weight:700}.service-description[_ngcontent-%COMP%]{color:#00264a;font-size:1.05rem;line-height:1.7;margin-bottom:32px}.features-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 32px;text-align:left}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:16px;padding:8px 16px;border-radius:8px;transition:background .2s ease}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f7f9fc}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#00b8a9;font-size:20px;flex-shrink:0;margin-top:2px}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2c3e50;font-size:.95rem;line-height:1.5}.btn-service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;padding:12px 32px;font-size:1rem;width:100%}.btn-service[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.btn-service[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-service[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#00b8a9,#4584f3)}.confidentiality-section[_ngcontent-%COMP%]{background:#f7f9fc;position:relative;overflow:hidden}.confidentiality-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;height:600px;background:radial-gradient(circle,rgba(69,132,243,.03) 0%,transparent 70%);border-radius:50%}.confidentiality-content[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:900px;margin:0 auto;color:#00264a}.confidentiality-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#00264a;margin-bottom:24px}@media (max-width: 768px){.confidentiality-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}.confidentiality-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.8;color:#00264a;margin-bottom:48px}.shield-icon[_ngcontent-%COMP%]{font-size:80px!important;color:#00b8a9;margin-bottom:24px;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}.trust-badges[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:32px;margin-top:48px}@media (max-width: 768px){.trust-badges[_ngcontent-%COMP%]{grid-template-columns:1fr}}.badge[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:32px;display:flex;align-items:center;gap:24px;background:#fff}.badge[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:40px;color:#4584f3;flex-shrink:0}.badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:600;color:#00264a}.cta-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00264a,#4584f3);padding:64px 0;position:relative;overflow:hidden}.cta-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-10%;width:600px;height:600px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%}@media (max-width: 768px){.cta-section[_ngcontent-%COMP%]{padding:48px 0}}.cta-content[_ngcontent-%COMP%]{position:relative;z-index:1}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:24px}@media (max-width: 768px){.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.2rem;margin-bottom:48px;max-width:700px;margin-left:auto;margin-right:auto}.btn-primary-large[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;padding:18px 48px;font-size:1.1rem;background:#fff;color:#4584f3}.btn-primary-large[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.btn-primary-large[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-primary-large[_ngcontent-%COMP%]:hover{background:#f7f9fc;transform:translateY(-2px);box-shadow:0 12px 40px #0000004d}@media (max-width: 768px){.btn-primary-large[_ngcontent-%COMP%]{width:100%}}.section-header[_ngcontent-%COMP%]{margin-bottom:64px}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{margin-bottom:48px}}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#00264a;margin-bottom:16px}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}.section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:#00264a;max-width:700px;margin:0 auto;line-height:1.6}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.service-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease forwards}.service-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.service-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.service-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.service-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.service-card[_ngcontent-%COMP%]:focus-within{outline:3px solid #00b8a9;outline-offset:4px}@media print{.counseling-hero[_ngcontent-%COMP%], .cta-section[_ngcontent-%COMP%]{background:#fff!important;color:#00264a!important}.service-card[_ngcontent-%COMP%]{page-break-inside:avoid}}']})};function dG(n,e){if(n&1&&(g(0,"li")(1,"span",12),y(2,"check_circle"),p(),y(3),p()),n&2){let t=e.$implicit;S(3),ct(" ",t," ")}}function uG(n,e){if(n&1&&(g(0,"div",10)(1,"div",11)(2,"span",12),y(3),p()(),g(4,"h3"),y(5),p(),g(6,"ul",13),ae(7,dG,4,1,"li",14),p(),g(8,"a",15),y(9,"Get In Touch"),p()()),n&2){let t=e.$implicit;Nn("--program-color",t.color),S(3),fe(t.icon),S(2),fe(t.title),S(2),V("ngForOf",t.features)}}var u0=class n{constructor(e){this.seoService=e}programs=[{icon:"favorite_border",title:"Psychosocial Support",color:"#4584f3",features:["Understanding psychosocial needs","Communication skills enhancement","Stress management techniques","Ethical considerations in practice","Self-care strategies for professionals"]},{icon:"business_center",title:"Employee Assistance Program",color:"#00b8a9",features:["Confidential assessments","Short-term counseling services","Work-life balance support","Professional referrals","24/7 crisis support"]},{icon:"diversity_3",title:"Diversity, Equity & Inclusion",color:"#4caf50",features:["Gender sensitivity training","Creating inclusive frameworks","Cultural sensitivity programs","Language and communication skills","Bias awareness workshops"]}];ngOnInit(){this.setupSEO()}setupSEO(){this.seoService.updateMetaTags({title:"Mental Health Interventions - Workplace Wellness Programs",description:"Comprehensive mental health interventions including EAP, psychosocial support, and DE&I programs for organizational wellbeing.",keywords:"mental health interventions, EAP, employee assistance, diversity equity inclusion, psychosocial support"})}static \u0275fac=function(t){return new(t||n)(ee(Pn))};static \u0275cmp=Fe({type:n,selectors:[["app-interventions"]],decls:17,vars:1,consts:[[1,"interventions-page"],[1,"interventions-hero"],[1,"container"],[1,"hero-content","text-center"],[1,"hero-subtitle"],[1,"programs-section","section-padding"],[1,"section-header","text-center"],[1,"section-subtitle"],[1,"programs-grid"],["class","program-card",3,"--program-color",4,"ngFor","ngForOf"],[1,"program-card"],[1,"program-icon"],[1,"material-icons"],[1,"features-list"],[4,"ngFor","ngForOf"],["routerLink","/contact",1,"btn-program"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),y(5,"Mental Health Interventions"),p(),g(6,"p",4),y(7," Maximize your business success with comprehensive workplace wellness programs "),p()()()(),g(8,"section",5)(9,"div",2)(10,"div",6)(11,"h2"),y(12,"Our Intervention Programs"),p(),g(13,"p",7),y(14," Evidence-based solutions for organizational mental health and wellness "),p()(),g(15,"div",8),ae(16,uG,10,5,"div",9),p()()()()),t&2&&(S(16),V("ngForOf",i.programs))},dependencies:[Rt,An],styles:["p[_ngcontent-%COMP%]{color:#00264a}.interventions-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);padding:140px 0 64px;text-align:center}.interventions-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;margin-bottom:24px}.interventions-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#fffffff2;font-size:1.2rem;max-width:700px;margin:0 auto}.programs-section[_ngcontent-%COMP%]{background:#fff}.programs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:48px}.program-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00264a1f;transition:box-shadow .3s ease,transform .3s ease;padding:48px;border-top:4px solid var(--program-color, #4584f3)}.program-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-4px)}.program-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;justify-content:center;align-items:center;background:var(--program-color, #4584f3);border-radius:50%;margin:0 auto 24px}.program-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:40px;color:#fff}.program-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#00264a;margin-bottom:32px}.features-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 32px}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:16px;padding:16px;border-radius:8px;transition:all .2s ease}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f7f9fc}.features-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:var(--program-color, #4584f3);font-size:20px;flex-shrink:0}.btn-program[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;padding:14px 32px;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;background:var(--program-color, #4584f3)}.btn-program[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.btn-program[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-program[_ngcontent-%COMP%]:hover{background:#1564f0}"]})};function hG(n,e){if(n&1){let t=gn();g(0,"button",23),Te("click",function(){vt(t);let r=Ce();return _t(r.clearSearch())}),g(1,"span",24),y(2,"close"),p()()}}function fG(n,e){if(n&1){let t=gn();g(0,"button",25),Te("click",function(){let r=vt(t).$implicit,o=Ce();return _t(o.filterByCategory(r))}),y(1),p()}if(n&2){let t=e.$implicit,i=Ce();Ke("active",i.selectedCategory===t),Nt("aria-pressed",i.selectedCategory===t),S(),ct(" ",t," ")}}function pG(n,e){n&1&&(g(0,"div",26),ce(1,"div",27),g(2,"p"),y(3,"Loading articles..."),p()())}function mG(n,e){if(n&1){let t=gn();g(0,"div",28)(1,"span",24),y(2,"article"),p(),g(3,"h3"),y(4,"No articles found"),p(),g(5,"p"),y(6,"Try adjusting your search or filter criteria"),p(),g(7,"button",29),Te("click",function(){vt(t);let r=Ce();return r.selectedCategory="All",_t(r.clearSearch())}),y(8," Clear Filters "),p()()}}function gG(n,e){if(n&1&&ce(0,"app-blog-card",32),n&2){let t=e.$implicit;V("blog",t)}}function vG(n,e){if(n&1&&(g(0,"div",30),ae(1,gG,1,1,"app-blog-card",31),p()),n&2){let t=Ce();S(),V("ngForOf",t.filteredBlogs)}}var h0=class n{constructor(e,t){this.blogService=e;this.seoService=t}blogs=[];filteredBlogs=[];categories=["All","Mental Health","HR Consulting","Training","Workplace Wellness","Leadership"];selectedCategory="All";searchQuery="";isLoading=!0;ngOnInit(){this.setupSEO(),this.loadBlogs()}setupSEO(){this.seoService.updateMetaTags({title:"Blogs - Mental Health & HR Insights",description:"Expert articles on mental health, workplace wellness, HR consulting, and organizational development from HYUMANIUM professionals.",keywords:"mental health blogs, HR articles, workplace wellness, leadership, employee wellbeing"})}loadBlogs(){this.blogService.getAllBlogs().subscribe({next:e=>{this.blogs=e.filter(t=>t.published),this.filteredBlogs=this.blogs,this.isLoading=!1},error:e=>{console.error("Error loading blogs:",e),this.isLoading=!1}})}filterByCategory(e){this.selectedCategory=e,this.applyFilters()}onSearchChange(){this.applyFilters()}applyFilters(){let e=this.blogs;if(this.selectedCategory!=="All"&&(e=e.filter(t=>t.category===this.selectedCategory)),this.searchQuery.trim()){let t=this.searchQuery.toLowerCase();e=e.filter(i=>i.title.toLowerCase().includes(t)||i.excerpt.toLowerCase().includes(t)||i.tags.some(r=>r.toLowerCase().includes(t)))}this.filteredBlogs=e}clearSearch(){this.searchQuery="",this.applyFilters()}static \u0275fac=function(t){return new(t||n)(ee(Xr),ee(Pn))};static \u0275cmp=Fe({type:n,selectors:[["app-blogs"]],decls:36,vars:6,consts:[[1,"blogs-page"],[1,"blogs-hero"],[1,"container"],[1,"hero-content","text-center"],[1,"hero-subtitle"],[1,"filters-section"],[1,"filters-wrapper"],[1,"search-box"],[1,"material-icons","search-icon"],["type","search","placeholder","Search articles, topics, tags...","aria-label","Search blogs",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-btn","aria-label","Clear search",3,"click",4,"ngIf"],[1,"category-chips"],["class","category-chip",3,"active","click",4,"ngFor","ngForOf"],[1,"blogs-grid-section","section-padding"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","blogs-grid",4,"ngIf"],[1,"newsletter-section"],[1,"newsletter-content","text-center"],[1,"material-icons","newsletter-icon"],[1,"newsletter-form",3,"submit"],["type","email","placeholder","Enter your email","aria-label","Email address","required",""],["type","submit",1,"btn-subscribe"],["aria-label","Clear search",1,"clear-btn",3,"click"],[1,"material-icons"],[1,"category-chip",3,"click"],[1,"loading-state"],[1,"spinner"],[1,"empty-state"],[1,"btn-outline",3,"click"],[1,"blogs-grid"],[3,"blog",4,"ngFor","ngForOf"],[3,"blog"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1"),y(5,"Insights & Expertise"),p(),g(6,"p",4),y(7," Expert perspectives on mental health, workplace wellness, and organizational development "),p()()()(),g(8,"section",5)(9,"div",2)(10,"div",6)(11,"div",7)(12,"span",8),y(13,"search"),p(),g(14,"input",9),rb("ngModelChange",function(o){return RE(i.searchQuery,o)||(i.searchQuery=o),o}),Te("input",function(){return i.onSearchChange()}),p(),ae(15,hG,3,0,"button",10),p(),g(16,"div",11),ae(17,fG,2,4,"button",12),p()()()(),g(18,"section",13)(19,"div",2),ae(20,pG,4,0,"div",14)(21,mG,9,0,"div",15)(22,vG,2,1,"div",16),p()(),g(23,"section",17)(24,"div",2)(25,"div",18)(26,"span",19),y(27,"mail_outline"),p(),g(28,"h2"),y(29,"Stay Updated"),p(),g(30,"p"),y(31,"Subscribe to receive the latest insights on mental health and workplace wellness"),p(),g(32,"form",20),Te("submit",function(o){return o.preventDefault()}),ce(33,"input",21),g(34,"button",22),y(35,"Subscribe"),p()()()()()()),t&2&&(S(14),ib("ngModel",i.searchQuery),S(),V("ngIf",i.searchQuery),S(2),V("ngForOf",i.categories),S(3),V("ngIf",i.isLoading),S(),V("ngIf",!i.isLoading&&i.filteredBlogs.length===0),S(),V("ngIf",!i.isLoading&&i.filteredBlogs.length>0))},dependencies:[Rt,Kn,Cs,qr,Ms,ws,Sy,Cy,Ts],styles:[".blogs-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);padding:120px 0 64px;text-align:center}@media (max-width: 768px){.blogs-hero[_ngcontent-%COMP%]{padding:100px 0 48px}}.blogs-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:3rem;margin-bottom:24px}@media (max-width: 768px){.blogs-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.hero-subtitle[_ngcontent-%COMP%]{color:#fffffff2;font-size:1.2rem;max-width:700px;margin:0 auto}.filters-section[_ngcontent-%COMP%]{background:#fff;padding:32px 0;box-shadow:0 2px 8px #00264a14;position:sticky;top:80px;z-index:100}.filters-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.search-box[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:0 auto;width:100%}.search-icon[_ngcontent-%COMP%]{position:absolute;left:24px;top:50%;transform:translateY(-50%);color:#fff;pointer-events:none}.search-input[_ngcontent-%COMP%]{width:100%;padding:14px 24px 14px 52px;border:2px solid #e8ecf1;border-radius:16px;font-size:1rem;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4584f3;box-shadow:0 0 0 3px #4584f31a}.clear-btn[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);background:none;border:none;padding:4px;cursor:pointer;color:#fff;transition:color .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{color:#00264a}.category-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center}.category-chip[_ngcontent-%COMP%]{padding:10px 20px;border:2px solid #e8ecf1;border-radius:24px;background:#fff;color:#2c3e50;font-weight:500;font-size:.95rem;cursor:pointer;transition:all .2s ease}.category-chip[_ngcontent-%COMP%]:hover{border-color:#4584f3;color:#4584f3}.category-chip.active[_ngcontent-%COMP%]{background:#4584f3;border-color:#4584f3;color:#fff}.blogs-grid-section[_ngcontent-%COMP%]{background:#f7f9fc;min-height:50vh}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:64px 0;text-align:center}.loading-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:80px;color:#e8ecf1;margin-bottom:24px}.loading-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:16px}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-bottom:24px}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #e8ecf1;border-top-color:#4584f3;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.blogs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:32px}@media (max-width: 768px){.blogs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.newsletter-section[_ngcontent-%COMP%]{background:#00264a;padding:64px 0}.newsletter-content[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.newsletter-icon[_ngcontent-%COMP%]{font-size:64px;color:#00b8a9;margin-bottom:24px}.newsletter-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:16px}.newsletter-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;margin-bottom:32px}.newsletter-form[_ngcontent-%COMP%]{display:flex;gap:16px;max-width:500px;margin:0 auto}@media (max-width: 768px){.newsletter-form[_ngcontent-%COMP%]{flex-direction:column}}.newsletter-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:14px 24px;border:2px solid rgba(255,255,255,.2);border-radius:12px;background:#ffffff1a;color:#fff;font-size:1rem}.newsletter-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff9}.newsletter-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#00b8a9;background:#ffffff26}.btn-subscribe[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;padding:14px 32px;background:#00b8a9;white-space:nowrap}.btn-subscribe[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.btn-subscribe[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-subscribe[_ngcontent-%COMP%]:hover{background:#009f92}@media (max-width: 768px){.btn-subscribe[_ngcontent-%COMP%]{width:100%}}.btn-outline[_ngcontent-%COMP%]{padding:12px 32px;border:2px solid #4584f3;border-radius:12px;background:transparent;color:#4584f3;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-outline[_ngcontent-%COMP%]:hover{background:#4584f3;color:#fff}"]})};function _G(n,e){if(n&1&&(g(0,"div",27),ce(1,"img",28),p()),n&2){let t=Ce(2);S(),V("src",t.blog.image1,jt)}}function bG(n,e){if(n&1&&(g(0,"div",27),ce(1,"img",29),p()),n&2){let t=Ce(2);S(),V("src",t.blog.image2,jt)}}function yG(n,e){if(n&1&&(g(0,"span",30),y(1),p()),n&2){let t=e.$implicit;S(),ct(" #",t," ")}}function xG(n,e){if(n&1&&ce(0,"app-blog-card",34),n&2){let t=e.$implicit;V("blog",t)}}function MG(n,e){if(n&1&&(g(0,"section",31)(1,"div",5)(2,"h2"),y(3,"Related Articles"),p(),g(4,"div",32),ae(5,xG,1,1,"app-blog-card",33),p()()()),n&2){let t=Ce(2);S(5),V("ngForOf",t.relatedBlogs)}}function wG(n,e){if(n&1){let t=gn();g(0,"div",2)(1,"section",3),ce(2,"div",4),g(3,"div",5)(4,"div",6)(5,"div",7),y(6),p(),g(7,"h1",8),y(8),p(),g(9,"div",9)(10,"div",10)(11,"span",11),y(12,"person"),p(),g(13,"span"),y(14),p()(),g(15,"div",12)(16,"span",11),y(17,"calendar_today"),p(),g(18,"span"),y(19),LE(20,"date"),p()(),g(21,"div",13)(22,"span",11),y(23,"schedule"),p(),g(24,"span"),y(25),p()()()()()(),g(26,"section",14)(27,"div",5)(28,"article",15),ce(29,"div",16),ae(30,_G,2,1,"div",17)(31,bG,2,1,"div",17),g(32,"div",18),ae(33,yG,2,1,"span",19),p(),g(34,"div",20)(35,"h3"),y(36,"Share this article"),p(),g(37,"div",21)(38,"button",22),Te("click",function(){vt(t);let r=Ce();return _t(r.shareBlog("twitter"))}),g(39,"span",11),y(40,"share"),p(),y(41," Twitter "),p(),g(42,"button",23),Te("click",function(){vt(t);let r=Ce();return _t(r.shareBlog("facebook"))}),g(43,"span",11),y(44,"share"),p(),y(45," Facebook "),p(),g(46,"button",24),Te("click",function(){vt(t);let r=Ce();return _t(r.shareBlog("linkedin"))}),g(47,"span",11),y(48,"share"),p(),y(49," LinkedIn "),p(),g(50,"button",25),Te("click",function(){vt(t);let r=Ce();return _t(r.shareBlog("whatsapp"))}),g(51,"span",11),y(52,"share"),p(),y(53," WhatsApp "),p()()()()()(),ae(54,MG,6,1,"section",26),p()}if(n&2){let t=Ce();S(),Nn("background-image","url("+t.blog.mainImage+")"),S(5),fe(t.blog.category),S(2),fe(t.blog.title),S(6),fe(t.blog.author),S(5),fe(BE(20,12,t.blog.createdAt,"mediumDate")),S(6),ct("",t.blog.readTime," min read"),S(4),V("innerHTML",t.sanitizedContent,xS),S(),V("ngIf",t.blog.image1),S(),V("ngIf",t.blog.image2),S(2),V("ngForOf",t.blog.tags),S(21),V("ngIf",t.relatedBlogs.length>0)}}function CG(n,e){n&1&&(g(0,"div",35),ce(1,"div",36),g(2,"p"),y(3,"Loading article..."),p()())}var f0=class n{constructor(e,t,i,r,o){this.route=e;this.router=t;this.blogService=i;this.seoService=r;this.sanitizer=o}blog;relatedBlogs=[];isLoading=!0;sanitizedContent;ngOnInit(){this.route.params.subscribe(e=>{let t=e.slug;this.loadBlog(t)})}loadBlog(e){this.isLoading=!0,this.blogService.getBlogBySlug(e).subscribe({next:t=>{this.blog=t,this.sanitizedContent=this.sanitizer.sanitize(1,t.content),this.setupSEO(t),this.loadRelatedBlogs(t.category),this.isLoading=!1,window.scrollTo(0,0)},error:t=>{console.error("Error loading blog:",t),this.router.navigate(["/blogs"])}})}setupSEO(e){this.seoService.updateMetaTags({title:e.metaTitle||e.title,description:e.metaDescription||e.excerpt,keywords:e.tags.join(", "),image:e.mainImage,type:"article"}),this.seoService.addStructuredData({"@context":"https://schema.org","@type":"Article",headline:e.title,image:e.mainImage,datePublished:e.createdAt,dateModified:e.updatedAt,author:{"@type":"Person",name:e.author,jobTitle:e.credentials},publisher:{"@type":"Organization",name:"HYUMANIUM LTD",logo:{"@type":"ImageObject",url:"https://hyumanium.com/assets/logo.png"}},description:e.excerpt})}loadRelatedBlogs(e){this.blogService.getBlogsByCategory(e).subscribe({next:t=>{this.relatedBlogs=t.filter(i=>i.id!==this.blog?.id&&i.published).slice(0,3)}})}shareBlog(e){let t=window.location.href,i=this.blog?.title||"",r="";switch(e){case"twitter":r=`https://twitter.com/intent/tweet?url=${encodeURIComponent(t)}&text=${encodeURIComponent(i)}`;break;case"facebook":r=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`;break;case"linkedin":r=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(t)}`;break;case"whatsapp":r=`https://wa.me/?text=${encodeURIComponent(i+" "+t)}`;break}r&&window.open(r,"_blank","width=600,height=400")}static \u0275fac=function(t){return new(t||n)(ee(Ir),ee(zn),ee(Xr),ee(Pn),ee(Fb))};static \u0275cmp=Fe({type:n,selectors:[["app-blog-detail"]],decls:2,vars:2,consts:[["class","blog-detail-page",4,"ngIf"],["class","loading-state",4,"ngIf"],[1,"blog-detail-page"],[1,"blog-hero"],[1,"hero-overlay"],[1,"container"],[1,"hero-content"],[1,"blog-category-badge"],[1,"blog-title"],[1,"blog-meta"],[1,"author-info"],[1,"material-icons"],[1,"date-info"],[1,"read-time"],[1,"blog-content-section","section-padding"],[1,"blog-article"],[1,"blog-body",3,"innerHTML"],["class","content-image",4,"ngIf"],[1,"blog-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"share-section"],[1,"share-buttons"],[1,"share-btn","twitter",3,"click"],[1,"share-btn","facebook",3,"click"],[1,"share-btn","linkedin",3,"click"],[1,"share-btn","whatsapp",3,"click"],["class","related-blogs-section section-padding",4,"ngIf"],[1,"content-image"],["alt","Content image 1","loading","lazy",3,"src"],["alt","Content image 2","loading","lazy",3,"src"],[1,"tag"],[1,"related-blogs-section","section-padding"],[1,"blogs-grid"],[3,"blog",4,"ngFor","ngForOf"],[3,"blog"],[1,"loading-state"],[1,"spinner"]],template:function(t,i){t&1&&ae(0,wG,55,15,"div",0)(1,CG,4,0,"div",1),t&2&&(V("ngIf",i.blog),S(),V("ngIf",i.isLoading))},dependencies:[Rt,Kn,Ts,sI],styles:[".blog-hero[_ngcontent-%COMP%]{position:relative;min-height:60vh;background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center;padding-top:100px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#00000080,#000000b3)}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center;max-width:900px;margin:0 auto}.blog-category-badge[_ngcontent-%COMP%]{display:inline-block;padding:8px 20px;background:#00b8a9;color:#fff;border-radius:12px;font-weight:600;margin-bottom:24px}.blog-title[_ngcontent-%COMP%]{color:#fff;font-size:3rem;margin-bottom:32px}@media (max-width: 768px){.blog-title[_ngcontent-%COMP%]{font-size:2rem}}.blog-meta[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:32px;flex-wrap:wrap;color:#ffffffe6}.blog-meta[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.blog-meta[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.blog-content-section[_ngcontent-%COMP%]{background:#fff}.blog-article[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.blog-body[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#2c3e50;margin-bottom:48px}.blog-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .blog-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .blog-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:48px;margin-bottom:24px;color:#00264a}.blog-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px}.blog-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .blog-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:24px;padding-left:32px}.content-image[_ngcontent-%COMP%]{margin:48px 0}.content-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:16px;box-shadow:0 4px 16px #00264a1f}.blog-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:48px}.tag[_ngcontent-%COMP%]{padding:8px 16px;background:#f7f9fc;color:#4584f3;border-radius:12px;font-weight:600}.share-section[_ngcontent-%COMP%]{padding:48px 0;border-top:2px solid #e8ecf1}.share-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:24px}.share-buttons[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.share-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 20px;border:none;border-radius:12px;cursor:pointer;font-weight:600;transition:all .3s ease}.share-btn.twitter[_ngcontent-%COMP%]{background:#1da1f2;color:#fff}.share-btn.facebook[_ngcontent-%COMP%]{background:#4267b2;color:#fff}.share-btn.linkedin[_ngcontent-%COMP%]{background:#0077b5;color:#fff}.share-btn.whatsapp[_ngcontent-%COMP%]{background:#25d366;color:#fff}.share-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00264a1f}.related-blogs-section[_ngcontent-%COMP%]{background:#f7f9fc}.related-blogs-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}.blogs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:32px}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:60vh;padding:64px 0}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #e8ecf1;border-top-color:#4584f3;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:24px}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function SG(n,e){if(n&1&&(g(0,"a",56),ce(1,"i"),p()),n&2){let t=e.$implicit;Nn("--social-color",t.color),V("href",t.url,jt),Nt("aria-label",t.name),S(),tb("fab fa-",t.icon,"")}}function EG(n,e){if(n&1&&(g(0,"span",7),y(1),p()),n&2){let t=Ce().$implicit;S(),fe(t.icon)}}function IG(n,e){n&1&&(Cc(),g(0,"svg",63),ce(1,"path",64),p())}function TG(n,e){if(n&1&&(g(0,"div",57)(1,"div",58),ae(2,EG,2,1,"span",59)(3,IG,2,0,"svg",60),p(),g(4,"div",61)(5,"h3"),y(6),p(),g(7,"p"),y(8),p(),g(9,"a",62),y(10),g(11,"span",7),y(12,"arrow_forward"),p()()()()),n&2){let t=e.$implicit;S(),yo(t.type),S(),V("ngIf",t.icon!=="whatsapp"),S(),V("ngIf",t.icon==="whatsapp"),S(3),fe(t.title),S(2),fe(t.content),S(),V("href",t.link,jt),S(),ct(" ",t.action," ")}}function DG(n,e){if(n&1&&(g(0,"div",65)(1,"span",66),y(2),p(),g(3,"span",67),y(4),p()()),n&2){let t=e.$implicit;Ke("closed",!t.isOpen),S(2),fe(t.day),S(2),fe(t.hours)}}function AG(n,e){if(n&1&&(g(0,"span",68),y(1),p()),n&2){let t=Ce();S(),ct(" ",t.getErrorMessage("name")," ")}}function PG(n,e){if(n&1&&(g(0,"span",68),y(1),p()),n&2){let t=Ce();S(),ct(" ",t.getErrorMessage("email")," ")}}function OG(n,e){if(n&1&&(g(0,"span",68),y(1),p()),n&2){let t=Ce();S(),ct(" ",t.getErrorMessage("phone")," ")}}function RG(n,e){if(n&1&&(g(0,"span",68),y(1),p()),n&2){let t=Ce();S(),ct(" ",t.getErrorMessage("subject")," ")}}function kG(n,e){if(n&1&&(g(0,"span",68),y(1),p()),n&2){let t=Ce();S(),ct(" ",t.getErrorMessage("message")," ")}}function NG(n,e){n&1&&(g(0,"span",69)(1,"span",7),y(2,"send"),p(),y(3," Send Message "),p())}function FG(n,e){n&1&&(g(0,"span",69),ce(1,"span",70),y(2," Sending... "),p())}function LG(n,e){n&1&&(g(0,"div",71)(1,"span",7),y(2,"check_circle"),p(),g(3,"div")(4,"strong"),y(5,"Success!"),p(),g(6,"p"),y(7,"Your message has been sent successfully. We'll get back to you soon."),p()()())}function BG(n,e){n&1&&(g(0,"div",72)(1,"span",7),y(2,"error"),p(),g(3,"div")(4,"strong"),y(5,"Oops!"),p(),g(6,"p"),y(7,"Something went wrong. Please try again or contact us directly."),p()()())}var p0=class n{constructor(e,t){this.fb=e;this.seoService=t;this.contactForm=this.fb.group({name:["",[Ut.required,Ut.minLength(2)]],email:["",[Ut.required,Ut.email]],phone:["",[Ut.pattern(/^[0-9]{10,}$/)]],subject:["",Ut.required],message:["",[Ut.required,Ut.minLength(10)]]})}contactForm;isSubmitting=!1;submitSuccess=!1;submitError=!1;socialLinks=[{name:"Facebook",icon:"facebook",url:"https://facebook.com/hyumanium",color:"#1877F2"},{name:"Twitter",icon:"twitter",url:"https://twitter.com/hyumanium",color:"#1DA1F2"},{name:"LinkedIn",icon:"linkedin",url:"https://linkedin.com/company/hyumanium",color:"#0A66C2"},{name:"Instagram",icon:"instagram",url:"https://instagram.com/hyumanium",color:"#E4405F"},{name:"YouTube",icon:"youtube",url:"https://youtube.com/@hyumanium",color:"#FF0000"}];contactMethods=[{icon:"location_on",title:"Visit Our Office",content:"OFFICE# 405, LEVEL1, SOUTH EXT-II, TDI CITY, MOHALI",type:"location",action:"Get Directions",link:"https://maps.google.com/?q=TDI+City+Mohali"},{icon:"email",title:"Email Us",content:"HR@hyumanium.com",type:"email",action:"Send Email",link:"mailto:HR@hyumanium.com"},{icon:"phone",title:"Call Us",content:"+91 XXXXX XXXXX",type:"phone",action:"Call Now",link:"tel:+91XXXXXXXXXX"},{icon:"whatsapp",title:"WhatsApp Us",content:"Quick response via WhatsApp",type:"whatsapp",action:"Chat Now",link:"https://wa.me/91XXXXXXXXXX"}];officeHours=[{day:"Monday",hours:"09:00 AM \u2013 05:00 PM",isOpen:!0},{day:"Tuesday",hours:"09:00 AM \u2013 05:00 PM",isOpen:!0},{day:"Wednesday",hours:"09:00 AM \u2013 05:00 PM",isOpen:!0},{day:"Thursday",hours:"09:00 AM \u2013 05:00 PM",isOpen:!0},{day:"Friday",hours:"09:00 AM \u2013 05:00 PM",isOpen:!0},{day:"Saturday",hours:"By Appointment Only",isOpen:!1},{day:"Sunday",hours:"Closed",isOpen:!1}];ngOnInit(){this.setupSEO()}setupSEO(){this.seoService.updateMetaTags({title:"Contact Us - Get in Touch with HYUMANIUM",description:"Contact HYUMANIUM for mental health services, HR consulting, and workplace wellness programs. Office in Mohali, Punjab.",keywords:"contact hyumanium, mental health services, HR consulting contact, office location"})}onSubmit(){this.contactForm.valid&&!this.isSubmitting?(this.isSubmitting=!0,this.submitSuccess=!1,this.submitError=!1,setTimeout(()=>{console.log("Form submitted:",this.contactForm.value),this.isSubmitting=!1,this.submitSuccess=!0,this.contactForm.reset(),setTimeout(()=>{this.submitSuccess=!1},5e3)},1500)):Object.keys(this.contactForm.controls).forEach(e=>{this.contactForm.get(e)?.markAsTouched()})}getErrorMessage(e){let t=this.contactForm.get(e);return t?.hasError("required")?`${e.charAt(0).toUpperCase()+e.slice(1)} is required`:t?.hasError("email")?"Please enter a valid email address":t?.hasError("minlength")?`Minimum ${t.errors?.minlength.requiredLength} characters required`:t?.hasError("pattern")?"Please enter a valid phone number (10+ digits)":""}static \u0275fac=function(t){return new(t||n)(ee(Nc),ee(Pn))};static \u0275cmp=Fe({type:n,selectors:[["app-contact"]],decls:114,vars:26,consts:[[1,"contact-page"],[1,"contact-hero"],[1,"hero-particles"],[1,"hero-gradient"],[1,"container"],[1,"hero-content"],[1,"hero-badge"],[1,"material-icons"],[1,"hero-title"],[1,"hero-subtitle"],[1,"social-links"],["target","_blank","rel","noopener noreferrer","class","social-link",3,"href","--social-color",4,"ngFor","ngForOf"],[1,"contact-content","section-padding"],[1,"contact-grid"],[1,"contact-sidebar"],[1,"contact-methods"],["class","contact-card glass-card",4,"ngFor","ngForOf"],[1,"office-hours-card","glass-card"],[1,"card-header"],[1,"hours-list"],["class","hours-row",3,"closed",4,"ngFor","ngForOf"],[1,"form-section"],[1,"contact-form-card","glass-card"],[1,"form-header"],[1,"header-icon"],[1,"contact-form",3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","John Doe","aria-required","true"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","john@example.com","aria-required","true"],["for","phone"],["type","tel","id","phone","formControlName","phone","placeholder","+91 98765 43210"],["for","subject"],["id","subject","formControlName","subject","aria-required","true"],["value","","disabled","","selected",""],["value","consultation"],["value","training"],["value","counseling"],["value","eap"],["value","partnership"],["value","other"],["for","message"],["id","message","formControlName","message","rows","6","placeholder","Tell us about your needs and how we can help you...","aria-required","true"],["type","submit",1,"btn-submit",3,"disabled"],["class","btn-content",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[1,"map-section"],[1,"section-header"],[1,"map-container","glass-card"],["src",MS`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3430.123456789!2d76.7179!3d30.7046!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzDCsDQyJzE2LjYiTiA3NsKwNDMnMDQuNCJF!5e0!3m2!1sen!2sin!4v1234567890`,"width","100%","height","500","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade","title","HYUMANIUM Office Location",2,"border","0"],[1,"map-overlay"],["href","https://maps.google.com/?q=TDI+City+Mohali","target","_blank",1,"map-link"],["target","_blank","rel","noopener noreferrer",1,"social-link",3,"href"],[1,"contact-card","glass-card"],[1,"card-icon"],["class","material-icons",4,"ngIf"],["viewBox","0 0 24 24","fill","currentColor",4,"ngIf"],[1,"card-content"],["target","_blank","rel","noopener",1,"card-action",3,"href"],["viewBox","0 0 24 24","fill","currentColor"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],[1,"hours-row"],[1,"day-name"],[1,"day-hours"],[1,"error-message"],[1,"btn-content"],[1,"spinner"],[1,"alert","alert-success"],[1,"alert","alert-error"]],template:function(t,i){if(t&1&&(g(0,"div",0)(1,"section",1),ce(2,"div",2)(3,"div",3),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),y(8,"mail_outline"),p(),g(9,"span"),y(10,"Let's Connect"),p()(),g(11,"h1",8),y(12,"Get In Touch"),p(),g(13,"p",9),y(14," We'd love to hear from you. Let's discuss how we can help your organization thrive. "),p(),g(15,"div",10),ae(16,SG,2,7,"a",11),p()()()(),g(17,"section",12)(18,"div",4)(19,"div",13)(20,"aside",14)(21,"div",15),ae(22,TG,13,8,"div",16),p(),g(23,"div",17)(24,"div",18)(25,"span",7),y(26,"schedule"),p(),g(27,"h3"),y(28,"Office Hours"),p()(),g(29,"div",19),ae(30,DG,5,4,"div",20),p()()(),g(31,"div",21)(32,"div",22)(33,"div",23)(34,"div",24)(35,"span",7),y(36,"send"),p()(),g(37,"h2"),y(38,"Send Us a Message"),p(),g(39,"p"),y(40,"Fill out the form below and we'll get back to you within 24 hours."),p()(),g(41,"form",25),Te("ngSubmit",function(){return i.onSubmit()}),g(42,"div",26)(43,"div",27)(44,"label",28)(45,"span",7),y(46,"person"),p(),y(47," Full Name * "),p(),ce(48,"input",29),ae(49,AG,2,1,"span",30),p(),g(50,"div",27)(51,"label",31)(52,"span",7),y(53,"email"),p(),y(54," Email Address * "),p(),ce(55,"input",32),ae(56,PG,2,1,"span",30),p()(),g(57,"div",26)(58,"div",27)(59,"label",33)(60,"span",7),y(61,"phone"),p(),y(62," Phone Number "),p(),ce(63,"input",34),ae(64,OG,2,1,"span",30),p(),g(65,"div",27)(66,"label",35)(67,"span",7),y(68,"category"),p(),y(69," Subject * "),p(),g(70,"select",36)(71,"option",37),y(72,"Select a subject"),p(),g(73,"option",38),y(74,"Request Consultation"),p(),g(75,"option",39),y(76,"Training Programs"),p(),g(77,"option",40),y(78,"Psychological Counseling"),p(),g(79,"option",41),y(80,"Employee Assistance Program"),p(),g(81,"option",42),y(82,"Partnership Inquiry"),p(),g(83,"option",43),y(84,"Other Inquiry"),p()(),ae(85,RG,2,1,"span",30),p()(),g(86,"div",27)(87,"label",44)(88,"span",7),y(89,"message"),p(),y(90," Your Message * "),p(),ce(91,"textarea",45),ae(92,kG,2,1,"span",30),p(),g(93,"button",46),ae(94,NG,4,0,"span",47)(95,FG,3,0,"span",47),p(),ae(96,LG,8,0,"div",48)(97,BG,8,0,"div",49),p()()()()()(),g(98,"section",50)(99,"div",4)(100,"div",51)(101,"span",7),y(102,"location_on"),p(),g(103,"h2"),y(104,"Find Us on the Map"),p(),g(105,"p"),y(106,"Visit our office in Mohali for in-person consultations"),p()(),g(107,"div",52),ce(108,"iframe",53),g(109,"div",54)(110,"a",55)(111,"span",7),y(112,"directions"),p(),y(113," Get Directions "),p()()()()()()),t&2){let r,o,s,a,c,l,d,u,h,f;S(16),V("ngForOf",i.socialLinks),S(6),V("ngForOf",i.contactMethods),S(8),V("ngForOf",i.officeHours),S(11),V("formGroup",i.contactForm),S(7),Ke("error",((r=i.contactForm.get("name"))==null?null:r.invalid)&&((r=i.contactForm.get("name"))==null?null:r.touched)),S(),V("ngIf",((o=i.contactForm.get("name"))==null?null:o.invalid)&&((o=i.contactForm.get("name"))==null?null:o.touched)),S(6),Ke("error",((s=i.contactForm.get("email"))==null?null:s.invalid)&&((s=i.contactForm.get("email"))==null?null:s.touched)),S(),V("ngIf",((a=i.contactForm.get("email"))==null?null:a.invalid)&&((a=i.contactForm.get("email"))==null?null:a.touched)),S(7),Ke("error",((c=i.contactForm.get("phone"))==null?null:c.invalid)&&((c=i.contactForm.get("phone"))==null?null:c.touched)),S(),V("ngIf",((l=i.contactForm.get("phone"))==null?null:l.invalid)&&((l=i.contactForm.get("phone"))==null?null:l.touched)),S(6),Ke("error",((d=i.contactForm.get("subject"))==null?null:d.invalid)&&((d=i.contactForm.get("subject"))==null?null:d.touched)),S(15),V("ngIf",((u=i.contactForm.get("subject"))==null?null:u.invalid)&&((u=i.contactForm.get("subject"))==null?null:u.touched)),S(6),Ke("error",((h=i.contactForm.get("message"))==null?null:h.invalid)&&((h=i.contactForm.get("message"))==null?null:h.touched)),S(),V("ngIf",((f=i.contactForm.get("message"))==null?null:f.invalid)&&((f=i.contactForm.get("message"))==null?null:f.touched)),S(),Ke("submitting",i.isSubmitting),V("disabled",i.isSubmitting),S(),V("ngIf",!i.isSubmitting),S(),V("ngIf",i.isSubmitting),S(),V("ngIf",i.submitSuccess),S(),V("ngIf",i.submitError)}},dependencies:[Rt,Kn,Cs,Op,Rp,qr,kc,Ms,ws,wa,Ca],styles:[`@charset "UTF-8";.contact-hero[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#4584f3,#00b8a9);padding:160px 0 100px;text-align:center;overflow:hidden}@media (max-width: 768px){.contact-hero[_ngcontent-%COMP%]{padding:120px 0 80px}}.contact-hero[_ngcontent-%COMP%]   .hero-particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle at 20% 50%,rgba(255,255,255,.1) 1px,transparent 1px),radial-gradient(circle at 80% 80%,rgba(255,255,255,.15) 1px,transparent 1px),radial-gradient(circle at 40% 20%,rgba(255,255,255,.08) 1px,transparent 1px);background-size:50px 50px,80px 80px,100px 100px;animation:_ngcontent-%COMP%_particlesFloat 20s linear infinite;opacity:.6}.contact-hero[_ngcontent-%COMP%]   .hero-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 30% 50%,rgba(255,255,255,.1) 0%,transparent 50%);animation:_ngcontent-%COMP%_gradientPulse 8s ease-in-out infinite}.contact-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:2}.contact-hero[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#ffffff26;backdrop-filter:blur(10px);border-radius:50px;border:1px solid rgba(255,255,255,.3);color:#fff;font-weight:600;font-size:.9rem;margin-bottom:32px;animation:_ngcontent-%COMP%_fadeInDown .8s ease}.contact-hero[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.contact-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:4rem;font-weight:800;color:#fff;margin-bottom:24px;text-shadow:0 4px 30px rgba(0,0,0,.2);animation:_ngcontent-%COMP%_fadeInUp .8s ease .2s both}@media (max-width: 768px){.contact-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.5rem}}.contact-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#fffffff2;max-width:700px;margin:0 auto 48px;line-height:1.6;animation:_ngcontent-%COMP%_fadeInUp .8s ease .4s both}@media (max-width: 768px){.contact-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.1rem}}.social-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;flex-wrap:wrap;animation:_ngcontent-%COMP%_fadeInUp .8s ease .6s both}.social-link[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;backdrop-filter:blur(10px);border-radius:50%;border:2px solid rgba(255,255,255,.2);color:#fff;font-size:1.4rem;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.social-link[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-50%;background:conic-gradient(from 180deg at 50% 50%,transparent,var(--social-color),transparent);animation:_ngcontent-%COMP%_rotate 3s linear infinite;opacity:0;transition:opacity .3s ease}.social-link[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:2px;background:#ffffff1a;backdrop-filter:blur(10px);border-radius:50%;z-index:-1}.social-link[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.1);border-color:var(--social-color);box-shadow:0 10px 30px #0000004d,0 0 40px var(--social-color)}.social-link[_ngcontent-%COMP%]:hover:before{opacity:1}.social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;z-index:1}.contact-content[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f8f9fa,#fff);position:relative}.contact-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50px;left:0;width:100%;height:100px;background:linear-gradient(180deg,transparent,#f8f9fa)}.contact-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:400px 1fr;gap:64px}@media (min-width: 1440px){.contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1.5fr}}@media (max-width: 1024px){.contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:48px}}.glass-card[_ngcontent-%COMP%]{background:#ffffffb3;backdrop-filter:blur(20px) saturate(180%);border-radius:24px;border:1px solid rgba(255,255,255,.5);box-shadow:0 8px 32px #00000014,inset 0 1px #ffffffe6;transition:all .4s cubic-bezier(.4,0,.2,1)}.glass-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 60px #0000001f,inset 0 1px #fff}.contact-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.contact-methods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.contact-card[_ngcontent-%COMP%]{padding:32px;display:flex;gap:24px;align-items:flex-start;position:relative;overflow:hidden}.contact-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(118,75,162,.1),transparent);transition:left .6s ease}.contact-card[_ngcontent-%COMP%]:hover:before{left:100%}.contact-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;flex-shrink:0;box-shadow:0 8px 24px #667eea4d;transition:all .3s ease;position:relative}.contact-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-4px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:18px;z-index:-1;opacity:0;filter:blur(8px);transition:opacity .3s ease}.contact-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px;color:#fff}.contact-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;fill:#fff}.contact-card[_ngcontent-%COMP%]   .card-icon.whatsapp[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);box-shadow:0 8px 24px #25d3664d}.contact-card[_ngcontent-%COMP%]   .card-icon.whatsapp[_ngcontent-%COMP%]:after{background:linear-gradient(135deg,#25d366,#128c7e)}.contact-card[_ngcontent-%COMP%]   .card-icon.phone[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f)}.contact-card[_ngcontent-%COMP%]:hover   .card-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.contact-card[_ngcontent-%COMP%]:hover   .card-icon[_ngcontent-%COMP%]:after{opacity:1}.contact-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.contact-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#00264a;margin:0 0 8px}.contact-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:.95rem;line-height:1.5;margin:0 0 12px}.contact-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;color:#667eea;font-weight:600;font-size:.9rem;text-decoration:none;transition:all .3s ease}.contact-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;transition:transform .3s ease}.contact-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]:hover{color:#764ba2}.contact-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{transform:translate(4px)}.office-hours-card[_ngcontent-%COMP%]{padding:32px}.office-hours-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid rgba(102,126,234,.2)}.office-hours-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px;color:#667eea}.office-hours-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#00264a;margin:0}.office-hours-card[_ngcontent-%COMP%]   .hours-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.office-hours-card[_ngcontent-%COMP%]   .hours-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#667eea0a;border-radius:12px;border-left:3px solid #667eea;transition:all .3s ease}.office-hours-card[_ngcontent-%COMP%]   .hours-row[_ngcontent-%COMP%]:hover{background:#667eea14;padding-left:20px}.office-hours-card[_ngcontent-%COMP%]   .hours-row.closed[_ngcontent-%COMP%]{opacity:.6;border-left-color:#ccc}.office-hours-card[_ngcontent-%COMP%]   .hours-row[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{font-weight:600;color:#00264a;font-size:.95rem}.office-hours-card[_ngcontent-%COMP%]   .hours-row[_ngcontent-%COMP%]   .day-hours[_ngcontent-%COMP%]{color:#fff;font-size:.9rem;text-align:right}.contact-form-card[_ngcontent-%COMP%]{padding:64px;position:relative}@media (max-width: 768px){.contact-form-card[_ngcontent-%COMP%]{padding:32px}}.contact-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}.contact-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 24px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#4584f3,#00b8a9);border-radius:20px;box-shadow:0 12px 40px #667eea4d;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.contact-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:40px;color:#fff}.contact-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,#4584f3,#00b8a9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:16px}@media (max-width: 768px){.contact-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}.contact-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.05rem;margin:0}.contact-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px}@media (max-width: 768px){.contact-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#00264a;font-weight:700;margin-bottom:10px;font-size:.95rem;text-transform:uppercase;letter-spacing:.5px}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;color:#667eea}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:16px 18px;border:2px solid rgba(102,126,234,.2);border-radius:14px;font-size:1rem;font-family:Roboto,sans-serif;background:#fff9;backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1)}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#ffffffe6;box-shadow:0 0 0 4px #667eea1a,0 8px 24px #667eea33;transform:translateY(-2px)}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:not(:focus), .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:hover:not(:focus), .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover:not(:focus){border-color:#667eea66}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{border-color:#ee5a6f;animation:_ngcontent-%COMP%_shake .4s ease}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ee5a6f1a}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder, .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#5a6c7d80}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:140px;line-height:1.6}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23667eea' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 18px center;padding-right:45px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#ee5a6f;font-size:.85rem;margin-top:8px;font-weight:600;animation:_ngcontent-%COMP%_fadeInUp .3s ease}.error-message[_ngcontent-%COMP%]:before{content:"\\26a0";font-size:1rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:18px 32px;background:linear-gradient(135deg,#4584f3,#00b8a9);border:none;border-radius:14px;color:#fff;font-size:1.1rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;cursor:pointer;margin-top:32px;box-shadow:0 8px 24px #667eea66;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.btn-submit[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s ease,height .6s ease}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 40px #667eea80,0 0 60px #764ba24d}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled):before{width:400px;height:400px}.btn-submit[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.btn-submit[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;position:relative;z-index:1}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none!important}.btn-submit.submitting[_ngcontent-%COMP%]{background:linear-gradient(135deg,#764ba2,#667eea)}.btn-submit[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.alert[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:24px 32px;border-radius:14px;margin-top:32px;animation:_ngcontent-%COMP%_slideInUp .5s ease}.alert[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px;flex-shrink:0}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1rem;margin-bottom:4px}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.alert.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf501a,#4caf500d);border:2px solid #4CAF50;color:#357a38}.alert.alert-success[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#4caf50}.alert.alert-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ee5a6f1a,#ee5a6f0d);border:2px solid #EE5A6F;color:#e92c47}.alert.alert-error[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#ee5a6f}.map-section[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f8f9fa);padding:64px 0}.map-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}.map-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px;color:#667eea;margin-bottom:16px}.map-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:16px}@media (max-width: 768px){.map-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}.map-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;margin:0}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:24px}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{display:block;width:100%;filter:grayscale(.3) contrast(1.1);transition:filter .3s ease}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]:hover   iframe[_ngcontent-%COMP%]{filter:grayscale(0) contrast(1.2)}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .map-overlay[_ngcontent-%COMP%]{position:absolute;bottom:32px;right:32px}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .map-overlay[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:14px 24px;background:#fffffff2;backdrop-filter:blur(10px);border-radius:50px;color:#667eea;text-decoration:none;font-weight:700;box-shadow:0 8px 24px #00000026;transition:all .3s ease}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .map-overlay[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #0003;background:#fff}.map-section[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .map-overlay[_ngcontent-%COMP%]   .map-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px}@keyframes _ngcontent-%COMP%_particlesFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_gradientPulse{0%,to{opacity:.5}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:14px 16px;font-size:.95rem}.btn-submit[_ngcontent-%COMP%]{padding:16px;font-size:1rem}.social-link[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1.2rem}}*[_ngcontent-%COMP%]:focus-visible{outline:3px solid #667eea;outline-offset:3px;border-radius:4px}`]})};var Ws=class n{constructor(e,t){this.http=e;this.router=t;let i=localStorage.getItem("user");this.currentUserSubject=new Cn(i?JSON.parse(i):null),this.currentUser=this.currentUserSubject.asObservable()}currentUserSubject;currentUser;apiUrl=`${om.apiUrl}/api/auth`;get currentUserValue(){return this.currentUserSubject.value}get isAuthenticated(){return!!this.currentUserValue&&!!localStorage.getItem("auth_token")}get isAdmin(){return this.currentUserValue?.role==="Admin"}login(e,t){return this.http.post(`${this.apiUrl}/login`,{email:e,password:t}).pipe(mn(i=>{localStorage.setItem("auth_token",i.token),localStorage.setItem("user",JSON.stringify(i.user)),this.currentUserSubject.next(i.user)}))}register(e,t,i){return this.http.post(`${this.apiUrl}/register`,{email:e,password:t,fullName:i}).pipe(mn(r=>{localStorage.setItem("auth_token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),this.currentUserSubject.next(r.user)}))}logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("user"),this.currentUserSubject.next(null),this.router.navigate(["/admin/login"])}getCurrentUser(){return this.http.get(`${this.apiUrl}/me`)}getToken(){return localStorage.getItem("auth_token")}static \u0275fac=function(t){return new(t||n)(Y(ga),Y(zn))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fu=class n{constructor(e,t){this.router=e;this.authService=t}canActivate(e,t){return this.authService.isAuthenticated&&this.authService.isAdmin?!0:(this.router.navigate(["/admin/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||n)(Y(zn),Y(Ws))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};function UG(n,e){if(n&1&&(g(0,"div",9)(1,"span",10),y(2,"error"),p(),y(3),p()),n&2){let t=Ce();S(3),ct(" ",t.errorMessage," ")}}function VG(n,e){if(n&1&&(g(0,"span",26),y(1),p()),n&2){let t=Ce(2);S(),ct(" ",t.getErrorMessage("login","email")," ")}}function zG(n,e){if(n&1&&(g(0,"span",26),y(1),p()),n&2){let t=Ce(2);S(),ct(" ",t.getErrorMessage("login","password")," ")}}function HG(n,e){n&1&&(g(0,"span"),y(1,"Sign In"),p())}function jG(n,e){n&1&&(g(0,"span"),y(1,"Signing In..."),p())}function GG(n,e){if(n&1){let t=gn();g(0,"form",11),Te("ngSubmit",function(){vt(t);let r=Ce();return _t(r.onLogin())}),g(1,"h2"),y(2,"Sign In"),p(),g(3,"p",12),y(4,"Enter your credentials to access the admin panel"),p(),g(5,"div",13)(6,"label",14),y(7,"Email Address"),p(),g(8,"div",15)(9,"span",16),y(10,"email"),p(),ce(11,"input",17),p(),ae(12,VG,2,1,"span",18),p(),g(13,"div",13)(14,"label",19),y(15,"Password"),p(),g(16,"div",15)(17,"span",16),y(18,"lock"),p(),ce(19,"input",20),g(20,"button",21),Te("click",function(){vt(t);let r=Ce();return _t(r.hidePassword=!r.hidePassword)}),g(21,"span",10),y(22),p()()(),ae(23,zG,2,1,"span",18),p(),g(24,"button",22),ae(25,HG,2,0,"span",23)(26,jG,2,0,"span",23),p(),g(27,"div",24)(28,"p"),y(29,"Don't have an account? "),g(30,"button",25),Te("click",function(){vt(t);let r=Ce();return _t(r.toggleMode())}),y(31,"Register"),p()()()()}if(n&2){let t,i,r,o,s=Ce();V("formGroup",s.loginForm),S(11),Ke("error",((t=s.loginForm.get("email"))==null?null:t.invalid)&&((t=s.loginForm.get("email"))==null?null:t.touched)),S(),V("ngIf",((i=s.loginForm.get("email"))==null?null:i.invalid)&&((i=s.loginForm.get("email"))==null?null:i.touched)),S(7),Ke("error",((r=s.loginForm.get("password"))==null?null:r.invalid)&&((r=s.loginForm.get("password"))==null?null:r.touched)),V("type",s.hidePassword?"password":"text"),S(),Nt("aria-label",s.hidePassword?"Show password":"Hide password"),S(2),fe(s.hidePassword?"visibility":"visibility_off"),S(),V("ngIf",((o=s.loginForm.get("password"))==null?null:o.invalid)&&((o=s.loginForm.get("password"))==null?null:o.touched)),S(),Ke("submitting",s.isSubmitting),V("disabled",s.isSubmitting),S(),V("ngIf",!s.isSubmitting),S(),V("ngIf",s.isSubmitting)}}function WG(n,e){if(n&1&&(g(0,"span",26),y(1),p()),n&2){let t=Ce(2);S(),ct(" ",t.getErrorMessage("register","fullName")," ")}}function $G(n,e){if(n&1&&(g(0,"span",26),y(1),p()),n&2){let t=Ce(2);S(),ct(" ",t.getErrorMessage("register","email")," ")}}function qG(n,e){if(n&1&&(g(0,"span",26),y(1),p()),n&2){let t=Ce(2);S(),ct(" ",t.getErrorMessage("register","password")," ")}}function YG(n,e){if(n&1&&(g(0,"span",26),y(1),p()),n&2){let t=Ce(2);S(),ct(" ",t.getErrorMessage("register","confirmPassword")," ")}}function XG(n,e){n&1&&(g(0,"span"),y(1,"Create Account"),p())}function ZG(n,e){n&1&&(g(0,"span"),y(1,"Creating..."),p())}function KG(n,e){if(n&1){let t=gn();g(0,"form",11),Te("ngSubmit",function(){vt(t);let r=Ce();return _t(r.onRegister())}),g(1,"h2"),y(2,"Create Account"),p(),g(3,"p",12),y(4,"Register for admin access"),p(),g(5,"div",13)(6,"label",27),y(7,"Full Name"),p(),g(8,"div",15)(9,"span",16),y(10,"person"),p(),ce(11,"input",28),p(),ae(12,WG,2,1,"span",18),p(),g(13,"div",13)(14,"label",29),y(15,"Email Address"),p(),g(16,"div",15)(17,"span",16),y(18,"email"),p(),ce(19,"input",30),p(),ae(20,$G,2,1,"span",18),p(),g(21,"div",13)(22,"label",31),y(23,"Password"),p(),g(24,"div",15)(25,"span",16),y(26,"lock"),p(),ce(27,"input",32),g(28,"button",21),Te("click",function(){vt(t);let r=Ce();return _t(r.hidePassword=!r.hidePassword)}),g(29,"span",10),y(30),p()()(),ae(31,qG,2,1,"span",18),p(),g(32,"div",13)(33,"label",33),y(34,"Confirm Password"),p(),g(35,"div",15)(36,"span",16),y(37,"lock"),p(),ce(38,"input",34),p(),ae(39,YG,2,1,"span",18),p(),g(40,"button",22),ae(41,XG,2,0,"span",23)(42,ZG,2,0,"span",23),p(),g(43,"div",24)(44,"p"),y(45,"Already have an account? "),g(46,"button",25),Te("click",function(){vt(t);let r=Ce();return _t(r.toggleMode())}),y(47,"Sign In"),p()()()()}if(n&2){let t,i,r,o,s,a,c,l,d=Ce();V("formGroup",d.registerForm),S(11),Ke("error",((t=d.registerForm.get("fullName"))==null?null:t.invalid)&&((t=d.registerForm.get("fullName"))==null?null:t.touched)),S(),V("ngIf",((i=d.registerForm.get("fullName"))==null?null:i.invalid)&&((i=d.registerForm.get("fullName"))==null?null:i.touched)),S(7),Ke("error",((r=d.registerForm.get("email"))==null?null:r.invalid)&&((r=d.registerForm.get("email"))==null?null:r.touched)),S(),V("ngIf",((o=d.registerForm.get("email"))==null?null:o.invalid)&&((o=d.registerForm.get("email"))==null?null:o.touched)),S(7),Ke("error",((s=d.registerForm.get("password"))==null?null:s.invalid)&&((s=d.registerForm.get("password"))==null?null:s.touched)),V("type",d.hidePassword?"password":"text"),S(3),fe(d.hidePassword?"visibility":"visibility_off"),S(),V("ngIf",((a=d.registerForm.get("password"))==null?null:a.invalid)&&((a=d.registerForm.get("password"))==null?null:a.touched)),S(7),Ke("error",((c=d.registerForm.get("confirmPassword"))==null?null:c.invalid)&&((c=d.registerForm.get("confirmPassword"))==null?null:c.touched)),S(),V("ngIf",((l=d.registerForm.get("confirmPassword"))==null?null:l.invalid)&&((l=d.registerForm.get("confirmPassword"))==null?null:l.touched)),S(),Ke("submitting",d.isSubmitting),V("disabled",d.isSubmitting),S(),V("ngIf",!d.isSubmitting),S(),V("ngIf",d.isSubmitting)}}var m0=class n{constructor(e,t,i,r){this.fb=e;this.authService=t;this.router=i;this.route=r;this.authService.isAuthenticated&&this.router.navigate(["/admin/dashboard"]),this.loginForm=this.fb.group({email:["",[Ut.required,Ut.email]],password:["",[Ut.required,Ut.minLength(6)]]}),this.registerForm=this.fb.group({fullName:["",[Ut.required,Ut.minLength(2)]],email:["",[Ut.required,Ut.email]],password:["",[Ut.required,Ut.minLength(8)]],confirmPassword:["",Ut.required]},{validators:this.passwordMatchValidator})}loginForm;registerForm;isLoginMode=!0;isSubmitting=!1;errorMessage="";returnUrl="";hidePassword=!0;ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/admin/dashboard"}passwordMatchValidator(e){let t=e.get("password"),i=e.get("confirmPassword");return t&&i&&t.value!==i.value?(i.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}toggleMode(){this.isLoginMode=!this.isLoginMode,this.errorMessage=""}onLogin(){if(this.loginForm.valid&&!this.isSubmitting){this.isSubmitting=!0,this.errorMessage="";let{email:e,password:t}=this.loginForm.value;this.authService.login(e,t).subscribe({next:i=>{console.log("Login successful",i),this.router.navigate([this.returnUrl])},error:i=>{console.error("Login error:",i),this.errorMessage=i.error?.message||"Invalid email or password",this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}else this.markFormGroupTouched(this.loginForm)}onRegister(){if(this.registerForm.valid&&!this.isSubmitting){this.isSubmitting=!0,this.errorMessage="";let{fullName:e,email:t,password:i}=this.registerForm.value;this.authService.register(t,i,e).subscribe({next:r=>{console.log("Registration successful",r),this.router.navigate(["/admin/dashboard"])},error:r=>{console.error("Registration error:",r),this.errorMessage=r.error?.message||"Registration failed. Please try again.",this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}else this.markFormGroupTouched(this.registerForm)}markFormGroupTouched(e){Object.keys(e.controls).forEach(t=>{let i=e.get(t);i?.markAsTouched(),i instanceof ys&&this.markFormGroupTouched(i)})}getErrorMessage(e,t){let r=(e==="login"?this.loginForm:this.registerForm).get(t);return r?.hasError("required")?`${this.capitalizeFirstLetter(t)} is required`:r?.hasError("email")?"Please enter a valid email address":r?.hasError("minlength")?`Minimum ${r.errors?.minlength.requiredLength} characters required`:r?.hasError("passwordMismatch")?"Passwords do not match":""}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}static \u0275fac=function(t){return new(t||n)(ee(Nc),ee(Ws),ee(zn),ee(Ir))};static \u0275cmp=Fe({type:n,selectors:[["app-login"]],decls:12,vars:3,consts:[[1,"login-page"],[1,"login-container"],[1,"login-box"],[1,"login-header"],[1,"logo"],[1,"subtitle"],["class","error-alert","role","alert",4,"ngIf"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"bg-decoration"],["role","alert",1,"error-alert"],[1,"material-icons"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-description"],[1,"form-group"],["for","login-email"],[1,"input-wrapper"],[1,"material-icons","input-icon"],["type","email","id","login-email","formControlName","email","placeholder","admin@hyumanium.com","autocomplete","email"],["class","error-message",4,"ngIf"],["for","login-password"],["id","login-password","formControlName","password","placeholder","Enter your password","autocomplete","current-password",3,"type"],["type","button",1,"toggle-password",3,"click"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],[1,"form-footer"],["type","button",1,"link-btn",3,"click"],[1,"error-message"],["for","register-name"],["type","text","id","register-name","formControlName","fullName","placeholder","Enter your full name","autocomplete","name"],["for","register-email"],["type","email","id","register-email","formControlName","email","placeholder","admin@hyumanium.com","autocomplete","email"],["for","register-password"],["id","register-password","formControlName","password","placeholder","Create a password","autocomplete","new-password",3,"type"],["for","register-confirm-password"],["type","password","id","register-confirm-password","formControlName","confirmPassword","placeholder","Confirm your password","autocomplete","new-password"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),y(5,"HYUMANIUM"),p(),g(6,"p",5),y(7,"Admin Portal"),p()(),ae(8,UG,4,1,"div",6)(9,GG,32,15,"form",7)(10,KG,48,20,"form",7),p(),ce(11,"div",8),p()()),t&2&&(S(8),V("ngIf",i.errorMessage),S(),V("ngIf",i.isLoginMode),S(),V("ngIf",!i.isLoginMode))},dependencies:[Kn,Cs,qr,Ms,ws,wa,Ca],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#4584f3,#00b8a9);position:relative;overflow:hidden}.login-container[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:24px;position:relative;z-index:1}.login-box[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 20px 60px #0000004d;padding:64px 48px;position:relative;animation:_ngcontent-%COMP%_slideUp .6s ease}@media (max-width: 768px){.login-box[_ngcontent-%COMP%]{padding:48px 32px}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,#4584f3,#00b8a9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 8px}.login-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;margin:0}.auth-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#00264a;margin-bottom:8px;text-align:center}.auth-form[_ngcontent-%COMP%]   .form-description[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-bottom:32px;font-size:.95rem}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#00264a;font-weight:600;margin-bottom:8px;font-size:.95rem}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:16px;color:#fff;font-size:20px;pointer-events:none}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 16px 14px 48px;border:2px solid #e8ecf1;border-radius:12px;font-size:1rem;transition:all .3s ease}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4584f3;box-shadow:0 0 0 3px #4584f31a}.input-wrapper[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c}.input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:16px;background:none;border:none;color:#fff;cursor:pointer;padding:4px;display:flex;justify-content:center;align-items:center;transition:color .2s ease}.input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#4584f3}.input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.error-message[_ngcontent-%COMP%]{display:block;color:#e74c3c;font-size:.85rem;margin-top:4px}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 24px;background:#e74c3c1a;border:1px solid #e74c3c;border-radius:12px;color:#e74c3c;margin-bottom:24px;font-size:.9rem}.error-alert[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.btn-submit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;width:100%;padding:16px;font-size:1rem;margin-top:32px}.btn-submit[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-submit.submitting[_ngcontent-%COMP%]{background:#e8ecf1}.form-footer[_ngcontent-%COMP%]{text-align:center;margin-top:32px}.form-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:.95rem;margin:0}.form-footer[_ngcontent-%COMP%]   .link-btn[_ngcontent-%COMP%]{background:none;border:none;color:#4584f3;font-weight:600;cursor:pointer;padding:0;transition:color .2s ease}.form-footer[_ngcontent-%COMP%]   .link-btn[_ngcontent-%COMP%]:hover{color:#00b8a9;text-decoration:underline}.bg-decoration[_ngcontent-%COMP%]{position:absolute;top:-50%;right:-20%;width:800px;height:800px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%;pointer-events:none}@media (max-width: 1024px){.bg-decoration[_ngcontent-%COMP%]{width:600px;height:600px}}"]})};function QG(n,e){if(n&1){let t=gn();g(0,"button",6),Te("click",function(){vt(t);let r=Ce();return _t(r.showCreateForm())}),g(1,"span",7),y(2,"add"),p(),y(3," Create New Blog "),p()}}function JG(n,e){if(n&1&&(g(0,"option",42),y(1),p()),n&2){let t=e.$implicit;V("value",t),S(),fe(t)}}function e7(n,e){if(n&1&&ce(0,"img",43),n&2){let t=Ce(2);V("src",t.previewMainImage,jt)}}function t7(n,e){if(n&1&&ce(0,"img",43),n&2){let t=Ce(2);V("src",t.previewImage1,jt)}}function n7(n,e){if(n&1&&ce(0,"img",43),n&2){let t=Ce(2);V("src",t.previewImage2,jt)}}function i7(n,e){if(n&1){let t=gn();g(0,"div",8)(1,"div",9)(2,"h2"),y(3),p(),g(4,"button",10),Te("click",function(){vt(t);let r=Ce();return _t(r.cancelForm())}),g(5,"span",7),y(6,"close"),p()()(),g(7,"form",11),Te("ngSubmit",function(){vt(t);let r=Ce();return _t(r.onSubmit())}),g(8,"div",12)(9,"div",13)(10,"label",14),y(11,"Title *"),p(),ce(12,"input",15),p()(),g(13,"div",13)(14,"label",16),y(15,"Content *"),p(),ce(16,"textarea",17),p(),g(17,"div",13)(18,"label",18),y(19,"Excerpt *"),p(),ce(20,"textarea",19),p(),g(21,"div",12)(22,"div",13)(23,"label",20),y(24,"Author *"),p(),ce(25,"input",21),p(),g(26,"div",13)(27,"label",22),y(28,"Credentials *"),p(),ce(29,"input",23),p()(),g(30,"div",12)(31,"div",13)(32,"label",24),y(33,"Category *"),p(),g(34,"select",25)(35,"option",26),y(36,"Select category"),p(),ae(37,JG,2,2,"option",27),p()(),g(38,"div",13)(39,"label",28),y(40,"Tags *"),p(),ce(41,"input",29),p()(),g(42,"div",13)(43,"label",30),y(44,"Main Image *"),p(),g(45,"input",31),Te("change",function(r){vt(t);let o=Ce();return _t(o.onMainImageSelected(r))}),p(),ae(46,e7,1,1,"img",32),p(),g(47,"div",12)(48,"div",13)(49,"label",33),y(50,"Image 1 (Optional)"),p(),g(51,"input",34),Te("change",function(r){vt(t);let o=Ce();return _t(o.onImage1Selected(r))}),p(),ae(52,t7,1,1,"img",32),p(),g(53,"div",13)(54,"label",35),y(55,"Image 2 (Optional)"),p(),g(56,"input",36),Te("change",function(r){vt(t);let o=Ce();return _t(o.onImage2Selected(r))}),p(),ae(57,n7,1,1,"img",32),p()(),g(58,"div",13)(59,"label",37),ce(60,"input",38),y(61," Publish immediately "),p()(),g(62,"div",39)(63,"button",40),Te("click",function(){vt(t);let r=Ce();return _t(r.cancelForm())}),y(64,"Cancel"),p(),g(65,"button",41),y(66),p()()()()}if(n&2){let t=Ce();S(3),fe(t.isEditing?"Edit Blog":"Create New Blog"),S(4),V("formGroup",t.blogForm),S(30),V("ngForOf",t.categories),S(9),V("ngIf",t.previewMainImage),S(6),V("ngIf",t.previewImage1),S(5),V("ngIf",t.previewImage2),S(8),V("disabled",t.isSubmitting),S(),ct(" ",t.isSubmitting?"Saving...":t.isEditing?"Update Blog":"Create Blog"," ")}}function r7(n,e){if(n&1){let t=gn();g(0,"div",46)(1,"div",47),ce(2,"img",48),p(),g(3,"div",49)(4,"h3"),y(5),p(),g(6,"p"),y(7),p(),g(8,"div",50)(9,"span",51),y(10),p(),g(11,"span",52),y(12),p()()(),g(13,"div",53)(14,"button",54),Te("click",function(){let r=vt(t).$implicit,o=Ce(2);return _t(o.editBlog(r))}),g(15,"span",7),y(16,"edit"),p()(),g(17,"button",55),Te("click",function(){let r=vt(t).$implicit,o=Ce(2);return _t(o.deleteBlog(r.id))}),g(18,"span",7),y(19,"delete"),p()()()()}if(n&2){let t=e.$implicit;S(2),V("src",t.mainImage,jt)("alt",t.title),S(3),fe(t.title),S(2),fe(t.excerpt),S(3),fe(t.category),S(),Ke("published",t.published),S(),ct(" ",t.published?"Published":"Draft"," ")}}function o7(n,e){if(n&1&&(g(0,"div",44),ae(1,r7,20,8,"div",45),p()),n&2){let t=Ce();S(),V("ngForOf",t.blogs)}}var Lu=class n{constructor(e,t){this.fb=e;this.blogService=t;this.blogForm=this.fb.group({title:["",[Ut.required,Ut.maxLength(200)]],content:["",Ut.required],excerpt:["",[Ut.required,Ut.maxLength(500)]],author:["",Ut.required],credentials:["",Ut.required],tags:["",Ut.required],category:["",Ut.required],published:[!1],metaTitle:[""],metaDescription:[""]})}blogs=[];blogForm;isEditing=!1;currentBlogId;selectedMainImage;selectedImage1;selectedImage2;previewMainImage;previewImage1;previewImage2;isSubmitting=!1;showForm=!1;categories=["Mental Health","HR Consulting","Training","Workplace Wellness","Leadership"];ngOnInit(){this.loadBlogs()}loadBlogs(){this.blogService.getAllBlogs().subscribe({next:e=>{this.blogs=e},error:e=>{console.error("Error loading blogs:",e),alert("Error loading blogs")}})}onMainImageSelected(e){let t=e.target.files[0];if(t){this.selectedMainImage=t;let i=new FileReader;i.onload=r=>{this.previewMainImage=r.target.result},i.readAsDataURL(t)}}onImage1Selected(e){let t=e.target.files[0];if(t){this.selectedImage1=t;let i=new FileReader;i.onload=r=>{this.previewImage1=r.target.result},i.readAsDataURL(t)}}onImage2Selected(e){let t=e.target.files[0];if(t){this.selectedImage2=t;let i=new FileReader;i.onload=r=>{this.previewImage2=r.target.result},i.readAsDataURL(t)}}showCreateForm(){this.showForm=!0,this.isEditing=!1,this.blogForm.reset({published:!1}),this.clearPreviews()}editBlog(e){this.showForm=!0,this.isEditing=!0,this.currentBlogId=e.id,this.blogForm.patchValue({title:e.title,content:e.content,excerpt:e.excerpt,author:e.author,credentials:e.credentials,tags:e.tags.join(", "),category:e.category,published:e.published,metaTitle:e.metaTitle,metaDescription:e.metaDescription}),this.previewMainImage=e.mainImage,this.previewImage1=e.image1,this.previewImage2=e.image2}onSubmit(){if(this.blogForm.valid&&!this.isSubmitting){this.isSubmitting=!0;let e=new FormData,t=this.blogForm.value;e.append("title",t.title),e.append("content",t.content),e.append("excerpt",t.excerpt),e.append("author",t.author),e.append("credentials",t.credentials),e.append("category",t.category),e.append("published",t.published),t.tags.split(",").map(r=>r.trim()).forEach(r=>{e.append("tags",r)}),t.metaTitle&&e.append("metaTitle",t.metaTitle),t.metaDescription&&e.append("metaDescription",t.metaDescription),this.selectedMainImage&&e.append("mainImage",this.selectedMainImage),this.selectedImage1&&e.append("image1",this.selectedImage1),this.selectedImage2&&e.append("image2",this.selectedImage2),this.isEditing&&this.currentBlogId?this.blogService.updateBlog(this.currentBlogId,e).subscribe({next:()=>{alert("Blog updated successfully"),this.loadBlogs(),this.cancelForm()},error:r=>{console.error("Error updating blog:",r),alert("Error updating blog"),this.isSubmitting=!1}}):this.blogService.createBlog(e).subscribe({next:()=>{alert("Blog created successfully"),this.loadBlogs(),this.cancelForm()},error:r=>{console.error("Error creating blog:",r),alert("Error creating blog"),this.isSubmitting=!1}})}}deleteBlog(e){confirm("Are you sure you want to delete this blog?")&&this.blogService.deleteBlog(e).subscribe({next:()=>{alert("Blog deleted successfully"),this.loadBlogs()},error:t=>{console.error("Error deleting blog:",t),alert("Error deleting blog")}})}cancelForm(){this.showForm=!1,this.isEditing=!1,this.currentBlogId=void 0,this.blogForm.reset(),this.clearPreviews(),this.isSubmitting=!1}clearPreviews(){this.selectedMainImage=void 0,this.selectedImage1=void 0,this.selectedImage2=void 0,this.previewMainImage=void 0,this.previewImage1=void 0,this.previewImage2=void 0}static \u0275fac=function(t){return new(t||n)(ee(Nc),ee(Xr))};static \u0275cmp=Fe({type:n,selectors:[["app-blog-management"]],decls:8,vars:3,consts:[[1,"blog-management-page"],[1,"container"],[1,"page-header"],["class","btn-primary",3,"click",4,"ngIf"],["class","blog-form-section",4,"ngIf"],["class","blogs-list",4,"ngIf"],[1,"btn-primary",3,"click"],[1,"material-icons"],[1,"blog-form-section"],[1,"form-header"],[1,"btn-close",3,"click"],[1,"blog-form",3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Enter blog title"],["for","content"],["id","content","formControlName","content","rows","10","placeholder","Write your blog content..."],["for","excerpt"],["id","excerpt","formControlName","excerpt","rows","3","placeholder","Brief summary..."],["for","author"],["type","text","id","author","formControlName","author","placeholder","Author name"],["for","credentials"],["type","text","id","credentials","formControlName","credentials","placeholder","e.g., Ph.D. Clinical Psychology"],["for","category"],["id","category","formControlName","category"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","tags"],["type","text","id","tags","formControlName","tags","placeholder","Comma separated tags"],["for","mainImage"],["type","file","id","mainImage","accept","image/*",3,"change"],["alt","Preview","class","image-preview",3,"src",4,"ngIf"],["for","image1"],["type","file","id","image1","accept","image/*",3,"change"],["for","image2"],["type","file","id","image2","accept","image/*",3,"change"],[1,"checkbox-label"],["type","checkbox","formControlName","published"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[3,"value"],["alt","Preview",1,"image-preview",3,"src"],[1,"blogs-list"],["class","blog-item",4,"ngFor","ngForOf"],[1,"blog-item"],[1,"blog-item-image"],[3,"src","alt"],[1,"blog-item-content"],[1,"blog-item-meta"],[1,"category"],[1,"status"],[1,"blog-item-actions"],[1,"btn-icon",3,"click"],[1,"btn-icon","delete",3,"click"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),y(4,"Blog Management"),p(),ae(5,QG,4,0,"button",3),p(),ae(6,i7,67,8,"div",4)(7,o7,2,1,"div",5),p()()),t&2&&(S(5),V("ngIf",!i.showForm),S(),V("ngIf",i.showForm),S(),V("ngIf",!i.showForm))},dependencies:[Rt,Kn,Cs,Op,Rp,qr,_y,kc,Ms,ws,wa,Ca]})};var s7=[{path:"",component:dm},{path:"about",component:o0},{path:"clients",component:c0},{path:"trainings",component:l0},{path:"counseling",component:d0},{path:"interventions",component:u0},{path:"blogs",component:h0},{path:"blogs/:slug",component:f0},{path:"contact",component:p0},{path:"admin/login",component:m0},{path:"admin/dashboard",component:Lu,canActivate:[Fu]},{path:"admin/blogs",component:Lu,canActivate:[Fu]},{path:"**",redirectTo:""}],g0=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Be({type:n});static \u0275inj=Le({imports:[kx.forRoot(s7,{scrollPositionRestoration:"top",anchorScrolling:"enabled"}),kx]})};function a7(n,e){if(n&1&&(g(0,"li",11)(1,"a",12),y(2),p()()),n&2){let t=e.$implicit,i=Ce();S(),Ke("active",i.isActiveRoute(t.route,t.exact)),V("routerLink",t.route),Nt("aria-current",i.isActiveRoute(t.route,t.exact)?"page":null),S(),ct(" ",t.label," ")}}var v0=class n{constructor(e){this.router=e}isScrolled=!1;isMobileMenuOpen=!1;currentRoute="";navItems=[{label:"Home",route:"/",exact:!0},{label:"About Us",route:"/about"},{label:"Our Clients",route:"/clients"},{label:"Trainings",route:"/trainings"},{label:"Counseling",route:"/counseling"},{label:"Interventions",route:"/interventions"},{label:"Blogs",route:"/blogs"},{label:"Contact",route:"/contact"}];ngOnInit(){this.router.events.pipe(xn(e=>e instanceof rr)).subscribe(e=>{this.currentRoute=e.url,this.isMobileMenuOpen=!1})}onWindowScroll(){this.isScrolled=window.scrollY>50}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}isActiveRoute(e,t=!1){return t?this.currentRoute===e:this.currentRoute.startsWith(e)}static \u0275fac=function(t){return new(t||n)(ee(zn))};static \u0275cmp=Fe({type:n,selectors:[["app-navbar"]],hostBindings:function(t,i){t&1&&Te("scroll",function(){return i.onWindowScroll()},!1,yf)},decls:13,vars:8,consts:[["role","navigation","aria-label","Main navigation",1,"navbar"],[1,"container","navbar-container"],[1,"navbar-brand"],["routerLink","/","aria-label","HYUMANIUM Home",1,"logo"],[1,"logo-text"],["aria-label","Toggle navigation menu","type","button",1,"mobile-menu-toggle",3,"click"],[1,"hamburger"],[1,"navbar-menu"],[1,"nav-links"],["class","nav-item",4,"ngFor","ngForOf"],["routerLink","/contact","aria-label","Get started with HYUMANIUM",1,"cta-button"],[1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(t,i){t&1&&(g(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"h1",4),y(5,"HYUMANIUM"),p()()(),g(6,"button",5),Te("click",function(){return i.toggleMobileMenu()}),ce(7,"span",6),p(),g(8,"div",7)(9,"ul",8),ae(10,a7,3,5,"li",9),p(),g(11,"a",10),y(12," Get Started "),p()()()()),t&2&&(Ke("scrolled",i.isScrolled),S(6),Nt("aria-expanded",i.isMobileMenuOpen),S(),Ke("active",i.isMobileMenuOpen),S(),Ke("active",i.isMobileMenuOpen),S(2),V("ngForOf",i.navItems))},dependencies:[Rt,An],styles:['.navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background:#fffffff2;backdrop-filter:blur(10px);box-shadow:0 2px 8px #00264a0d;transition:all .3s ease}.navbar.scrolled[_ngcontent-%COMP%]{box-shadow:0 4px 16px #00264a1f;background:#fffffffa}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;min-height:80px}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{padding:16px}}.navbar-brand[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#4584f3,#00b8a9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0;letter-spacing:-.5px}.navbar-menu[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:32px}@media (max-width: 1024px){.navbar-menu[_ngcontent-%COMP%]{position:fixed;top:80px;left:0;right:0;background:#fff;flex-direction:column;padding:24px;box-shadow:0 8px 32px #00264a29;transform:translateY(-100%);opacity:0;visibility:hidden;transition:all .3s ease}.navbar-menu.active[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;visibility:visible}}.nav-links[_ngcontent-%COMP%]{display:flex;list-style:none;gap:24px;align-items:center}@media (max-width: 1024px){.nav-links[_ngcontent-%COMP%]{flex-direction:column;width:100%;gap:16px}}.nav-item[_ngcontent-%COMP%]{position:relative}.nav-link[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:500;font-size:.95rem;color:#2c3e50;padding:8px 12px;border-radius:8px;transition:all .2s ease;position:relative;display:block}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:4px;left:50%;transform:translate(-50%) scaleX(0);width:80%;height:2px;background:#4584f3;transition:transform .2s ease}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#4584f3}.nav-link[_ngcontent-%COMP%]:hover:after, .nav-link.active[_ngcontent-%COMP%]:after{transform:translate(-50%) scaleX(1)}@media (max-width: 1024px){.nav-link[_ngcontent-%COMP%]{width:100%;padding:16px;text-align:center;font-size:1.1rem}}.cta-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border-radius:12px;font-family:Montserrat,sans-serif;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #00264a1f;padding:10px 24px;font-size:.95rem;white-space:nowrap}.cta-button[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #00264a29;transform:translateY(-2px)}.cta-button[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 1024px){.cta-button[_ngcontent-%COMP%]{width:100%;text-align:center}}.mobile-menu-toggle[_ngcontent-%COMP%]{display:none;background:none;border:none;padding:8px;cursor:pointer}@media (max-width: 1024px){.mobile-menu-toggle[_ngcontent-%COMP%]{display:block}}.mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]{display:block;width:28px;height:2px;background:#00264a;position:relative;transition:all .3s ease}.mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]:before, .mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:#00264a;transition:all .3s ease}.mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]:before{top:-8px}.mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]:after{bottom:-8px}.mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger.active[_ngcontent-%COMP%]{background:transparent}.mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger.active[_ngcontent-%COMP%]:before{top:0;transform:rotate(45deg)}.mobile-menu-toggle[_ngcontent-%COMP%]   .hamburger.active[_ngcontent-%COMP%]:after{bottom:0;transform:rotate(-45deg)}']})};function l7(n,e){if(n&1&&(g(0,"a",23)(1,"span",14),y(2),p()()),n&2){let t=e.$implicit;V("href",t.url,jt),Nt("aria-label",t.label),S(2),fe(t.icon)}}function d7(n,e){if(n&1&&(g(0,"li")(1,"a",24)(2,"span",14),y(3,"arrow_right"),p(),g(4,"span",25),y(5),p()()()),n&2){let t=e.$implicit;S(),V("routerLink",t.route),S(4),fe(t.label)}}function u7(n,e){if(n&1&&(g(0,"li")(1,"a",24)(2,"span",14),y(3,"arrow_right"),p(),g(4,"span",25),y(5),p()()()),n&2){let t=e.$implicit;S(),V("routerLink",t.route),S(4),fe(t.label)}}var _0=class n{currentYear=new Date().getFullYear();quickLinks=[{label:"About Us",route:"/about"},{label:"Our Services",route:"/trainings"},{label:"Blogs",route:"/blogs"},{label:"Contact",route:"/contact"}];services=[{label:"Psychological Counseling",route:"/counseling"},{label:"Mental Health Interventions",route:"/interventions"},{label:"Training Programs",route:"/trainings"},{label:"Employee Assistance",route:"/trainings"}];socialLinks=[{icon:"facebook",url:"https://facebook.com/hyumanium",label:"Facebook"},{icon:"twitter",url:"https://twitter.com/hyumanium",label:"Twitter"},{icon:"linkedin",url:"https://linkedin.com/company/hyumanium",label:"LinkedIn"},{icon:"instagram",url:"https://instagram.com/hyumanium",label:"Instagram"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-footer"]],decls:72,vars:4,consts:[[1,"footer"],[1,"footer-main"],[1,"container"],[1,"footer-grid"],[1,"footer-section","footer-section--brand"],[1,"footer-logo"],[1,"footer-tagline"],[1,"footer-description"],[1,"social-links"],["target","_blank","rel","noopener noreferrer","class","social-icon",3,"href",4,"ngFor","ngForOf"],[1,"footer-section"],[1,"footer-links"],[4,"ngFor","ngForOf"],[1,"contact-info"],[1,"material-icons"],["href","mailto:HR@hyumanium.com"],[1,"footer-bottom"],[1,"footer-bottom-content"],[1,"footer-bottom-links"],["routerLink","/privacy-policy"],[1,"separator"],["routerLink","/terms"],["routerLink","/sitemap"],["target","_blank","rel","noopener noreferrer",1,"social-icon",3,"href"],[3,"routerLink"],[1,"link-text"]],template:function(t,i){t&1&&(g(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),y(6,"HYUMANIUM"),p(),g(7,"p",6),y(8," Your Partner in Mental Well-Being & HR Consulting "),p(),g(9,"p",7),y(10," Empowering individuals and organizations since 2015 with expert psychological services and innovative HR solutions. "),p(),g(11,"div",8),ae(12,l7,3,3,"a",9),p()(),g(13,"div",10)(14,"h4"),y(15,"Quick Links"),p(),g(16,"ul",11),ae(17,d7,6,2,"li",12),p()(),g(18,"div",10)(19,"h4"),y(20,"Our Services"),p(),g(21,"ul",11),ae(22,u7,6,2,"li",12),p()(),g(23,"div",10)(24,"h4"),y(25,"Contact Us"),p(),g(26,"ul",13)(27,"li")(28,"span",14),y(29,"location_on"),p(),g(30,"div")(31,"strong"),y(32,"Office Address"),p(),g(33,"p"),y(34,"OFFICE# 405, LEVEL1, SOUTH EXT-II"),ce(35,"br"),y(36,"TDI CITY, MOHALI"),p()()(),g(37,"li")(38,"span",14),y(39,"email"),p(),g(40,"div")(41,"strong"),y(42,"Email"),p(),g(43,"p")(44,"a",15),y(45,'HR"@hyumanium.com'),p()()()(),g(46,"li")(47,"span",14),y(48,"schedule"),p(),g(49,"div")(50,"strong"),y(51,"Working Hours"),p(),g(52,"p"),y(53,"Mon - Fri: 09:00 AM - 05:00 PM"),ce(54,"br"),y(55,"Sat: By Appointment"),p()()()()()()()(),g(56,"div",16)(57,"div",2)(58,"div",17)(59,"p"),y(60),p(),g(61,"div",18)(62,"a",19),y(63,"Privacy Policy"),p(),g(64,"span",20),y(65,"\u2022"),p(),g(66,"a",21),y(67,"Terms of Service"),p(),g(68,"span",20),y(69,"\u2022"),p(),g(70,"a",22),y(71,"Sitemap"),p()()()()()()),t&2&&(S(12),V("ngForOf",i.socialLinks),S(5),V("ngForOf",i.quickLinks),S(5),V("ngForOf",i.services),S(38),ct("\xA9 ",i.currentYear," HYUMANIUM LTD. All rights reserved."))},dependencies:[Rt,An],styles:[".footer[_ngcontent-%COMP%]{background:#00264a;color:#ffffffe6;position:relative;z-index:999;margin-top:auto;width:100%}.footer-main[_ngcontent-%COMP%]{padding:64px 0 48px}@media (max-width: 768px){.footer-main[_ngcontent-%COMP%]{padding:48px 0 32px}}.footer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1.5fr;gap:48px}@media (max-width: 1024px){.footer-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:32px}}@media (max-width: 768px){.footer-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.footer-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .footer-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin-bottom:24px;font-size:1.2rem}.footer-logo[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#00b8a9,#fff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:16px}.footer-tagline[_ngcontent-%COMP%]{color:#00b8a9;font-weight:600;margin-bottom:16px}.footer-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;margin-bottom:24px;color:#ffffffb3}.social-links[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:24px}.social-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;justify-content:center;align-items:center;background:#ffffff1a;border-radius:50%;color:#fff;transition:all .3s ease}.social-icon[_ngcontent-%COMP%]:hover{background:#00b8a9;transform:translateY(-4px)}.social-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.footer-links[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:16px}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#ffffffb3;transition:all .2s ease;font-size:.95rem}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;transition:transform .2s ease}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00b8a9;padding-left:4px}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{transform:translate(4px)}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;align-items:flex-start}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#00b8a9;font-size:24px;flex-shrink:0}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#fff;margin-bottom:4px}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#ffffffb3;margin:0;line-height:1.6}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffffb3}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00b8a9}.footer-bottom[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1);padding:24px 0;margin:0}.footer-bottom-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:24px}@media (max-width: 768px){.footer-bottom-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.footer-bottom-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#fff9}.footer-bottom-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.footer-bottom-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff9;font-size:.9rem;transition:color .2s ease}.footer-bottom-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00b8a9}.footer-bottom-links[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#ffffff4d}"]})};function f7(n,e){if(n&1){let t=gn();g(0,"button",1),Te("click",function(){vt(t);let r=Ce();return _t(r.scrollToTop())}),g(1,"span",2),y(2,"arrow_upward"),p()()}}var b0=class n{isVisible=!1;onWindowScroll(){this.isVisible=window.scrollY>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Fe({type:n,selectors:[["app-scroll-to-top"]],hostBindings:function(t,i){t&1&&Te("scroll",function(){return i.onWindowScroll()},!1,yf)},decls:1,vars:1,consts:[["class","scroll-to-top","aria-label","Scroll to top","type","button",3,"click",4,"ngIf"],["aria-label","Scroll to top","type","button",1,"scroll-to-top",3,"click"],[1,"material-icons"]],template:function(t,i){t&1&&ae(0,f7,3,0,"button",0),t&2&&V("ngIf",i.isVisible)},dependencies:[Kn],styles:[".scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:32px;right:32px;width:50px;height:50px;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#4584f3,#00b8a9);color:#fff;border:none;border-radius:50%;cursor:pointer;box-shadow:0 8px 32px #00264a29;z-index:999;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeInUp .5s ease}@media (max-width: 768px){.scroll-to-top[_ngcontent-%COMP%]{bottom:24px;right:24px;width:45px;height:45px}}.scroll-to-top[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 12px 48px #00264a33}.scroll-to-top[_ngcontent-%COMP%]:active{transform:translateY(-2px) scale(1)}.scroll-to-top[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};var y0=class n{constructor(e){this.http=e}forecasts=[];ngOnInit(){this.getForecasts()}getForecasts(){this.http.get("/weatherforecast").subscribe(e=>{this.forecasts=e},e=>{console.error(e)})}title="hyumanium_websites.client";static \u0275fac=function(t){return new(t||n)(ee(ga))};static \u0275cmp=Fe({type:n,selectors:[["app-root"]],decls:5,vars:0,template:function(t,i){t&1&&(ce(0,"app-navbar"),g(1,"main"),ce(2,"router-outlet"),p(),ce(3,"app-footer")(4,"app-scroll-to-top"))},dependencies:[Tx,v0,_0,b0],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh;text-align:center}app-router-outlet[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}router-outlet[_ngcontent-%COMP%]{display:none}app-footer[_ngcontent-%COMP%]{margin-top:auto}"]})};var x0=class n{constructor(e){this.authService=e}intercept(e,t){let i=this.authService.getToken();return i&&(e=e.clone({setHeaders:{Authorization:`Bearer ${i}`}})),t.handle(e)}static \u0275fac=function(t){return new(t||n)(Y(Ws))};static \u0275prov=le({token:n,factory:n.\u0275fac})};var M0=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Be({type:n,bootstrap:[y0]});static \u0275inj=Le({providers:[{provide:Sb,useClass:x0,multi:!0}],imports:[ep,g0,sT,xI,zT,VT,aD,cD,uD,Ta,CD,TD,DD,AD]})};TI().bootstrapModule(M0,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
